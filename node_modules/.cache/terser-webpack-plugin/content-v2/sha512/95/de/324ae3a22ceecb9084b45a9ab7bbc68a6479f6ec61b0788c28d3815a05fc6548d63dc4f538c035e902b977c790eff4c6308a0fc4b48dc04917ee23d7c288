{"code":"(this.webpackJsonpschooladmin=this.webpackJsonpschooladmin||[]).push([[0],[,,,,,,,,,,,function(e,t,a){},,,,,,,,,,,,,function(e,t,a){},,function(e,t,a){},function(e,t,a){},,,,,,,,,,,,function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){\"use strict\";a.r(t);var s=a(1),c=a(16),l=a.n(c),n=(a(24),a(6)),i=a(5);function r(e){const t=e.startsWith(\"/\")?e:\"/\".concat(e),a=Object({NODE_ENV:\"production\",PUBLIC_URL:\"\",WDS_SOCKET_HOST:\"localhost\",WDS_SOCKET_PATH:\"/ws\",WDS_SOCKET_PORT:\"3000\",FAST_REFRESH:!0}).REACT_APP_API_BASE_URL||\"https://4.198.16.72.nip.io\";return\"\".concat(a).concat(t)}function d(e){if(!e)throw new Error(\"Authentication token is required. Please log in again.\");return{Accept:\"application/json\",\"Content-Type\":\"application/json\",Authorization:\"Bearer \".concat(e)}}function o(e){const t=\"\".replace(/\\/$/,\"\"),a=e.startsWith(\"/\")?e:\"/\".concat(e);return\"\".concat(t).concat(a)}var j=a(0);const b=Object(s.createContext)(null),m=18e5;function h(e){let{children:t}=e;const[a,c]=Object(s.useState)(null),[l,n]=Object(s.useState)(null),[i,d]=Object(s.useState)(!1),o=Object(s.useRef)(null),h=Object(s.useRef)(Date.now());Object(s.useEffect)(()=>{try{const t=window.sessionStorage.getItem(\"authToken\"),a=window.sessionStorage.getItem(\"authUser\");if(t&&c(t),a)try{n(JSON.parse(a))}catch(e){n(null)}}catch(e){n(null)}d(!0)},[]),Object(s.useEffect)(()=>{if(!a)return;const e=()=>{window.sessionStorage.removeItem(\"authToken\"),window.sessionStorage.removeItem(\"authUser\")};return window.addEventListener(\"beforeunload\",e),()=>{window.removeEventListener(\"beforeunload\",e)}},[a]);const u=Object(s.useCallback)(async(e,t)=>{const a=Object({NODE_ENV:\"production\",PUBLIC_URL:\"\",WDS_SOCKET_HOST:\"localhost\",WDS_SOCKET_PATH:\"/ws\",WDS_SOCKET_PORT:\"3000\",FAST_REFRESH:!0}).REACT_APP_LOGIN_ENDPOINT||r(\"/midland/auth/admin/login\");try{const l=await fetch(a,{method:\"POST\",headers:{\"Content-Type\":\"application/json\",Accept:\"application/json\"},body:JSON.stringify({email:e,password:t})});if(!l.ok){const e=await l.text().catch(()=>\"\");if(404===l.status)throw new Error(\"Login endpoint not found (404). URL: \".concat(a,\". Please check the API endpoint configuration.\"));if(403===l.status)throw new Error(\"Access forbidden (403). The server rejected the request. This may be a CORS or authentication issue. Check backend configuration.\");try{const t=JSON.parse(e);throw new Error(t.message||t.error||\"Login failed: \".concat(l.status,\" \").concat(l.statusText))}catch(s){throw new Error(e||\"Login failed: \".concat(l.status,\" \").concat(l.statusText))}}const i=await l.json();if(!i)throw new Error(\"No response from server\");const r=i.token||i.accessToken||i.jwt,d=i.username,o={email:e,username:d||e,role:i.role||\"USER\"};if(!r)throw new Error(\"No token returned by server\");return window.sessionStorage.setItem(\"authToken\",r),window.sessionStorage.setItem(\"authUser\",JSON.stringify(o)),c(r),n(o),!0}catch(l){throw l}},[]),O=Object(s.useCallback)(async(e,t)=>u(e,t),[u]),x=Object(s.useCallback)(()=>{window.sessionStorage.removeItem(\"authToken\"),window.sessionStorage.removeItem(\"authUser\"),window.localStorage.removeItem(\"authToken\"),window.localStorage.removeItem(\"authUser\"),c(null),n(null)},[]);Object(s.useEffect)(()=>{if(!a)return void(o.current&&(clearTimeout(o.current),o.current=null));const e=()=>{h.current=Date.now(),o.current&&clearTimeout(o.current),o.current=setTimeout(()=>{Date.now()-h.current>=m&&x()},m)},t=[\"mousedown\",\"mousemove\",\"keypress\",\"scroll\",\"touchstart\"];return t.forEach(t=>window.addEventListener(t,e,!0)),e(),()=>{t.forEach(t=>window.removeEventListener(t,e,!0)),o.current&&clearTimeout(o.current)}},[a,x]);const v={token:a,user:l,isReady:i,login:u,register:O,logout:x};return Object(j.jsx)(b.Provider,{value:v,children:t})}function u(){const e=Object(s.useContext)(b);if(!e)throw new Error(\"useAuth must be used within AuthProvider\");return e}function O(e){let{children:t}=e;const{token:a,isReady:c}=u(),l=Object(i.q)();return Object(s.useEffect)(()=>{c&&!a&&l(\"/login\",{replace:!0})},[a,c,l]),c?a?t:null:Object(j.jsx)(\"div\",{style:{display:\"flex\",justifyContent:\"center\",alignItems:\"center\",height:\"100vh\"},children:\"Loading...\"})}const x=Object(s.createContext)(null);function v(e){let{children:t}=e;const[a,c]=Object(s.useState)(()=>{try{return window.localStorage.getItem(\"theme\")||\"light\"}catch(e){return\"light\"}});Object(s.useEffect)(()=>{try{window.localStorage.setItem(\"theme\",a),document.documentElement.setAttribute(\"data-theme\",a)}catch(e){}},[a]);const l={theme:a,toggleTheme:()=>{c(e=>\"light\"===e?\"dark\":\"light\")},isDark:\"dark\"===a};return Object(j.jsx)(x.Provider,{value:l,children:t})}var g=a(2);a(11);var p=e=>{let{message:t,type:a=\"info\",onClose:c,duration:l=5e3}=e;Object(s.useEffect)(()=>{if(l>0){const e=setTimeout(()=>{c()},l);return()=>clearTimeout(e)}},[l,c]);const n={success:g.m,error:g.b,warning:g.c,info:g.x},i=n[a]||n.info;return Object(j.jsxs)(\"div\",{className:\"toast toast-\".concat(a),children:[Object(j.jsxs)(\"div\",{className:\"toast-content\",children:[Object(j.jsx)(i,{className:\"toast-icon\",size:20}),Object(j.jsx)(\"span\",{className:\"toast-message\",children:t})]}),Object(j.jsx)(\"button\",{className:\"toast-close\",onClick:c,\"aria-label\":\"Close\",children:Object(j.jsx)(g.O,{size:18})})]})};function N(e){let{toasts:t,removeToast:a}=e;return Object(j.jsx)(\"div\",{className:\"toast-container\",children:t.map(e=>Object(j.jsx)(p,{message:e.message,type:e.type,onClose:()=>a(e.id),duration:e.duration},e.id))})}const f=Object(s.createContext)(null);function y(e){let{children:t}=e;const[a,c]=Object(s.useState)([]),l=Object(s.useCallback)(function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:\"info\",a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:5e3;const s=Date.now()+Math.random();return c(c=>[...c,{id:s,message:e,type:t,duration:a}]),s},[]),n=Object(s.useCallback)(e=>{c(t=>t.filter(t=>t.id!==e))},[]),i=Object(s.useCallback)((e,t)=>l(e,\"success\",t),[l]),r=Object(s.useCallback)((e,t)=>l(e,\"error\",t),[l]),d=Object(s.useCallback)((e,t)=>l(e,\"warning\",t),[l]),o=Object(s.useCallback)((e,t)=>l(e,\"info\",t),[l]),b={addToast:l,removeToast:n,success:i,error:r,warning:d,info:o};return Object(j.jsxs)(f.Provider,{value:b,children:[t,Object(j.jsx)(N,{toasts:a,removeToast:n})]})}function C(){const e=Object(s.useContext)(f);if(!e)throw new Error(\"useToast must be used within ToastProvider\");return e}function S(){return Object(j.jsx)(g.y,{className:\"icon-left\"})}function w(){return Object(j.jsx)(g.z,{className:\"icon-left\"})}function E(){const e=Object(i.q)(),t=u(),[a,c]=Object(s.useState)(\"\"),[l,n]=Object(s.useState)(\"\"),[r,d]=Object(s.useState)(!1),[b,m]=Object(s.useState)(\"\"),[h,O]=Object(s.useState)(!1);return Object(j.jsxs)(\"div\",{className:\"login-layout\",children:[Object(j.jsx)(\"div\",{className:\"login-hero\",style:{backgroundImage:\"url(\".concat(o(\"Images/home.jpg\"),\")\")}}),Object(j.jsx)(\"div\",{className:\"auth-container\",children:Object(j.jsxs)(\"div\",{className:\"auth-card\",children:[Object(j.jsx)(\"div\",{className:\"logo-container\",children:Object(j.jsx)(\"img\",{src:o(\"Images/logo.png\"),alt:\"Logo\"})}),b?Object(j.jsx)(\"div\",{className:\"auth-error\",children:b}):null,Object(j.jsx)(\"h2\",{className:\"login-title\",children:\"Members Log in\"}),Object(j.jsxs)(\"form\",{onSubmit:async s=>{s.preventDefault(),m(\"\");try{O(!0),await t.login(a,l),e(\"/\",{replace:!0})}catch(c){m(c.message||\"Login failed\")}finally{O(!1)}},className:\"auth-form\",children:[Object(j.jsxs)(\"label\",{children:[\"Email\",Object(j.jsxs)(\"div\",{className:\"input-group\",children:[Object(j.jsx)(w,{}),Object(j.jsx)(\"input\",{className:\"with-icon\",type:\"email\",value:a,onChange:e=>c(e.target.value),required:!0,placeholder:\"admin@midland.edu\"})]})]}),Object(j.jsxs)(\"label\",{children:[\"Password\",Object(j.jsxs)(\"div\",{className:\"input-group password-group\",children:[Object(j.jsx)(S,{}),Object(j.jsx)(\"input\",{className:\"with-icon\",type:r?\"text\":\"password\",value:l,onChange:e=>n(e.target.value),required:!0,placeholder:\"\\u2022\\u2022\\u2022\\u2022\\u2022\\u2022\\u2022\\u2022\"}),Object(j.jsx)(\"button\",{type:\"button\",className:\"password-toggle\",onClick:()=>d(!r),tabIndex:-1,children:r?Object(j.jsx)(g.s,{size:18}):Object(j.jsx)(g.r,{size:18})})]})]}),Object(j.jsx)(\"button\",{type:\"submit\",className:\"auth-button auth-button-red\",disabled:h,children:h?\"Logging in...\":\"Log In\"})]})]})})]})}function k(){return Object(j.jsx)(g.L,{className:\"icon-left\"})}function A(){return Object(j.jsx)(g.y,{className:\"icon-left\"})}function T(){return Object(j.jsx)(g.z,{className:\"icon-left\"})}function L(){const e=Object(i.q)(),t=u(),[a,c]=Object(s.useState)(\"\"),[l,n]=Object(s.useState)(\"\"),[r,d]=Object(s.useState)(\"\"),[b,m]=Object(s.useState)(\"\"),[h,O]=Object(s.useState)(\"\"),[x,v]=Object(s.useState)(!1);return Object(j.jsxs)(\"div\",{className:\"login-layout\",children:[Object(j.jsx)(\"div\",{className:\"login-hero\",style:{backgroundImage:\"url(\".concat(o(\"Images/home.jpg\"),\")\")}}),Object(j.jsx)(\"div\",{className:\"auth-container register-page\",children:Object(j.jsxs)(\"div\",{className:\"auth-card wide\",children:[Object(j.jsx)(\"div\",{className:\"logo-container\",children:Object(j.jsx)(\"img\",{src:o(\"Images/logo.png\"),alt:\"Logo\"})}),h?Object(j.jsx)(\"div\",{className:\"auth-error\",children:h}):null,Object(j.jsx)(\"h2\",{className:\"login-title\",children:\"Create Account\"}),Object(j.jsxs)(\"form\",{onSubmit:async a=>{if(a.preventDefault(),O(\"\"),r===b)try{v(!0),await t.register(l,r),e(\"/\",{replace:!0})}catch(s){O(s.message||\"Registration failed\")}finally{v(!1)}else O(\"Passwords do not match\")},className:\"auth-form register-form-grid\",children:[Object(j.jsx)(\"div\",{className:\"col-12\",children:Object(j.jsxs)(\"label\",{children:[\"Username\",Object(j.jsxs)(\"div\",{className:\"input-group\",children:[Object(j.jsx)(k,{}),Object(j.jsx)(\"input\",{className:\"with-icon\",type:\"text\",value:a,onChange:e=>c(e.target.value),required:!0,placeholder:\"admin_username\"})]})]})}),Object(j.jsx)(\"div\",{className:\"col-12\",children:Object(j.jsxs)(\"label\",{children:[\"Email\",Object(j.jsxs)(\"div\",{className:\"input-group\",children:[Object(j.jsx)(T,{}),Object(j.jsx)(\"input\",{className:\"with-icon\",type:\"email\",value:l,onChange:e=>n(e.target.value),required:!0,placeholder:\"admin@school.com\"})]})]})}),Object(j.jsx)(\"div\",{className:\"col-12\",children:Object(j.jsxs)(\"label\",{children:[\"Password\",Object(j.jsxs)(\"div\",{className:\"input-group\",children:[Object(j.jsx)(A,{}),Object(j.jsx)(\"input\",{className:\"with-icon\",type:\"password\",value:r,onChange:e=>d(e.target.value),required:!0,placeholder:\"\\u2022\\u2022\\u2022\\u2022\\u2022\\u2022\\u2022\\u2022\"})]})]})}),Object(j.jsx)(\"div\",{className:\"col-12\",children:Object(j.jsxs)(\"label\",{children:[\"Confirm Password\",Object(j.jsxs)(\"div\",{className:\"input-group\",children:[Object(j.jsx)(A,{}),Object(j.jsx)(\"input\",{className:\"with-icon\",type:\"password\",value:b,onChange:e=>m(e.target.value),required:!0,placeholder:\"\\u2022\\u2022\\u2022\\u2022\\u2022\\u2022\\u2022\\u2022\"})]})]})}),Object(j.jsx)(\"div\",{className:\"col-12\",children:Object(j.jsx)(\"button\",{type:\"submit\",className:\"auth-button\",disabled:x,children:x?\"Creating Account...\":\"Create Account\"})})]})]})})]})}a(26);function D(){return Object(j.jsxs)(\"div\",{className:\"skeleton-card\",children:[Object(j.jsx)(\"div\",{className:\"skeleton-icon\"}),Object(j.jsxs)(\"div\",{className:\"skeleton-content\",children:[Object(j.jsx)(\"div\",{className:\"skeleton-line skeleton-line-short\"}),Object(j.jsx)(\"div\",{className:\"skeleton-line skeleton-line-long\"})]})]})}function P(e){let{rows:t=5,columns:a=6}=e;return Object(j.jsxs)(\"div\",{className:\"skeleton-table-container\",children:[Object(j.jsx)(\"div\",{className:\"skeleton-table-header\",children:Array.from({length:a}).map((e,t)=>Object(j.jsx)(\"div\",{className:\"skeleton-header-cell\"},t))}),Array.from({length:t}).map((e,t)=>Object(j.jsx)(\"div\",{className:\"skeleton-table-row\",children:Array.from({length:a}).map((e,t)=>Object(j.jsx)(\"div\",{className:\"skeleton-cell\"},t))},t))]})}function q(){return Object(j.jsx)(\"div\",{className:\"skeleton-form\",children:Array.from({length:6}).map((e,t)=>Object(j.jsxs)(\"div\",{className:\"skeleton-form-group\",children:[Object(j.jsx)(\"div\",{className:\"skeleton-label\"}),Object(j.jsx)(\"div\",{className:\"skeleton-input\"})]},t))})}function z(){return Object(j.jsxs)(\"div\",{className:\"skeleton-profile\",children:[Object(j.jsxs)(\"div\",{className:\"skeleton-profile-header\",children:[Object(j.jsx)(\"div\",{className:\"skeleton-avatar\"}),Object(j.jsxs)(\"div\",{className:\"skeleton-profile-info\",children:[Object(j.jsx)(\"div\",{className:\"skeleton-line skeleton-line-long\"}),Object(j.jsx)(\"div\",{className:\"skeleton-line skeleton-line-medium\"})]})]}),Object(j.jsx)(\"div\",{className:\"skeleton-profile-sections\",children:Array.from({length:3}).map((e,t)=>Object(j.jsxs)(\"div\",{className:\"skeleton-section\",children:[Object(j.jsx)(\"div\",{className:\"skeleton-line skeleton-line-short\"}),Object(j.jsx)(\"div\",{className:\"skeleton-grid\",children:Array.from({length:4}).map((e,t)=>Object(j.jsxs)(\"div\",{className:\"skeleton-grid-item\",children:[Object(j.jsx)(\"div\",{className:\"skeleton-line skeleton-line-short\"}),Object(j.jsx)(\"div\",{className:\"skeleton-line skeleton-line-medium\"})]},t))})]},t))})]})}a(27);function F(){const{token:e}=u(),t=C(),a=Object(i.q)(),[c,l]=Object(s.useState)({students:0,teachers:0,admins:0,schools:6e3}),[n,o]=Object(s.useState)(!0),b=Object(s.useCallback)(async()=>{o(!0);try{let a=0;try{const t=r(\"/midland/admin/students/all\"),s=await fetch(t,{headers:d(e)});if(s.ok){const e=await s.json();a=Array.isArray(e)?e.length:0}}catch(t){a=1250}let s=0;try{const t=r(\"/midland/admin/teachers/all\"),a=await fetch(t,{headers:d(e)});if(a.ok){const e=await a.json();s=Array.isArray(e)?e.length:0}}catch(t){s=85}let c=0;try{const t=r(\"/midland/admin/all\"),a=await fetch(t,{headers:d(e)});if(a.ok){const e=await a.json();c=Array.isArray(e)?e.length:0}}catch(t){c=12}l({students:a||1250,teachers:s||85,admins:c||12,schools:6e3})}catch(t){l({students:1250,teachers:85,admins:12,schools:6e3})}finally{o(!1)}},[e]);Object(s.useEffect)(()=>{b()},[b]);const m=[{label:\"Total Schools\",count:c.schools,icon:g.v,color:\"#ef4444\",bgGradient:\"linear-gradient(135deg, #ef4444 0%, #dc2626 100%)\",link:\"/\",trend:{value:\"+12%\",direction:\"up\",caption:\"vs last month\"},subtitle:\"Active institutions\"},{label:\"Students\",count:c.students,icon:g.N,color:\"#3b82f6\",bgGradient:\"linear-gradient(135deg, #3b82f6 0%, #2563eb 100%)\",link:\"/students\",trend:{value:\"+8%\",direction:\"up\",caption:\"vs last month\"},subtitle:\"Enrolled students\"},{label:\"Teachers\",count:c.teachers,icon:g.M,color:\"#10b981\",bgGradient:\"linear-gradient(135deg, #10b981 0%, #059669 100%)\",link:\"/teachers\",trend:{value:\"+5%\",direction:\"up\",caption:\"vs last month\"},subtitle:\"Active faculty\"},{label:\"Administrators\",count:c.admins,icon:g.L,color:\"#f59e0b\",bgGradient:\"linear-gradient(135deg, #f59e0b 0%, #d97706 100%)\",link:\"/admin\",trend:{value:\"+2%\",direction:\"up\",caption:\"vs last month\"},subtitle:\"Admin staff\"}],h=[{label:\"Overall Attendance\",value:\"94.5%\",icon:g.K,trend:\"+2.3%\",caption:\"vs last term\",color:\"#10b981\",change:\"positive\"},{label:\"Active Classes\",value:\"156\",icon:g.i,trend:\"+5\",caption:\"new this month\",color:\"#3b82f6\",change:\"positive\"},{label:\"Upcoming Events\",value:\"8\",icon:g.l,trend:\"This month\",caption:\"Scheduled\",color:\"#f59e0b\",change:\"neutral\"},{label:\"Performance Rate\",value:\"87%\",icon:g.h,trend:\"-1.2%\",caption:\"needs attention\",color:\"#8b5cf6\",change:\"negative\"}],O=[{icon:g.N,label:\"Add Student\",action:()=>a(\"/students/create\"),color:\"#ef4444\",description:\"Create a new student profile\"},{icon:g.M,label:\"Add Teacher\",action:()=>a(\"/teachers/create\"),color:\"#3b82f6\",description:\"Onboard teaching staff\"},{icon:g.L,label:\"Add Admin\",action:()=>a(\"/admin/create\"),color:\"#10b981\",description:\"Grant administrative access\"},{icon:g.i,label:\"View Subjects\",action:()=>a(\"/subjects\"),color:\"#f59e0b\",description:\"Manage curriculum\"},{icon:g.l,label:\"Timetable\",action:()=>a(\"/timetable\"),color:\"#8b5cf6\",description:\"Review daily schedule\"},{icon:g.a,label:\"Reports\",action:()=>t.info(\"Analytics dashboard coming soon\"),color:\"#ec4899\",description:\"Analyze performance data\"}],x=[{type:\"student\",message:\"New student enrolled\",time:\"2 hours ago\",icon:g.N},{type:\"teacher\",message:\"Teacher profile updated\",time:\"5 hours ago\",icon:g.M},{type:\"event\",message:\"Parent meeting scheduled\",time:\"1 day ago\",icon:g.l},{type:\"admin\",message:\"System backup completed\",time:\"2 days ago\",icon:g.a}];return Object(j.jsxs)(\"div\",{className:\"page dashboard-modern\",children:[Object(j.jsxs)(\"div\",{className:\"dashboard-header-modern\",children:[Object(j.jsxs)(\"div\",{children:[Object(j.jsx)(\"h1\",{className:\"dashboard-title\",children:\"Dashboard Overview\"}),Object(j.jsx)(\"p\",{className:\"dashboard-subtitle\",children:\"Welcome back! Here's what's happening today.\"})]}),Object(j.jsxs)(\"div\",{className:\"dashboard-date\",children:[Object(j.jsx)(g.p,{size:18}),Object(j.jsx)(\"span\",{children:(new Date).toLocaleDateString(\"en-US\",{weekday:\"long\",year:\"numeric\",month:\"long\",day:\"numeric\"})})]})]}),n?Object(j.jsx)(\"div\",{className:\"dashboard-grid-modern\",children:[1,2,3,4].map(e=>Object(j.jsx)(D,{},e))}):Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)(\"div\",{className:\"dashboard-grid-modern\",children:m.map((e,t)=>{const s=e.icon,c=\"down\"===e.trend.direction?g.J:g.K,l=\"card-trend \".concat(e.trend.direction);return Object(j.jsxs)(\"div\",{className:\"dashboard-card-modern\",onClick:()=>e.link&&a(e.link),style:{\"--card-color\":e.color},role:\"button\",tabIndex:0,onKeyDown:t=>{\"Enter\"!==t.key&&\" \"!==t.key||(t.preventDefault(),e.link&&a(e.link))},children:[Object(j.jsx)(\"div\",{className:\"card-background\",style:{background:e.bgGradient}}),Object(j.jsxs)(\"div\",{className:\"card-content\",children:[Object(j.jsxs)(\"div\",{className:\"card-header\",children:[Object(j.jsx)(\"div\",{className:\"card-icon-wrapper\",style:{background:\"\".concat(e.color,\"20\")},children:Object(j.jsx)(s,{size:20,style:{color:e.color}})}),Object(j.jsxs)(\"div\",{className:l,children:[Object(j.jsx)(c,{size:12}),Object(j.jsx)(\"strong\",{children:e.trend.value}),Object(j.jsx)(\"span\",{className:\"trend-caption\",children:e.trend.caption})]})]}),Object(j.jsxs)(\"div\",{className:\"card-body\",children:[Object(j.jsx)(\"div\",{className:\"card-count\",children:e.count.toLocaleString()}),Object(j.jsx)(\"div\",{className:\"card-label\",children:e.label}),Object(j.jsx)(\"div\",{className:\"card-subtitle\",children:e.subtitle})]})]})]},t)})}),Object(j.jsx)(\"div\",{className:\"dashboard-stats-modern\",children:h.map((e,t)=>{const a=e.icon;return Object(j.jsxs)(\"div\",{className:\"stat-card-modern\",children:[Object(j.jsx)(\"div\",{className:\"stat-icon-modern\",style:{background:\"\".concat(e.color,\"15\"),color:e.color},children:Object(j.jsx)(a,{size:20})}),Object(j.jsxs)(\"div\",{className:\"stat-content-modern\",children:[Object(j.jsx)(\"div\",{className:\"stat-value-modern\",style:{color:e.color},children:e.value}),Object(j.jsx)(\"div\",{className:\"stat-label-modern\",children:e.label}),Object(j.jsxs)(\"div\",{className:\"stat-trend-modern \".concat(e.change),children:[\"positive\"===e.change&&Object(j.jsx)(g.K,{size:12}),\"negative\"===e.change&&Object(j.jsx)(g.J,{size:12}),Object(j.jsx)(\"span\",{children:e.trend}),Object(j.jsx)(\"small\",{children:e.caption})]})]})]},t)})}),Object(j.jsxs)(\"div\",{className:\"dashboard-bottom-section\",children:[Object(j.jsxs)(\"div\",{className:\"quick-actions-modern\",children:[Object(j.jsx)(\"h3\",{className:\"section-title\",children:\"Quick Actions\"}),Object(j.jsx)(\"div\",{className:\"quick-actions-grid-modern\",children:O.map((e,t)=>{const a=e.icon;return Object(j.jsxs)(\"button\",{type:\"button\",className:\"quick-action-modern\",onClick:e.action,style:{\"--action-color\":e.color},\"aria-label\":e.description,children:[Object(j.jsx)(\"div\",{className:\"action-icon-wrapper\",style:{background:\"\".concat(e.color,\"15\")},children:Object(j.jsx)(a,{size:22,style:{color:e.color}})}),Object(j.jsxs)(\"div\",{className:\"quick-action-content\",children:[Object(j.jsx)(\"span\",{className:\"quick-action-label\",children:e.label}),Object(j.jsx)(\"span\",{className:\"quick-action-description\",children:e.description})]})]},t)})})]}),Object(j.jsxs)(\"div\",{className:\"recent-activity-modern\",children:[Object(j.jsx)(\"h3\",{className:\"section-title\",children:\"Recent Activity\"}),Object(j.jsx)(\"div\",{className:\"activity-list\",children:x.map((e,t)=>{const a=e.icon;return Object(j.jsxs)(\"div\",{className:\"activity-item\",children:[Object(j.jsx)(\"div\",{className:\"activity-icon\",children:Object(j.jsx)(a,{size:18})}),Object(j.jsxs)(\"div\",{className:\"activity-content\",children:[Object(j.jsx)(\"div\",{className:\"activity-message\",children:e.message}),Object(j.jsx)(\"div\",{className:\"activity-time\",children:e.time})]})]},t)})})]})]})]})]})}var I=a(7),R=a.n(I);a(39);const U={students:g.N,teachers:g.N,admins:g.N,subjects:g.i,timetable:g.l,default:g.w};function M(e){let{type:t=\"default\",title:a,message:s,actionLabel:c,onAction:l,icon:n}=e;const i=n||U[t]||U.default,r={students:{title:\"No Students Found\",message:\"Get started by adding your first student to the system.\"},teachers:{title:\"No Teachers Found\",message:\"Add teachers to manage classes and subjects.\"},admins:{title:\"No Administrators Found\",message:\"Add administrators to manage the school system.\"},subjects:{title:\"No Subjects Found\",message:\"Create subjects to organize your curriculum.\"},timetable:{title:\"No Timetable Entries\",message:\"Create timetable entries to schedule classes.\"},default:{title:a||\"No Data Available\",message:s||\"There is no data to display at this time.\"}},d=r[t]||r.default;return Object(j.jsxs)(\"div\",{className:\"empty-state\",children:[Object(j.jsx)(\"div\",{className:\"empty-state-icon\",children:Object(j.jsx)(i,{size:64})}),Object(j.jsx)(\"h3\",{className:\"empty-state-title\",children:d.title}),Object(j.jsx)(\"p\",{className:\"empty-state-message\",children:d.message}),l&&Object(j.jsx)(\"button\",{className:\"empty-state-action btn-secondary\",onClick:l,children:c||\"Add New\"})]})}a(40);function B(e){let{status:t,variant:a=\"default\"}=e;const s={active:{label:\"Active\",color:\"green\"},inactive:{label:\"Inactive\",color:\"gray\"},pending:{label:\"Pending\",color:\"yellow\"},completed:{label:\"Completed\",color:\"green\"},cancelled:{label:\"Cancelled\",color:\"red\"},default:{label:t||\"Unknown\",color:\"gray\"}},c=s[null===t||void 0===t?void 0:t.toLowerCase()]||s.default;return Object(j.jsx)(\"span\",{className:\"status-badge status-badge-\".concat(c.color,\" status-badge-\").concat(a),children:c.label})}a(41);function G(e){let{currentPage:t,totalPages:a,onPageChange:s}=e;if(a<=1)return null;const c=(()=>{const e=[];if(a<=5)for(let t=1;t<=a;t++)e.push(t);else if(t<=3)for(let t=1;t<=5;t++)e.push(t);else if(t>=a-2)for(let t=a-4;t<=a;t++)e.push(t);else for(let a=t-2;a<=t+2;a++)e.push(a);return e})();return Object(j.jsx)(\"div\",{className:\"pagination-container\",children:Object(j.jsxs)(\"div\",{className:\"pagination-controls\",children:[Object(j.jsx)(\"button\",{className:\"pagination-btn\",onClick:()=>s(t-1),disabled:1===t,\"aria-label\":\"Previous page\",children:Object(j.jsx)(g.n,{size:18})}),c[0]>1&&Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)(\"button\",{className:\"pagination-btn\",onClick:()=>s(1),children:\"1\"}),c[0]>2&&Object(j.jsx)(\"span\",{className:\"pagination-ellipsis\",children:\"...\"})]}),c.map(e=>Object(j.jsx)(\"button\",{className:\"pagination-btn \".concat(t===e?\"active\":\"\"),onClick:()=>s(e),children:e},e)),c[c.length-1]<a&&Object(j.jsxs)(j.Fragment,{children:[c[c.length-1]<a-1&&Object(j.jsx)(\"span\",{className:\"pagination-ellipsis\",children:\"...\"}),Object(j.jsx)(\"button\",{className:\"pagination-btn\",onClick:()=>s(a),children:a})]}),Object(j.jsx)(\"button\",{className:\"pagination-btn\",onClick:()=>s(t+1),disabled:t===a,\"aria-label\":\"Next page\",children:Object(j.jsx)(g.o,{size:18})})]})})}a(42);function K(e){let{children:t,sortKey:a,currentSort:s=null,onSort:c,className:l=\"\"}=e;const n=(null===s||void 0===s?void 0:s.key)===a,i=n&&null!==s&&void 0!==s&&s.direction?s.direction:null;return Object(j.jsx)(\"th\",{className:\"sortable-header \".concat(l,\" \").concat(n?\"active\":\"\",\" \").concat(c?\"clickable\":\"\"),onClick:c?()=>{if(c){c(a,n&&\"asc\"===i?\"desc\":\"asc\")}}:void 0,children:Object(j.jsxs)(\"div\",{className:\"sortable-header-content\",children:[Object(j.jsx)(\"span\",{children:t}),c&&Object(j.jsx)(\"span\",{className:\"sort-icon\",children:\"asc\"===i?Object(j.jsx)(g.g,{size:14}):\"desc\"===i?Object(j.jsx)(g.d,{size:14}):Object(j.jsxs)(\"span\",{style:{display:\"flex\",flexDirection:\"column\",lineHeight:.5},children:[Object(j.jsx)(g.g,{size:10}),Object(j.jsx)(g.d,{size:10})]})})]})})}function _(){const e=Object(i.q)(),{token:t}=u(),a=C(),[c,l]=Object(s.useState)(\"\"),[n,o]=Object(s.useState)(\"\"),[b,m]=Object(s.useState)(\"\"),[h,O]=Object(s.useState)([]),[x,v]=Object(s.useState)(!1),[p,N]=Object(s.useState)(\"\"),[f,y]=Object(s.useState)(!1),[S,w]=Object(s.useState)(\"\"),[E,k]=Object(s.useState)(!1),[A,T]=Object(s.useState)(\"\"),[L,D]=Object(s.useState)(1),[q,z]=Object(s.useState)({key:null,direction:\"asc\"}),F=Object(s.useCallback)(async()=>{v(!0),N(\"\");try{const e=r(\"/midland/admin/students/all\"),a=await fetch(e,{headers:d(t)});if(!a.ok)throw new Error(\"Failed to load students: \".concat(a.status,\" \").concat(a.statusText));const s=await a.json();O(Array.isArray(s)?s:[])}catch(e){const t=e.message||\"Failed to load students\";e.message&&(e.message.includes(\"CORS\")||e.message.includes(\"Failed to fetch\")||e.message.includes(\"NetworkError\"))?(N(\"CORS error: The backend at http://4.198.16.72.nip.io needs to allow requests from your frontend origin. Please configure CORS headers on the backend.\"),a.error(\"Failed to load students. Please check your connection.\")):(N(t),a.error(t))}finally{v(!1)}},[t,a]);Object(s.useEffect)(()=>{F()},[F]),Object(s.useEffect)(()=>{const e=e=>{\"Escape\"===e.key&&f&&!E&&(y(!1),T(\"\"))};return window.addEventListener(\"keydown\",e),()=>window.removeEventListener(\"keydown\",e)},[f,E]),Object(s.useEffect)(()=>{try{R.a.setAppElement(\"#root\")}catch(e){}},[]);const I=Object(s.useMemo)(()=>Array.from(new Set(h.map(e=>String(e.gradeLevel||\"\").trim()).filter(Boolean))),[h]),U=Object(s.useMemo)(()=>Array.from(new Set(h.map(e=>String(e.section||\"\").trim()).filter(Boolean))),[h]),_=(e,t)=>{z({key:e,direction:t}),D(1)},H=Object(s.useMemo)(()=>{const e=c.trim().toLowerCase();let t=h.filter(t=>{const a=String(t.admissionNumber||t.rollNo||\"\").toLowerCase(),s=String(t.fullName||\"\").toLowerCase(),c=String(t.schoolEmail||t.personalEmail||\"\").toLowerCase(),l=!e||a.includes(e)||s.includes(e)||c.includes(e),i=!n||String(t.gradeLevel||\"\")===n,r=!b||String(t.section||\"\")===b;return l&&i&&r}).map(e=>({key:e.admissionNumber||e.rollNo||e.studentUid||Math.random(),id:e.admissionNumber||e.rollNo||\"-\",name:e.fullName||\"-\",email:e.schoolEmail||e.personalEmail||\"-\",class:e.gradeLevel||\"-\",section:e.section||\"-\",status:e.status||\"Active\",emailKey:e.schoolEmail||e.personalEmail||\"\"}));return q.key&&t.sort((e,t)=>{let a=e[q.key],s=t[q.key];return\"string\"===typeof a&&(a=a.toLowerCase(),s=s.toLowerCase()),a<s?\"asc\"===q.direction?-1:1:a>s?\"asc\"===q.direction?1:-1:0}),t},[h,c,n,b,q]),W=Math.ceil(H.length/6),J=6*(L-1),Y=J+6,V=H.slice(J,Y);return Object(s.useEffect)(()=>{L>W&&W>0&&D(1)},[W,L]),Object(j.jsxs)(\"div\",{className:\"page students\",children:[Object(j.jsxs)(\"div\",{className:\"page-header\",children:[Object(j.jsxs)(\"div\",{className:\"header-main\",children:[Object(j.jsx)(\"h2\",{children:\"Students\"}),Object(j.jsx)(\"div\",{className:\"meta\",children:x?\"Loading\\u2026\":\"\".concat(H.length,\" student\").concat(1!==H.length?\"s\":\"\")})]}),Object(j.jsxs)(\"button\",{className:\"btn-primary\",onClick:()=>e(\"/students/create\"),children:[Object(j.jsx)(g.E,{size:18,style:{marginRight:8}}),\"Add Student\"]})]}),p&&Object(j.jsx)(\"div\",{className:\"alert alert-error\",children:p}),Object(j.jsxs)(\"div\",{className:\"filters\",children:[Object(j.jsxs)(\"div\",{className:\"filter-input-wrapper\",children:[Object(j.jsx)(g.F,{className:\"filter-icon\"}),Object(j.jsx)(\"input\",{type:\"text\",placeholder:\"Search by ID, name, or email...\",value:c,onChange:e=>l(e.target.value),className:\"filter-input\"})]}),Object(j.jsxs)(\"div\",{className:\"filter-select-wrapper\",children:[Object(j.jsx)(g.i,{className:\"filter-icon\"}),Object(j.jsxs)(\"select\",{value:n,onChange:e=>o(e.target.value),className:\"filter-select\",children:[Object(j.jsx)(\"option\",{value:\"\",children:\"All Classes\"}),I.map(e=>Object(j.jsx)(\"option\",{value:e,children:e},e))]})]}),Object(j.jsxs)(\"div\",{className:\"filter-select-wrapper\",children:[Object(j.jsx)(g.u,{className:\"filter-icon\"}),Object(j.jsxs)(\"select\",{value:b,onChange:e=>m(e.target.value),className:\"filter-select\",children:[Object(j.jsx)(\"option\",{value:\"\",children:\"All Sections\"}),U.map(e=>Object(j.jsx)(\"option\",{value:e,children:e},e))]})]})]}),x?Object(j.jsx)(P,{rows:5,columns:7}):0===H.length?Object(j.jsx)(M,{type:\"students\",actionLabel:\"Add Student\",onAction:()=>e(\"/students/create\")}):Object(j.jsx)(\"div\",{className:\"table-container\",children:Object(j.jsxs)(\"table\",{className:\"data-table\",children:[Object(j.jsx)(\"thead\",{children:Object(j.jsxs)(\"tr\",{children:[Object(j.jsx)(K,{sortKey:\"id\",currentSort:q,onSort:_,children:\"ID\"}),Object(j.jsx)(K,{sortKey:\"name\",currentSort:q,onSort:_,children:\"Name\"}),Object(j.jsx)(K,{sortKey:\"email\",currentSort:q,onSort:_,children:\"Email\"}),Object(j.jsx)(K,{sortKey:\"class\",currentSort:q,onSort:_,children:\"Class\"}),Object(j.jsx)(K,{sortKey:\"section\",currentSort:q,onSort:_,children:\"Section\"}),Object(j.jsx)(K,{sortKey:\"status\",currentSort:q,onSort:_,children:\"Status\"}),Object(j.jsx)(K,{className:\"actions-column\",children:\"Actions\"})]})}),Object(j.jsx)(\"tbody\",{children:V.map(t=>Object(j.jsxs)(\"tr\",{children:[Object(j.jsx)(\"td\",{className:\"cell-id\",children:t.id}),Object(j.jsx)(\"td\",{className:\"cell-name\",children:Object(j.jsx)(\"button\",{className:\"name-link\",onClick:()=>e(\"/students/\".concat(t.emailKey||t.id)),title:\"View Profile\",children:t.name})}),Object(j.jsx)(\"td\",{className:\"cell-email\",children:t.email}),Object(j.jsx)(\"td\",{className:\"cell-small\",children:t.class}),Object(j.jsx)(\"td\",{className:\"cell-small\",children:t.section}),Object(j.jsx)(\"td\",{className:\"cell-status\",children:Object(j.jsx)(B,{status:t.status})}),Object(j.jsx)(\"td\",{className:\"cell-actions\",children:Object(j.jsxs)(\"div\",{className:\"action-buttons\",children:[Object(j.jsx)(\"button\",{className:\"btn-icon\",onClick:()=>e(\"/students/\".concat(t.emailKey||t.id,\"/edit\")),title:\"Edit\",\"aria-label\":\"Edit student\",children:Object(j.jsx)(g.q,{size:18})}),Object(j.jsx)(\"button\",{className:\"btn-icon btn-danger\",onClick:()=>{w(t.emailKey),y(!0)},title:\"Delete\",\"aria-label\":\"Delete student\",children:Object(j.jsx)(g.I,{size:18})})]})})]},t.key))})]})}),!x&&H.length>0&&Object(j.jsx)(G,{currentPage:L,totalPages:W,onPageChange:D}),Object(j.jsx)(R.a,{isOpen:f,onRequestClose:()=>!E&&y(!1),className:\"modal\",overlayClassName:\"modal-overlay\",children:Object(j.jsxs)(\"div\",{className:\"modal-content\",children:[Object(j.jsx)(\"h3\",{children:\"Delete Student\"}),Object(j.jsx)(\"p\",{children:\"Are you sure you want to delete this student? This action cannot be undone.\"}),A&&Object(j.jsx)(\"div\",{className:\"alert alert-error\",style:{marginBottom:16},children:A}),Object(j.jsxs)(\"div\",{className:\"modal-actions\",children:[Object(j.jsx)(\"button\",{className:\"btn-secondary\",onClick:()=>y(!1),disabled:E,children:\"Cancel\"}),Object(j.jsx)(\"button\",{className:\"btn-danger\",disabled:E,onClick:async()=>{if(S){k(!0),T(\"\");try{const e=encodeURIComponent(S),s=r(\"/midland/admin/students/delete/\".concat(e)),c=await fetch(s,{method:\"DELETE\",headers:d(t)});if(!c.ok){const e=await c.text().catch(()=>\"\");throw new Error(e||\"Failed to delete: \".concat(c.status))}y(!1),a.success(\"Student deleted successfully\"),F()}catch(e){const t=e.message||\"Failed to delete student\";T(t),a.error(t)}finally{k(!1)}}},children:E?\"Deleting\\u2026\":\"Delete\"})]})]})})]})}var H=a(3);function W(){const e=Object(i.q)(),{token:t}=u(),a=C(),[c,l]=Object(s.useState)({username:\"\",password:\"\",fullName:\"\",gender:\"\",dateOfBirth:\"\",bloodGroup:\"\",nationality:\"\",motherTongue:\"\",languagePreference:\"\",gradeLevel:\"\",section:\"\",academicYear:\"\",admissionDate:\"\",status:\"Active\",admissionNumber:\"\",rollNo:\"\",phoneNumber:\"\",schoolEmail:\"\",personalEmail:\"\",guardianName:\"\",guardianRelation:\"\",guardianContact:\"\",schoolCode:\"\"}),[n,o]=Object(s.useState)(!1),[b,m]=Object(s.useState)(\"\"),[h,O]=Object(s.useState)({}),x=(e,t)=>{l(Object(H.a)(Object(H.a)({},c),{},{[e]:t})),h[e]&&O(Object(H.a)(Object(H.a)({},h),{},{[e]:\"\"}))};return Object(j.jsxs)(\"div\",{className:\"page\",children:[Object(j.jsxs)(\"div\",{className:\"page-header\",children:[Object(j.jsx)(\"h2\",{children:\"Create New Student\"}),Object(j.jsxs)(\"button\",{className:\"btn-secondary\",onClick:()=>e(\"/students\"),children:[Object(j.jsx)(g.e,{size:16,style:{marginRight:8}}),\"Back to List\"]})]}),b&&Object(j.jsx)(\"div\",{className:\"alert alert-error\",children:b}),Object(j.jsxs)(\"form\",{onSubmit:async s=>{s.preventDefault(),m(\"\"),o(!0);try{const s={username:String(c.username||\"\").trim(),password:String(c.password||\"\").trim(),fullName:String(c.fullName||\"\").trim(),gender:String(c.gender||\"\").trim(),dateOfBirth:String(c.dateOfBirth||\"\").trim(),bloodGroup:String(c.bloodGroup||\"\").trim(),nationality:String(c.nationality||\"\").trim(),motherTongue:String(c.motherTongue||\"\").trim(),languagePreference:String(c.languagePreference||\"\").trim(),gradeLevel:String(c.gradeLevel||\"\").trim(),section:String(c.section||\"\").trim(),academicYear:String(c.academicYear||\"\").trim(),admissionDate:String(c.admissionDate||\"\").trim(),status:String(c.status||\"Active\").trim(),admissionNumber:String(c.admissionNumber||\"\").trim(),rollNo:String(c.rollNo||\"\").trim(),phoneNumber:String(c.phoneNumber||\"\").trim(),schoolEmail:String(c.schoolEmail||\"\").trim(),personalEmail:String(c.personalEmail||\"\").trim(),guardianName:String(c.guardianName||\"\").trim(),guardianRelation:String(c.guardianRelation||\"\").trim(),guardianContact:String(c.guardianContact||\"\").trim(),schoolCode:String(c.schoolCode||\"\").trim()},l=r(\"/midland/admin/students/create\"),n=await fetch(l,{method:\"POST\",headers:d(t),body:JSON.stringify(s)});if(!n.ok){const e=await n.text().catch(()=>\"\");throw new Error(e||\"Failed to create: \".concat(n.status))}a.success(\"Student created successfully\"),e(\"/students\",{replace:!0})}catch(l){const e=l.message||\"Failed to create student\";m(e),a.error(e)}finally{o(!1)}},children:[Object(j.jsxs)(\"div\",{className:\"form-section\",children:[Object(j.jsxs)(\"h3\",{children:[Object(j.jsx)(g.L,{}),\"Account\"]}),Object(j.jsxs)(\"div\",{className:\"form-grid\",children:[Object(j.jsxs)(\"label\",{children:[\"Username *\",Object(j.jsx)(\"input\",{value:c.username,onChange:e=>x(\"username\",e.target.value),required:!0})]}),Object(j.jsxs)(\"label\",{children:[\"Password *\",Object(j.jsx)(\"input\",{type:\"password\",value:c.password,onChange:e=>x(\"password\",e.target.value),required:!0})]})]})]}),Object(j.jsxs)(\"div\",{className:\"form-section\",children:[Object(j.jsxs)(\"h3\",{children:[Object(j.jsx)(g.L,{}),\"Personal Info\"]}),Object(j.jsxs)(\"div\",{className:\"form-grid\",children:[Object(j.jsxs)(\"label\",{children:[\"Full Name *\",Object(j.jsx)(\"input\",{value:c.fullName,onChange:e=>x(\"fullName\",e.target.value),required:!0})]}),Object(j.jsxs)(\"label\",{children:[\"Gender *\",Object(j.jsxs)(\"select\",{value:c.gender,onChange:e=>l(Object(H.a)(Object(H.a)({},c),{},{gender:e.target.value})),required:!0,children:[Object(j.jsx)(\"option\",{value:\"\",children:\"Select\"}),Object(j.jsx)(\"option\",{value:\"Male\",children:\"Male\"}),Object(j.jsx)(\"option\",{value:\"Female\",children:\"Female\"}),Object(j.jsx)(\"option\",{value:\"Other\",children:\"Other\"})]})]}),Object(j.jsxs)(\"label\",{children:[\"Date of Birth *\",Object(j.jsx)(\"input\",{type:\"date\",value:c.dateOfBirth,onChange:e=>l(Object(H.a)(Object(H.a)({},c),{},{dateOfBirth:e.target.value})),required:!0})]}),Object(j.jsxs)(\"label\",{children:[\"Blood Group\",Object(j.jsx)(\"input\",{value:c.bloodGroup,onChange:e=>l(Object(H.a)(Object(H.a)({},c),{},{bloodGroup:e.target.value}))})]}),Object(j.jsxs)(\"label\",{children:[\"Nationality\",Object(j.jsx)(\"input\",{value:c.nationality,onChange:e=>x(\"nationality\",e.target.value)})]}),Object(j.jsxs)(\"label\",{children:[\"Mother Tongue\",Object(j.jsx)(\"input\",{value:c.motherTongue,onChange:e=>x(\"motherTongue\",e.target.value)})]})]})]}),Object(j.jsxs)(\"div\",{className:\"form-section\",children:[Object(j.jsxs)(\"h3\",{children:[Object(j.jsx)(g.i,{}),\"Academic Info\"]}),Object(j.jsxs)(\"div\",{className:\"form-grid\",children:[Object(j.jsxs)(\"label\",{children:[\"School Code *\",Object(j.jsx)(\"input\",{value:c.schoolCode,onChange:e=>l(Object(H.a)(Object(H.a)({},c),{},{schoolCode:e.target.value})),required:!0})]}),Object(j.jsxs)(\"label\",{children:[\"Class *\",Object(j.jsx)(\"input\",{value:c.gradeLevel,onChange:e=>x(\"gradeLevel\",e.target.value),required:!0})]}),Object(j.jsxs)(\"label\",{children:[\"Section *\",Object(j.jsx)(\"input\",{value:c.section,onChange:e=>x(\"section\",e.target.value),required:!0})]}),Object(j.jsxs)(\"label\",{children:[\"Academic Year *\",Object(j.jsx)(\"input\",{value:c.academicYear,onChange:e=>x(\"academicYear\",e.target.value),required:!0})]}),Object(j.jsxs)(\"label\",{children:[\"Admission Date *\",Object(j.jsx)(\"input\",{type:\"date\",value:c.admissionDate,onChange:e=>l(Object(H.a)(Object(H.a)({},c),{},{admissionDate:e.target.value})),required:!0})]}),Object(j.jsxs)(\"label\",{children:[\"Status\",Object(j.jsxs)(\"select\",{value:c.status,onChange:e=>l(Object(H.a)(Object(H.a)({},c),{},{status:e.target.value})),children:[Object(j.jsx)(\"option\",{value:\"Active\",children:\"Active\"}),Object(j.jsx)(\"option\",{value:\"Inactive\",children:\"Inactive\"})]})]}),Object(j.jsxs)(\"label\",{children:[\"Admission No *\",Object(j.jsx)(\"input\",{value:c.admissionNumber,onChange:e=>x(\"admissionNumber\",e.target.value),required:!0})]}),Object(j.jsxs)(\"label\",{children:[\"Roll No *\",Object(j.jsx)(\"input\",{value:c.rollNo,onChange:e=>x(\"rollNo\",e.target.value),required:!0})]})]})]}),Object(j.jsxs)(\"div\",{className:\"form-section\",children:[Object(j.jsxs)(\"h3\",{children:[Object(j.jsx)(g.z,{}),\"Contact Details\"]}),Object(j.jsxs)(\"div\",{className:\"form-grid\",children:[Object(j.jsxs)(\"label\",{children:[\"Phone Number\",Object(j.jsx)(\"input\",{value:c.phoneNumber,onChange:e=>x(\"phoneNumber\",e.target.value)})]}),Object(j.jsxs)(\"label\",{children:[\"School Email *\",Object(j.jsx)(\"input\",{type:\"email\",value:c.schoolEmail,onChange:e=>x(\"schoolEmail\",e.target.value),required:!0})]}),Object(j.jsxs)(\"label\",{children:[\"Personal Email\",Object(j.jsx)(\"input\",{type:\"email\",value:c.personalEmail,onChange:e=>x(\"personalEmail\",e.target.value)})]})]})]}),Object(j.jsxs)(\"div\",{className:\"form-section\",children:[Object(j.jsxs)(\"h3\",{children:[Object(j.jsx)(g.N,{}),\"Guardian Info\"]}),Object(j.jsxs)(\"div\",{className:\"form-grid\",children:[Object(j.jsxs)(\"label\",{children:[\"Guardian Name\",Object(j.jsx)(\"input\",{value:c.guardianName,onChange:e=>x(\"guardianName\",e.target.value)})]}),Object(j.jsxs)(\"label\",{children:[\"Guardian Relation\",Object(j.jsx)(\"input\",{value:c.guardianRelation,onChange:e=>x(\"guardianRelation\",e.target.value)})]}),Object(j.jsxs)(\"label\",{children:[\"Guardian Contact\",Object(j.jsx)(\"input\",{value:c.guardianContact,onChange:e=>x(\"guardianContact\",e.target.value)})]})]})]}),Object(j.jsxs)(\"div\",{className:\"form-actions\",children:[Object(j.jsx)(\"button\",{type:\"button\",className:\"btn-secondary\",onClick:()=>e(\"/students\"),children:\"Cancel\"}),Object(j.jsx)(\"button\",{type:\"submit\",className:\"btn-primary\",disabled:n,children:n?\"Creating...\":\"Create Student\"})]})]})]})}function J(){const e=Object(i.q)(),{id:t}=Object(i.s)(),{token:a}=u(),c=C(),[l,n]=Object(s.useState)({}),[o,b]=Object(s.useState)(!0),[m,h]=Object(s.useState)(!1),[O,x]=Object(s.useState)(\"\");if(Object(s.useEffect)(()=>{let e=!0;return async function(){b(!0),x(\"\");try{const s=r(\"/midland/admin/students/all\"),l=await fetch(s,{headers:d(a)});if(!l.ok)throw new Error(\"Failed to load student\");const i=await l.json(),o=(Array.isArray(i)?i:[]).find(e=>String(e.schoolEmail)===t||String(e.personalEmail)===t||String(e.admissionNumber)===t||String(e.rollNo)===t);e&&(o?n(o):(x(\"Student not found\"),c.error(\"Student not found\")))}catch(s){const t=s.message||\"Failed to load student\";e&&x(t),c.error(t)}finally{e&&b(!1)}}(),()=>{e=!1}},[t,a,c]),o)return Object(j.jsx)(\"div\",{className:\"page\",children:Object(j.jsx)(q,{})});if(O&&!l.schoolEmail)return Object(j.jsx)(\"div\",{className:\"page\",children:Object(j.jsx)(\"div\",{className:\"alert alert-error\",children:O})});const v=l.schoolEmail||l.personalEmail||t;return Object(j.jsxs)(\"div\",{className:\"page\",children:[Object(j.jsxs)(\"div\",{className:\"page-header\",children:[Object(j.jsx)(\"h2\",{children:\"Edit Student\"}),Object(j.jsxs)(\"button\",{className:\"btn-secondary\",onClick:()=>e(\"/students\"),children:[Object(j.jsx)(g.e,{size:16,style:{marginRight:8}}),\"Back to List\"]})]}),O&&Object(j.jsx)(\"div\",{className:\"alert alert-error\",children:O}),Object(j.jsxs)(\"form\",{onSubmit:async t=>{t.preventDefault(),x(\"\"),h(!0);try{const t=Object(H.a)({},l),s=r(\"/midland/admin/students/update/\".concat(encodeURIComponent(v))),n=await fetch(s,{method:\"PUT\",headers:d(a),body:JSON.stringify(t)});if(!n.ok){const e=await n.text().catch(()=>\"\");throw new Error(e||\"Failed to update: \".concat(n.status))}c.success(\"Student updated successfully\"),e(\"/students\",{replace:!0})}catch(s){const e=s.message||\"Failed to update student\";x(e),c.error(e)}finally{h(!1)}},children:[Object(j.jsxs)(\"div\",{className:\"form-section\",children:[Object(j.jsx)(\"h3\",{children:\"Account\"}),Object(j.jsxs)(\"div\",{className:\"form-grid\",children:[Object(j.jsxs)(\"label\",{children:[\"Username *\",Object(j.jsx)(\"input\",{value:l.username||\"\",onChange:e=>n(Object(H.a)(Object(H.a)({},l),{},{username:e.target.value})),required:!0})]}),Object(j.jsxs)(\"label\",{children:[\"Password\",Object(j.jsx)(\"input\",{type:\"password\",value:l.password||\"\",onChange:e=>n(Object(H.a)(Object(H.a)({},l),{},{password:e.target.value})),placeholder:\"Leave blank to keep current password\"})]})]})]}),Object(j.jsxs)(\"div\",{className:\"form-section\",children:[Object(j.jsx)(\"h3\",{children:\"Personal Info\"}),Object(j.jsxs)(\"div\",{className:\"form-grid\",children:[Object(j.jsxs)(\"label\",{children:[\"Full Name *\",Object(j.jsx)(\"input\",{value:l.fullName||\"\",onChange:e=>n(Object(H.a)(Object(H.a)({},l),{},{fullName:e.target.value})),required:!0})]}),Object(j.jsxs)(\"label\",{children:[\"Gender *\",Object(j.jsxs)(\"select\",{value:l.gender||\"\",onChange:e=>n(Object(H.a)(Object(H.a)({},l),{},{gender:e.target.value})),required:!0,children:[Object(j.jsx)(\"option\",{value:\"\",children:\"Select\"}),Object(j.jsx)(\"option\",{value:\"Male\",children:\"Male\"}),Object(j.jsx)(\"option\",{value:\"Female\",children:\"Female\"}),Object(j.jsx)(\"option\",{value:\"Other\",children:\"Other\"})]})]}),Object(j.jsxs)(\"label\",{children:[\"Date of Birth *\",Object(j.jsx)(\"input\",{type:\"date\",value:l.dateOfBirth||\"\",onChange:e=>n(Object(H.a)(Object(H.a)({},l),{},{dateOfBirth:e.target.value})),required:!0})]}),Object(j.jsxs)(\"label\",{children:[\"Blood Group\",Object(j.jsx)(\"input\",{value:l.bloodGroup||\"\",onChange:e=>n(Object(H.a)(Object(H.a)({},l),{},{bloodGroup:e.target.value}))})]}),Object(j.jsxs)(\"label\",{children:[\"Nationality\",Object(j.jsx)(\"input\",{value:l.nationality||\"\",onChange:e=>n(Object(H.a)(Object(H.a)({},l),{},{nationality:e.target.value}))})]}),Object(j.jsxs)(\"label\",{children:[\"Mother Tongue\",Object(j.jsx)(\"input\",{value:l.motherTongue||\"\",onChange:e=>n(Object(H.a)(Object(H.a)({},l),{},{motherTongue:e.target.value}))})]})]})]}),Object(j.jsxs)(\"div\",{className:\"form-section\",children:[Object(j.jsx)(\"h3\",{children:\"Academic Info\"}),Object(j.jsxs)(\"div\",{className:\"form-grid\",children:[Object(j.jsxs)(\"label\",{children:[\"School Code *\",Object(j.jsx)(\"input\",{value:l.schoolCode||\"\",onChange:e=>n(Object(H.a)(Object(H.a)({},l),{},{schoolCode:e.target.value})),required:!0})]}),Object(j.jsxs)(\"label\",{children:[\"Class *\",Object(j.jsx)(\"input\",{value:l.gradeLevel||\"\",onChange:e=>n(Object(H.a)(Object(H.a)({},l),{},{gradeLevel:e.target.value})),required:!0})]}),Object(j.jsxs)(\"label\",{children:[\"Section *\",Object(j.jsx)(\"input\",{value:l.section||\"\",onChange:e=>n(Object(H.a)(Object(H.a)({},l),{},{section:e.target.value})),required:!0})]}),Object(j.jsxs)(\"label\",{children:[\"Academic Year *\",Object(j.jsx)(\"input\",{value:l.academicYear||\"\",onChange:e=>n(Object(H.a)(Object(H.a)({},l),{},{academicYear:e.target.value})),required:!0})]}),Object(j.jsxs)(\"label\",{children:[\"Admission Date *\",Object(j.jsx)(\"input\",{type:\"date\",value:l.admissionDate||\"\",onChange:e=>n(Object(H.a)(Object(H.a)({},l),{},{admissionDate:e.target.value})),required:!0})]}),Object(j.jsxs)(\"label\",{children:[\"Status\",Object(j.jsxs)(\"select\",{value:l.status||\"Active\",onChange:e=>n(Object(H.a)(Object(H.a)({},l),{},{status:e.target.value})),children:[Object(j.jsx)(\"option\",{value:\"Active\",children:\"Active\"}),Object(j.jsx)(\"option\",{value:\"Inactive\",children:\"Inactive\"})]})]}),Object(j.jsxs)(\"label\",{children:[\"Admission No *\",Object(j.jsx)(\"input\",{value:l.admissionNumber||\"\",onChange:e=>n(Object(H.a)(Object(H.a)({},l),{},{admissionNumber:e.target.value})),required:!0})]}),Object(j.jsxs)(\"label\",{children:[\"Roll No *\",Object(j.jsx)(\"input\",{value:l.rollNo||\"\",onChange:e=>n(Object(H.a)(Object(H.a)({},l),{},{rollNo:e.target.value})),required:!0})]})]})]}),Object(j.jsxs)(\"div\",{className:\"form-section\",children:[Object(j.jsx)(\"h3\",{children:\"Contact Details\"}),Object(j.jsxs)(\"div\",{className:\"form-grid\",children:[Object(j.jsxs)(\"label\",{children:[\"Phone Number\",Object(j.jsx)(\"input\",{value:l.phoneNumber||\"\",onChange:e=>n(Object(H.a)(Object(H.a)({},l),{},{phoneNumber:e.target.value}))})]}),Object(j.jsxs)(\"label\",{children:[\"School Email *\",Object(j.jsx)(\"input\",{type:\"email\",value:l.schoolEmail||\"\",onChange:e=>n(Object(H.a)(Object(H.a)({},l),{},{schoolEmail:e.target.value})),required:!0})]}),Object(j.jsxs)(\"label\",{children:[\"Personal Email\",Object(j.jsx)(\"input\",{type:\"email\",value:l.personalEmail||\"\",onChange:e=>n(Object(H.a)(Object(H.a)({},l),{},{personalEmail:e.target.value}))})]})]})]}),Object(j.jsxs)(\"div\",{className:\"form-section\",children:[Object(j.jsx)(\"h3\",{children:\"Guardian Info\"}),Object(j.jsxs)(\"div\",{className:\"form-grid\",children:[Object(j.jsxs)(\"label\",{children:[\"Guardian Name\",Object(j.jsx)(\"input\",{value:l.guardianName||\"\",onChange:e=>n(Object(H.a)(Object(H.a)({},l),{},{guardianName:e.target.value}))})]}),Object(j.jsxs)(\"label\",{children:[\"Guardian Relation\",Object(j.jsx)(\"input\",{value:l.guardianRelation||\"\",onChange:e=>n(Object(H.a)(Object(H.a)({},l),{},{guardianRelation:e.target.value}))})]}),Object(j.jsxs)(\"label\",{children:[\"Guardian Contact\",Object(j.jsx)(\"input\",{value:l.guardianContact||\"\",onChange:e=>n(Object(H.a)(Object(H.a)({},l),{},{guardianContact:e.target.value}))})]})]})]}),Object(j.jsxs)(\"div\",{className:\"form-actions\",children:[Object(j.jsx)(\"button\",{type:\"button\",className:\"btn-secondary\",onClick:()=>e(\"/students\"),children:\"Cancel\"}),Object(j.jsx)(\"button\",{type:\"submit\",className:\"btn-primary\",disabled:m,children:m?\"Updating...\":\"Update Student\"})]})]})]})}a(43);function Y(){const{id:e}=Object(i.s)(),t=Object(i.q)(),{token:a}=u(),c=C(),[l,n]=Object(s.useState)(null),[o,b]=Object(s.useState)(!0),[m,h]=Object(s.useState)(\"\"),[O,x]=Object(s.useState)(\"basic\");Object(s.useEffect)(()=>{let t=!0;return async function(){b(!0),h(\"\");try{let l=null;try{const t=r(\"/midland/admin/students/admission/\".concat(e)),s=await fetch(t,{headers:d(a)});s.ok&&(l=await s.json())}catch(s){}if(!l){const t=r(\"/midland/admin/students/all\"),s=await fetch(t,{headers:d(a)});if(!s.ok)throw new Error(\"Failed to load student\");const c=await s.json(),n=Array.isArray(c)?c:[];l=n.find(t=>String(t.studentUid)===e||String(t.admissionNumber)===e||String(t.rollNo)===e||String(t.schoolEmail)===e||String(t.personalEmail)===e)||null}t&&(n(l),l||(h(\"Student not found\"),c.error(\"Student not found\")))}catch(s){const e=s.message||\"Failed to load student\";t&&h(e),c.error(e)}finally{t&&b(!1)}}(),()=>{t=!1}},[e,a,c]);const v=Object(s.useMemo)(()=>{const e=((null===l||void 0===l?void 0:l.fullName)||\"\").trim();if(!e)return\"??\";const t=e.split(/\\s+/);return t.length>=2?(t[0][0]+t[t.length-1][0]).toUpperCase():e.substring(0,2).toUpperCase()},[l]);if(o)return Object(j.jsx)(\"div\",{className:\"page\",children:Object(j.jsx)(z,{})});if(m||!l)return Object(j.jsx)(\"div\",{className:\"page\",children:Object(j.jsx)(\"div\",{className:\"alert alert-error\",children:m||\"Student not found\"})});const p=l.phoneNumber||\"\",N=l.schoolEmail||l.personalEmail||\"\",f=p?\"tel:\".concat(String(p).replace(/\\s+/g,\"\")):null,y=N?\"mailto:\".concat(N):null,S=[{id:\"basic\",label:\"Basic\",icon:g.L},{id:\"academic\",label:\"Academic\",icon:g.j},{id:\"contact\",label:\"Contact\",icon:g.D},{id:\"guardian\",label:\"Guardian\",icon:g.N}];return Object(j.jsxs)(\"div\",{className:\"page student-profile-page\",children:[Object(j.jsxs)(\"div\",{className:\"profile-header-section\",children:[Object(j.jsxs)(\"div\",{className:\"profile-header-left\",children:[Object(j.jsx)(\"button\",{className:\"back-button\",onClick:()=>t(\"/students\"),children:Object(j.jsx)(g.e,{size:20})}),Object(j.jsx)(\"h1\",{children:\"Student Profile\"})]}),Object(j.jsxs)(\"button\",{className:\"btn-secondary\",onClick:()=>t(\"/students/\".concat(e,\"/edit\")),children:[Object(j.jsx)(g.q,{size:16,style:{marginRight:8}}),\"Edit Profile\"]})]}),Object(j.jsxs)(\"div\",{className:\"profile-top-card\",children:[Object(j.jsx)(\"div\",{className:\"profile-avatar-large\",children:v}),Object(j.jsxs)(\"div\",{className:\"profile-info-main\",children:[Object(j.jsx)(\"h2\",{className:\"profile-name\",children:l.fullName||\"-\"}),Object(j.jsxs)(\"div\",{className:\"profile-badges\",children:[Object(j.jsxs)(\"div\",{className:\"info-badge purple\",children:[Object(j.jsx)(g.l,{size:14}),Object(j.jsxs)(\"span\",{children:[\"Class \",l.gradeLevel||\"-\",\" \\u2022 Sec \",l.section||\"-\"]})]}),Object(j.jsx)(B,{status:l.status||\"Active\"}),Object(j.jsxs)(\"div\",{className:\"info-badge orange\",children:[Object(j.jsx)(g.u,{size:14}),Object(j.jsxs)(\"span\",{children:[\"# \",l.admissionNumber||l.rollNo||\"-\"]})]})]}),Object(j.jsxs)(\"div\",{className:\"contact-cards\",children:[Object(j.jsxs)(\"div\",{className:\"contact-card\",children:[Object(j.jsx)(g.C,{size:18}),p?Object(j.jsx)(\"a\",{className:\"contact-card-link\",href:f,children:p}):Object(j.jsx)(\"span\",{children:\"N/A\"})]}),Object(j.jsxs)(\"div\",{className:\"contact-card\",children:[Object(j.jsx)(g.z,{size:18}),N?Object(j.jsx)(\"a\",{className:\"contact-card-link\",href:y,children:N}):Object(j.jsx)(\"span\",{children:\"N/A\"})]}),Object(j.jsxs)(\"div\",{className:\"contact-card\",children:[Object(j.jsx)(g.v,{size:18}),Object(j.jsx)(\"span\",{children:l.address||\"N/A\"})]})]})]})]}),Object(j.jsxs)(\"div\",{className:\"profile-metrics-grid\",children:[Object(j.jsxs)(\"div\",{className:\"metric-card\",children:[Object(j.jsx)(\"div\",{className:\"metric-icon\",children:Object(j.jsx)(g.l,{size:20})}),Object(j.jsx)(\"div\",{className:\"metric-label\",children:\"CLASS\"}),Object(j.jsx)(\"div\",{className:\"metric-value\",children:l.gradeLevel||\"-\"})]}),Object(j.jsxs)(\"div\",{className:\"metric-card\",children:[Object(j.jsx)(\"div\",{className:\"metric-icon\",children:Object(j.jsx)(g.l,{size:20})}),Object(j.jsx)(\"div\",{className:\"metric-label\",children:\"SECTION\"}),Object(j.jsx)(\"div\",{className:\"metric-value\",children:l.section||\"-\"})]}),Object(j.jsxs)(\"div\",{className:\"metric-card\",children:[Object(j.jsx)(\"div\",{className:\"metric-icon\",children:Object(j.jsx)(g.l,{size:20})}),Object(j.jsx)(\"div\",{className:\"metric-label\",children:\"ACADEMIC YEAR\"}),Object(j.jsx)(\"div\",{className:\"metric-value\",children:l.academicYear||\"-\"})]}),Object(j.jsxs)(\"div\",{className:\"metric-card\",children:[Object(j.jsx)(\"div\",{className:\"metric-icon\",children:Object(j.jsx)(g.H,{size:20})}),Object(j.jsx)(\"div\",{className:\"metric-label\",children:\"STATUS\"}),Object(j.jsx)(\"div\",{className:\"metric-value\",children:l.status||\"Active\"})]}),Object(j.jsxs)(\"div\",{className:\"metric-card\",children:[Object(j.jsx)(\"div\",{className:\"metric-icon\",children:Object(j.jsx)(g.l,{size:20})}),Object(j.jsx)(\"div\",{className:\"metric-label\",children:\"ATTENDANCE\"}),Object(j.jsx)(\"div\",{className:\"metric-value\",children:\"86%\"})]}),Object(j.jsxs)(\"div\",{className:\"metric-card\",children:[Object(j.jsx)(\"div\",{className:\"metric-icon\",children:Object(j.jsx)(g.H,{size:20})}),Object(j.jsx)(\"div\",{className:\"metric-label\",children:\"FEES DUE\"}),Object(j.jsx)(\"div\",{className:\"metric-value\",children:\"\\u20b9 0\"})]})]}),Object(j.jsxs)(\"div\",{className:\"profile-content-layout\",children:[Object(j.jsxs)(\"div\",{className:\"profile-tabs-section\",children:[Object(j.jsx)(\"div\",{className:\"profile-tabs\",children:S.map(e=>{const t=e.icon;return Object(j.jsxs)(\"button\",{className:\"profile-tab \".concat(O===e.id?\"active\":\"\"),onClick:()=>x(e.id),type:\"button\",children:[Object(j.jsx)(t,{size:16}),Object(j.jsx)(\"span\",{children:e.label})]},e.id)})}),Object(j.jsxs)(\"div\",{className:\"profile-tab-content\",children:[\"basic\"===O&&Object(j.jsxs)(\"div\",{className:\"tab-panel\",children:[Object(j.jsxs)(\"div\",{className:\"form-field-display\",children:[Object(j.jsx)(\"label\",{children:\"Full Name\"}),Object(j.jsx)(\"div\",{className:\"field-value\",children:l.fullName||\"-\"})]}),Object(j.jsxs)(\"div\",{className:\"form-field-display\",children:[Object(j.jsx)(\"label\",{children:\"Gender\"}),Object(j.jsx)(\"div\",{className:\"field-value\",children:l.gender||\"-\"})]}),Object(j.jsxs)(\"div\",{className:\"form-field-display\",children:[Object(j.jsx)(\"label\",{children:\"Date of Birth\"}),Object(j.jsx)(\"div\",{className:\"field-value\",children:l.dateOfBirth||\"-\"})]}),Object(j.jsxs)(\"div\",{className:\"form-field-display\",children:[Object(j.jsx)(\"label\",{children:\"Blood Group\"}),Object(j.jsx)(\"div\",{className:\"field-value\",children:l.bloodGroup||\"-\"})]}),Object(j.jsxs)(\"div\",{className:\"form-field-display\",children:[Object(j.jsx)(\"label\",{children:\"Nationality\"}),Object(j.jsx)(\"div\",{className:\"field-value\",children:l.nationality||\"-\"})]}),Object(j.jsxs)(\"div\",{className:\"form-field-display\",children:[Object(j.jsx)(\"label\",{children:\"Mother Tongue\"}),Object(j.jsx)(\"div\",{className:\"field-value\",children:l.motherTongue||\"-\"})]})]}),\"academic\"===O&&Object(j.jsxs)(\"div\",{className:\"tab-panel\",children:[Object(j.jsxs)(\"div\",{className:\"form-field-display\",children:[Object(j.jsx)(\"label\",{children:\"Admission Number\"}),Object(j.jsx)(\"div\",{className:\"field-value\",children:l.admissionNumber||\"-\"})]}),Object(j.jsxs)(\"div\",{className:\"form-field-display\",children:[Object(j.jsx)(\"label\",{children:\"Roll No\"}),Object(j.jsx)(\"div\",{className:\"field-value\",children:l.rollNo||\"-\"})]}),Object(j.jsxs)(\"div\",{className:\"form-field-display\",children:[Object(j.jsx)(\"label\",{children:\"Class\"}),Object(j.jsx)(\"div\",{className:\"field-value\",children:l.gradeLevel||\"-\"})]}),Object(j.jsxs)(\"div\",{className:\"form-field-display\",children:[Object(j.jsx)(\"label\",{children:\"Section\"}),Object(j.jsx)(\"div\",{className:\"field-value\",children:l.section||\"-\"})]}),Object(j.jsxs)(\"div\",{className:\"form-field-display\",children:[Object(j.jsx)(\"label\",{children:\"Academic Year\"}),Object(j.jsx)(\"div\",{className:\"field-value\",children:l.academicYear||\"-\"})]}),Object(j.jsxs)(\"div\",{className:\"form-field-display\",children:[Object(j.jsx)(\"label\",{children:\"Admission Date\"}),Object(j.jsx)(\"div\",{className:\"field-value\",children:l.admissionDate||\"-\"})]})]}),\"contact\"===O&&Object(j.jsxs)(\"div\",{className:\"tab-panel\",children:[Object(j.jsxs)(\"div\",{className:\"form-field-display\",children:[Object(j.jsx)(\"label\",{children:\"Phone Number\"}),Object(j.jsx)(\"div\",{className:\"field-value\",children:l.phoneNumber||\"-\"})]}),Object(j.jsxs)(\"div\",{className:\"form-field-display\",children:[Object(j.jsx)(\"label\",{children:\"School Email\"}),Object(j.jsx)(\"div\",{className:\"field-value\",children:l.schoolEmail||\"-\"})]}),Object(j.jsxs)(\"div\",{className:\"form-field-display\",children:[Object(j.jsx)(\"label\",{children:\"Personal Email\"}),Object(j.jsx)(\"div\",{className:\"field-value\",children:l.personalEmail||\"-\"})]}),Object(j.jsxs)(\"div\",{className:\"form-field-display\",children:[Object(j.jsx)(\"label\",{children:\"Address\"}),Object(j.jsx)(\"div\",{className:\"field-value\",children:l.address||\"-\"})]})]}),\"guardian\"===O&&Object(j.jsxs)(\"div\",{className:\"tab-panel\",children:[Object(j.jsxs)(\"div\",{className:\"form-field-display\",children:[Object(j.jsx)(\"label\",{children:\"Guardian Name\"}),Object(j.jsx)(\"div\",{className:\"field-value\",children:l.guardianName||\"-\"})]}),Object(j.jsxs)(\"div\",{className:\"form-field-display\",children:[Object(j.jsx)(\"label\",{children:\"Relation\"}),Object(j.jsx)(\"div\",{className:\"field-value\",children:l.guardianRelation||\"-\"})]}),Object(j.jsxs)(\"div\",{className:\"form-field-display\",children:[Object(j.jsx)(\"label\",{children:\"Guardian Contact\"}),Object(j.jsx)(\"div\",{className:\"field-value\",children:l.guardianContact||\"-\"})]})]})]})]}),Object(j.jsxs)(\"div\",{className:\"attendance-summary-card\",children:[Object(j.jsx)(\"h3\",{children:\"Attendance Summary\"}),Object(j.jsxs)(\"div\",{className:\"attendance-percentage\",children:[Object(j.jsx)(\"strong\",{children:\"86%\"}),Object(j.jsx)(\"span\",{children:\"Overall attendance\"})]}),Object(j.jsxs)(\"div\",{className:\"attendance-bars\",children:[Object(j.jsxs)(\"div\",{className:\"attendance-bar-item\",children:[Object(j.jsx)(\"div\",{className:\"bar-label\",children:\"PRESENT\"}),Object(j.jsx)(\"div\",{className:\"bar-container\",children:Object(j.jsx)(\"div\",{className:\"bar-fill present\",style:{width:\"86%\"}})})]}),Object(j.jsxs)(\"div\",{className:\"attendance-bar-item\",children:[Object(j.jsx)(\"div\",{className:\"bar-label\",children:\"ABSENT\"}),Object(j.jsx)(\"div\",{className:\"bar-container\",children:Object(j.jsx)(\"div\",{className:\"bar-fill absent\",style:{width:\"14%\"}})})]})]})]})]})]})}function V(){const e=Object(i.q)(),{token:t}=u(),a=C(),[c,l]=Object(s.useState)(\"\"),[n,o]=Object(s.useState)(\"\"),[b,m]=Object(s.useState)(\"\"),[h,O]=Object(s.useState)([]),[x,v]=Object(s.useState)(!1),[p,N]=Object(s.useState)(\"\"),[f,y]=Object(s.useState)(!1),[S,w]=Object(s.useState)(\"\"),[E,k]=Object(s.useState)(!1),[A,T]=Object(s.useState)(\"\"),[L,D]=Object(s.useState)(1),[q,z]=Object(s.useState)({key:null,direction:\"asc\"}),F=Object(s.useCallback)(async()=>{v(!0),N(\"\");try{const e=r(\"/midland/admin/teachers/all\"),a=await fetch(e,{headers:d(t)});if(!a.ok)throw new Error(\"Failed to load teachers: \".concat(a.status,\" \").concat(a.statusText));const s=await a.json();O(Array.isArray(s)?s:[])}catch(e){const t=e.message||\"Failed to load teachers\";N(t),a.error(t)}finally{v(!1)}},[t,a]);Object(s.useEffect)(()=>{F()},[F]),Object(s.useEffect)(()=>{try{R.a.setAppElement(\"#root\")}catch(e){}},[]);const I=Object(s.useMemo)(()=>Array.from(new Set(h.map(e=>String(e.department||\"\").trim()).filter(Boolean))),[h]),U=Object(s.useMemo)(()=>Array.from(new Set(h.map(e=>String(e.designation||\"\").trim()).filter(Boolean))),[h]),_=(e,t)=>{z({key:e,direction:t}),D(1)},H=Object(s.useMemo)(()=>{const e=c.trim().toLowerCase();let t=h.filter(t=>{const a=String(t.fullName||\"\").toLowerCase(),s=String(t.schoolEmail||t.personalEmail||\"\").toLowerCase(),c=!e||a.includes(e)||s.includes(e),l=!n||String(t.department||\"\")===n,i=!b||String(t.designation||\"\")===b;return c&&l&&i}).map(e=>({key:e.teacherCode||e.schoolEmail||Math.random(),id:e.teacherCode||e.schoolEmail||\"-\",name:e.fullName||\"-\",email:e.schoolEmail||e.personalEmail||\"-\",department:e.department||\"-\",designation:e.designation||\"-\",status:e.status||\"Active\",emailKey:e.schoolEmail||e.personalEmail||\"\"}));return q.key&&t.sort((e,t)=>{let a=e[q.key],s=t[q.key];return\"string\"===typeof a&&(a=a.toLowerCase(),s=s.toLowerCase()),a<s?\"asc\"===q.direction?-1:1:a>s?\"asc\"===q.direction?1:-1:0}),t},[h,c,n,b,q]),W=Math.ceil(H.length/6),J=6*(L-1),Y=J+6,V=H.slice(J,Y);return Object(s.useEffect)(()=>{L>W&&W>0&&D(1)},[W,L]),Object(j.jsxs)(\"div\",{className:\"page teachers\",children:[Object(j.jsxs)(\"div\",{className:\"page-header\",children:[Object(j.jsxs)(\"div\",{className:\"header-main\",children:[Object(j.jsx)(\"h2\",{children:\"Teachers\"}),Object(j.jsx)(\"div\",{className:\"meta\",children:x?\"Loading\\u2026\":\"\".concat(H.length,\" teacher\").concat(1!==H.length?\"s\":\"\")})]}),Object(j.jsxs)(\"button\",{className:\"btn-primary\",onClick:()=>e(\"/teachers/create\"),children:[Object(j.jsx)(g.E,{size:18,style:{marginRight:8}}),\"Add Teacher\"]})]}),p&&Object(j.jsx)(\"div\",{className:\"alert alert-error\",children:p}),Object(j.jsxs)(\"div\",{className:\"filters\",children:[Object(j.jsxs)(\"div\",{className:\"filter-input-wrapper\",children:[Object(j.jsx)(g.F,{className:\"filter-icon\"}),Object(j.jsx)(\"input\",{type:\"text\",placeholder:\"Search by name or email...\",value:c,onChange:e=>l(e.target.value),className:\"filter-input\"})]}),Object(j.jsxs)(\"div\",{className:\"filter-select-wrapper\",children:[Object(j.jsx)(g.k,{className:\"filter-icon\"}),Object(j.jsxs)(\"select\",{value:n,onChange:e=>o(e.target.value),className:\"filter-select\",children:[Object(j.jsx)(\"option\",{value:\"\",children:\"All Departments\"}),I.map(e=>Object(j.jsx)(\"option\",{value:e,children:e},e))]})]}),Object(j.jsxs)(\"div\",{className:\"filter-select-wrapper\",children:[Object(j.jsx)(g.H,{className:\"filter-icon\"}),Object(j.jsxs)(\"select\",{value:b,onChange:e=>m(e.target.value),className:\"filter-select\",children:[Object(j.jsx)(\"option\",{value:\"\",children:\"All Designations\"}),U.map(e=>Object(j.jsx)(\"option\",{value:e,children:e},e))]})]})]}),x?Object(j.jsx)(P,{rows:5,columns:5}):0===H.length?Object(j.jsx)(M,{type:\"teachers\",actionLabel:\"Add Teacher\",onAction:()=>e(\"/teachers/create\")}):Object(j.jsx)(\"div\",{className:\"table-container\",children:Object(j.jsxs)(\"table\",{className:\"data-table\",children:[Object(j.jsx)(\"thead\",{children:Object(j.jsxs)(\"tr\",{children:[Object(j.jsx)(K,{sortKey:\"id\",currentSort:q,onSort:_,children:\"ID\"}),Object(j.jsx)(K,{sortKey:\"name\",currentSort:q,onSort:_,children:\"Name\"}),Object(j.jsx)(K,{sortKey:\"email\",currentSort:q,onSort:_,children:\"Email\"}),Object(j.jsx)(K,{sortKey:\"department\",currentSort:q,onSort:_,children:\"Department\"}),Object(j.jsx)(K,{sortKey:\"designation\",currentSort:q,onSort:_,children:\"Designation\"}),Object(j.jsx)(K,{sortKey:\"status\",currentSort:q,onSort:_,children:\"Status\"}),Object(j.jsx)(K,{className:\"actions-column\",children:\"Actions\"})]})}),Object(j.jsx)(\"tbody\",{children:V.map(t=>Object(j.jsxs)(\"tr\",{children:[Object(j.jsx)(\"td\",{className:\"cell-id\",children:t.id}),Object(j.jsx)(\"td\",{className:\"cell-name\",children:Object(j.jsx)(\"button\",{className:\"name-link\",onClick:()=>e(\"/teachers/\".concat(t.emailKey||t.id)),title:\"View Profile\",children:t.name})}),Object(j.jsx)(\"td\",{className:\"cell-email\",children:t.email}),Object(j.jsx)(\"td\",{className:\"cell-small\",children:t.department}),Object(j.jsx)(\"td\",{className:\"cell-small\",children:t.designation}),Object(j.jsx)(\"td\",{className:\"cell-status\",children:Object(j.jsx)(B,{status:t.status})}),Object(j.jsx)(\"td\",{className:\"cell-actions\",children:Object(j.jsxs)(\"div\",{className:\"action-buttons\",children:[Object(j.jsx)(\"button\",{className:\"btn-icon\",onClick:()=>e(\"/teachers/\".concat(t.emailKey||t.key,\"/edit\")),title:\"Edit\",\"aria-label\":\"Edit teacher\",children:Object(j.jsx)(g.q,{size:18})}),Object(j.jsx)(\"button\",{className:\"btn-icon btn-danger\",onClick:()=>{w(t.emailKey),y(!0)},title:\"Delete\",\"aria-label\":\"Delete teacher\",children:Object(j.jsx)(g.I,{size:18})})]})})]},t.key))})]})}),!x&&H.length>0&&Object(j.jsx)(G,{currentPage:L,totalPages:W,onPageChange:D}),Object(j.jsx)(R.a,{isOpen:f,onRequestClose:()=>!E&&y(!1),className:\"modal\",overlayClassName:\"modal-overlay\",children:Object(j.jsxs)(\"div\",{className:\"modal-content\",children:[Object(j.jsx)(\"h3\",{children:\"Delete Teacher\"}),Object(j.jsx)(\"p\",{children:\"Are you sure you want to delete this teacher? This action cannot be undone.\"}),A&&Object(j.jsx)(\"div\",{className:\"alert alert-error\",style:{marginBottom:16},children:A}),Object(j.jsxs)(\"div\",{className:\"modal-actions\",children:[Object(j.jsx)(\"button\",{className:\"btn-secondary\",onClick:()=>y(!1),disabled:E,children:\"Cancel\"}),Object(j.jsx)(\"button\",{className:\"btn-danger\",disabled:E,onClick:async()=>{if(S){k(!0),T(\"\");try{const e=encodeURIComponent(S),a=r(\"/midland/admin/teachers/delete/\".concat(e)),s=await fetch(a,{method:\"DELETE\",headers:d(t)});if(!s.ok){const e=await s.text().catch(()=>\"\");throw new Error(e||\"Failed to delete: \".concat(s.status))}y(!1),F()}catch(e){T(e.message||\"Failed to delete teacher\")}finally{k(!1)}}},children:E?\"Deleting\\u2026\":\"Delete\"})]})]})})]})}function Q(){const e=Object(i.q)(),{token:t}=u(),a=C(),[c,l]=Object(s.useState)({username:\"\",password:\"\",fullName:\"\",gender:\"\",dateOfBirth:\"\",department:\"\",designation:\"\",teacherCode:\"\",schoolEmail:\"\",personalEmail:\"\",phoneNumber:\"\",schoolCode:\"\"}),[n,o]=Object(s.useState)(!1),[b,m]=Object(s.useState)(\"\");return Object(j.jsxs)(\"div\",{className:\"page\",children:[Object(j.jsxs)(\"div\",{className:\"page-header\",children:[Object(j.jsx)(\"h2\",{children:\"Create New Teacher\"}),Object(j.jsxs)(\"button\",{className:\"btn-secondary\",onClick:()=>e(\"/teachers\"),children:[Object(j.jsx)(g.e,{size:16,style:{marginRight:8}}),\"Back to List\"]})]}),b&&Object(j.jsx)(\"div\",{className:\"alert alert-error\",children:b}),Object(j.jsxs)(\"form\",{onSubmit:async s=>{s.preventDefault(),m(\"\"),o(!0);try{const s={username:String(c.username||\"\").trim(),password:String(c.password||\"\").trim(),fullName:String(c.fullName||\"\").trim(),gender:String(c.gender||\"\").trim(),dateOfBirth:String(c.dateOfBirth||\"\").trim(),department:String(c.department||\"\").trim(),designation:String(c.designation||\"\").trim(),teacherCode:String(c.teacherCode||\"\").trim(),schoolEmail:String(c.schoolEmail||\"\").trim(),personalEmail:String(c.personalEmail||\"\").trim(),phoneNumber:String(c.phoneNumber||\"\").trim(),schoolCode:String(c.schoolCode||\"\").trim()},l=r(\"/midland/admin/teachers/create\"),n=await fetch(l,{method:\"POST\",headers:d(t),body:JSON.stringify(s)});if(!n.ok){const e=await n.text().catch(()=>\"\");throw new Error(e||\"Failed to create: \".concat(n.status))}a.success(\"Teacher created successfully\"),e(\"/teachers\",{replace:!0})}catch(l){const e=l.message||\"Failed to create teacher\";m(e),a.error(e)}finally{o(!1)}},children:[Object(j.jsxs)(\"div\",{className:\"form-section\",children:[Object(j.jsxs)(\"h3\",{children:[Object(j.jsx)(g.L,{}),\"Account\"]}),Object(j.jsxs)(\"div\",{className:\"form-grid\",children:[Object(j.jsxs)(\"label\",{children:[\"Username *\",Object(j.jsx)(\"input\",{value:c.username,onChange:e=>l(Object(H.a)(Object(H.a)({},c),{},{username:e.target.value})),required:!0})]}),Object(j.jsxs)(\"label\",{children:[\"Password *\",Object(j.jsx)(\"input\",{type:\"password\",value:c.password,onChange:e=>l(Object(H.a)(Object(H.a)({},c),{},{password:e.target.value})),required:!0})]})]})]}),Object(j.jsxs)(\"div\",{className:\"form-section\",children:[Object(j.jsxs)(\"h3\",{children:[Object(j.jsx)(g.L,{}),\"Personal Info\"]}),Object(j.jsxs)(\"div\",{className:\"form-grid\",children:[Object(j.jsxs)(\"label\",{children:[\"Full Name *\",Object(j.jsx)(\"input\",{value:c.fullName,onChange:e=>l(Object(H.a)(Object(H.a)({},c),{},{fullName:e.target.value})),required:!0})]}),Object(j.jsxs)(\"label\",{children:[\"Gender *\",Object(j.jsxs)(\"select\",{value:c.gender,onChange:e=>l(Object(H.a)(Object(H.a)({},c),{},{gender:e.target.value})),required:!0,children:[Object(j.jsx)(\"option\",{value:\"\",children:\"Select\"}),Object(j.jsx)(\"option\",{value:\"Male\",children:\"Male\"}),Object(j.jsx)(\"option\",{value:\"Female\",children:\"Female\"}),Object(j.jsx)(\"option\",{value:\"Other\",children:\"Other\"})]})]}),Object(j.jsxs)(\"label\",{children:[\"Date of Birth *\",Object(j.jsx)(\"input\",{type:\"date\",value:c.dateOfBirth,onChange:e=>l(Object(H.a)(Object(H.a)({},c),{},{dateOfBirth:e.target.value})),required:!0})]})]})]}),Object(j.jsxs)(\"div\",{className:\"form-section\",children:[Object(j.jsxs)(\"h3\",{children:[Object(j.jsx)(g.k,{}),\"Professional Info\"]}),Object(j.jsxs)(\"div\",{className:\"form-grid\",children:[Object(j.jsxs)(\"label\",{children:[\"Department *\",Object(j.jsx)(\"input\",{value:c.department,onChange:e=>l(Object(H.a)(Object(H.a)({},c),{},{department:e.target.value})),required:!0})]}),Object(j.jsxs)(\"label\",{children:[\"Designation *\",Object(j.jsx)(\"input\",{value:c.designation,onChange:e=>l(Object(H.a)(Object(H.a)({},c),{},{designation:e.target.value})),required:!0})]}),Object(j.jsxs)(\"label\",{children:[\"Teacher Code *\",Object(j.jsx)(\"input\",{value:c.teacherCode,onChange:e=>l(Object(H.a)(Object(H.a)({},c),{},{teacherCode:e.target.value})),required:!0})]}),Object(j.jsxs)(\"label\",{children:[\"School Code *\",Object(j.jsx)(\"input\",{value:c.schoolCode,onChange:e=>l(Object(H.a)(Object(H.a)({},c),{},{schoolCode:e.target.value})),required:!0})]})]})]}),Object(j.jsxs)(\"div\",{className:\"form-section\",children:[Object(j.jsxs)(\"h3\",{children:[Object(j.jsx)(g.z,{}),\"Contact Details\"]}),Object(j.jsxs)(\"div\",{className:\"form-grid\",children:[Object(j.jsxs)(\"label\",{children:[\"Phone Number\",Object(j.jsx)(\"input\",{value:c.phoneNumber,onChange:e=>l(Object(H.a)(Object(H.a)({},c),{},{phoneNumber:e.target.value}))})]}),Object(j.jsxs)(\"label\",{children:[\"School Email *\",Object(j.jsx)(\"input\",{type:\"email\",value:c.schoolEmail,onChange:e=>l(Object(H.a)(Object(H.a)({},c),{},{schoolEmail:e.target.value})),required:!0})]}),Object(j.jsxs)(\"label\",{children:[\"Personal Email\",Object(j.jsx)(\"input\",{type:\"email\",value:c.personalEmail,onChange:e=>l(Object(H.a)(Object(H.a)({},c),{},{personalEmail:e.target.value}))})]})]})]}),Object(j.jsxs)(\"div\",{className:\"form-actions\",children:[Object(j.jsx)(\"button\",{type:\"button\",className:\"btn-secondary\",onClick:()=>e(\"/teachers\"),children:\"Cancel\"}),Object(j.jsx)(\"button\",{type:\"submit\",className:\"btn-primary\",disabled:n,children:n?\"Creating...\":\"Create Teacher\"})]})]})]})}function $(){const e=Object(i.q)(),{id:t}=Object(i.s)(),{token:a}=u(),c=C(),[l,n]=Object(s.useState)({}),[o,b]=Object(s.useState)(!0),[m,h]=Object(s.useState)(!1),[O,x]=Object(s.useState)(\"\");if(Object(s.useEffect)(()=>{let e=!0;return async function(){b(!0),x(\"\");try{const s=r(\"/midland/admin/teachers/all\"),l=await fetch(s,{headers:d(a)});if(!l.ok)throw new Error(\"Failed to load teacher\");const i=await l.json(),o=(Array.isArray(i)?i:[]).find(e=>String(e.schoolEmail)===t||String(e.personalEmail)===t||String(e.teacherCode)===t);e&&(o?n(o):(x(\"Teacher not found\"),c.error(\"Teacher not found\")))}catch(s){const t=s.message||\"Failed to load teacher\";e&&x(t),c.error(t)}finally{e&&b(!1)}}(),()=>{e=!1}},[t,a,c]),o)return Object(j.jsx)(\"div\",{className:\"page\",children:Object(j.jsx)(q,{})});if(O&&!l.schoolEmail)return Object(j.jsx)(\"div\",{className:\"page\",children:Object(j.jsx)(\"div\",{className:\"alert alert-error\",children:O})});const v=l.schoolEmail||l.personalEmail||t;return Object(j.jsxs)(\"div\",{className:\"page\",children:[Object(j.jsxs)(\"div\",{className:\"page-header\",children:[Object(j.jsx)(\"h2\",{children:\"Edit Teacher\"}),Object(j.jsxs)(\"button\",{className:\"btn-secondary\",onClick:()=>e(\"/teachers\"),children:[Object(j.jsx)(g.e,{size:16,style:{marginRight:8}}),\"Back to List\"]})]}),O&&Object(j.jsx)(\"div\",{className:\"alert alert-error\",children:O}),Object(j.jsxs)(\"form\",{onSubmit:async t=>{t.preventDefault(),x(\"\"),h(!0);try{const t=Object(H.a)({},l),s=r(\"/midland/admin/teachers/update/\".concat(encodeURIComponent(v))),n=await fetch(s,{method:\"PUT\",headers:d(a),body:JSON.stringify(t)});if(!n.ok){const e=await n.text().catch(()=>\"\");throw new Error(e||\"Failed to update: \".concat(n.status))}c.success(\"Teacher updated successfully\"),e(\"/teachers\",{replace:!0})}catch(s){const e=s.message||\"Failed to update teacher\";x(e),c.error(e)}finally{h(!1)}},children:[Object(j.jsxs)(\"div\",{className:\"form-section\",children:[Object(j.jsx)(\"h3\",{children:\"Account\"}),Object(j.jsxs)(\"div\",{className:\"form-grid\",children:[Object(j.jsxs)(\"label\",{children:[\"Username *\",Object(j.jsx)(\"input\",{value:l.username||\"\",onChange:e=>n(Object(H.a)(Object(H.a)({},l),{},{username:e.target.value})),required:!0})]}),Object(j.jsxs)(\"label\",{children:[\"Password\",Object(j.jsx)(\"input\",{type:\"password\",value:l.password||\"\",onChange:e=>n(Object(H.a)(Object(H.a)({},l),{},{password:e.target.value})),placeholder:\"Leave blank to keep current password\"})]})]})]}),Object(j.jsxs)(\"div\",{className:\"form-section\",children:[Object(j.jsx)(\"h3\",{children:\"Personal Info\"}),Object(j.jsxs)(\"div\",{className:\"form-grid\",children:[Object(j.jsxs)(\"label\",{children:[\"Full Name *\",Object(j.jsx)(\"input\",{value:l.fullName||\"\",onChange:e=>n(Object(H.a)(Object(H.a)({},l),{},{fullName:e.target.value})),required:!0})]}),Object(j.jsxs)(\"label\",{children:[\"Gender *\",Object(j.jsxs)(\"select\",{value:l.gender||\"\",onChange:e=>n(Object(H.a)(Object(H.a)({},l),{},{gender:e.target.value})),required:!0,children:[Object(j.jsx)(\"option\",{value:\"\",children:\"Select\"}),Object(j.jsx)(\"option\",{value:\"Male\",children:\"Male\"}),Object(j.jsx)(\"option\",{value:\"Female\",children:\"Female\"}),Object(j.jsx)(\"option\",{value:\"Other\",children:\"Other\"})]})]}),Object(j.jsxs)(\"label\",{children:[\"Date of Birth *\",Object(j.jsx)(\"input\",{type:\"date\",value:l.dateOfBirth||\"\",onChange:e=>n(Object(H.a)(Object(H.a)({},l),{},{dateOfBirth:e.target.value})),required:!0})]})]})]}),Object(j.jsxs)(\"div\",{className:\"form-section\",children:[Object(j.jsx)(\"h3\",{children:\"Professional Info\"}),Object(j.jsxs)(\"div\",{className:\"form-grid\",children:[Object(j.jsxs)(\"label\",{children:[\"Department *\",Object(j.jsx)(\"input\",{value:l.department||\"\",onChange:e=>n(Object(H.a)(Object(H.a)({},l),{},{department:e.target.value})),required:!0})]}),Object(j.jsxs)(\"label\",{children:[\"Designation *\",Object(j.jsx)(\"input\",{value:l.designation||\"\",onChange:e=>n(Object(H.a)(Object(H.a)({},l),{},{designation:e.target.value})),required:!0})]}),Object(j.jsxs)(\"label\",{children:[\"Teacher Code *\",Object(j.jsx)(\"input\",{value:l.teacherCode||\"\",onChange:e=>n(Object(H.a)(Object(H.a)({},l),{},{teacherCode:e.target.value})),required:!0})]}),Object(j.jsxs)(\"label\",{children:[\"School Code *\",Object(j.jsx)(\"input\",{value:l.schoolCode||\"\",onChange:e=>n(Object(H.a)(Object(H.a)({},l),{},{schoolCode:e.target.value})),required:!0})]})]})]}),Object(j.jsxs)(\"div\",{className:\"form-section\",children:[Object(j.jsx)(\"h3\",{children:\"Contact Details\"}),Object(j.jsxs)(\"div\",{className:\"form-grid\",children:[Object(j.jsxs)(\"label\",{children:[\"Phone Number\",Object(j.jsx)(\"input\",{value:l.phoneNumber||\"\",onChange:e=>n(Object(H.a)(Object(H.a)({},l),{},{phoneNumber:e.target.value}))})]}),Object(j.jsxs)(\"label\",{children:[\"School Email *\",Object(j.jsx)(\"input\",{type:\"email\",value:l.schoolEmail||\"\",onChange:e=>n(Object(H.a)(Object(H.a)({},l),{},{schoolEmail:e.target.value})),required:!0})]}),Object(j.jsxs)(\"label\",{children:[\"Personal Email\",Object(j.jsx)(\"input\",{type:\"email\",value:l.personalEmail||\"\",onChange:e=>n(Object(H.a)(Object(H.a)({},l),{},{personalEmail:e.target.value}))})]})]})]}),Object(j.jsxs)(\"div\",{className:\"form-actions\",children:[Object(j.jsx)(\"button\",{type:\"button\",className:\"btn-secondary\",onClick:()=>e(\"/teachers\"),children:\"Cancel\"}),Object(j.jsx)(\"button\",{type:\"submit\",className:\"btn-primary\",disabled:m,children:m?\"Updating...\":\"Update Teacher\"})]})]})]})}a(44);function X(){const{id:e}=Object(i.s)(),t=Object(i.q)(),{token:a}=u(),c=C(),[l,n]=Object(s.useState)(null),[o,b]=Object(s.useState)(!0),[m,h]=Object(s.useState)(\"\"),[O,x]=Object(s.useState)(\"basic\");Object(s.useEffect)(()=>{let t=!0;return async function(){b(!0),h(\"\");try{const s=r(\"/midland/admin/teachers/all\"),l=await fetch(s,{headers:d(a)});if(!l.ok)throw new Error(\"Failed to load teacher\");const i=await l.json(),o=(Array.isArray(i)?i:[]).find(t=>String(t.schoolEmail)===e||String(t.personalEmail)===e||String(t.teacherCode)===e);t&&(n(o||null),o||(h(\"Teacher not found\"),c.error(\"Teacher not found\")))}catch(s){const e=s.message||\"Failed to load teacher\";t&&h(e),c.error(e)}finally{t&&b(!1)}}(),()=>{t=!1}},[e,a,c]);const v=Object(s.useMemo)(()=>{const e=((null===l||void 0===l?void 0:l.fullName)||\"\").trim();if(!e)return\"??\";const t=e.split(/\\s+/);return t.length>=2?(t[0][0]+t[t.length-1][0]).toUpperCase():e.substring(0,2).toUpperCase()},[l]);if(o)return Object(j.jsx)(\"div\",{className:\"page\",children:Object(j.jsx)(z,{})});if(m||!l)return Object(j.jsx)(\"div\",{className:\"page\",children:Object(j.jsx)(\"div\",{className:\"alert alert-error\",children:m||\"Teacher not found\"})});const p=l.phoneNumber||\"\",N=l.schoolEmail||l.personalEmail||\"\",f=p?\"tel:\".concat(String(p).replace(/\\s+/g,\"\")):null,y=N?\"mailto:\".concat(N):null,S=[{id:\"basic\",label:\"Basic\",icon:g.L},{id:\"professional\",label:\"Professional\",icon:g.k},{id:\"contact\",label:\"Contact\",icon:g.D}],w=[{label:\"Status\",value:l.status||\"Active\"},{label:\"School Code\",value:l.schoolCode||\"-\"},{label:\"Joined\",value:l.joinDate||\"N/A\"}];return Object(j.jsxs)(\"div\",{className:\"page teacher-profile-page\",children:[Object(j.jsxs)(\"div\",{className:\"profile-header-section\",children:[Object(j.jsxs)(\"div\",{className:\"profile-header-left\",children:[Object(j.jsx)(\"button\",{className:\"back-button\",onClick:()=>t(\"/teachers\"),children:Object(j.jsx)(g.e,{size:20})}),Object(j.jsx)(\"h1\",{children:\"Teacher Profile\"})]}),Object(j.jsxs)(\"button\",{className:\"btn-secondary\",onClick:()=>t(\"/teachers/\".concat(e,\"/edit\")),children:[Object(j.jsx)(g.q,{size:16,style:{marginRight:8}}),\"Edit Profile\"]})]}),Object(j.jsxs)(\"div\",{className:\"profile-top-card\",children:[Object(j.jsx)(\"div\",{className:\"profile-avatar-large\",children:v}),Object(j.jsxs)(\"div\",{className:\"profile-info-main\",children:[Object(j.jsx)(\"h2\",{className:\"profile-name\",children:l.fullName||\"-\"}),Object(j.jsxs)(\"div\",{className:\"profile-badges\",children:[Object(j.jsxs)(\"div\",{className:\"info-badge purple\",children:[Object(j.jsx)(g.k,{size:14}),Object(j.jsxs)(\"span\",{children:[l.department||\"-\",\" \\u2022 \",l.designation||\"-\"]})]}),Object(j.jsx)(B,{status:l.status||\"Active\"}),Object(j.jsxs)(\"div\",{className:\"info-badge orange\",children:[Object(j.jsx)(g.u,{size:14}),Object(j.jsxs)(\"span\",{children:[\"# \",l.teacherCode||\"-\"]})]})]}),Object(j.jsxs)(\"div\",{className:\"contact-cards\",children:[Object(j.jsxs)(\"div\",{className:\"contact-card\",children:[Object(j.jsx)(g.C,{size:18}),p?Object(j.jsx)(\"a\",{className:\"contact-card-link\",href:f,children:p}):Object(j.jsx)(\"span\",{children:\"N/A\"})]}),Object(j.jsxs)(\"div\",{className:\"contact-card\",children:[Object(j.jsx)(g.z,{size:18}),N?Object(j.jsx)(\"a\",{className:\"contact-card-link\",href:y,children:N}):Object(j.jsx)(\"span\",{children:\"N/A\"})]}),Object(j.jsxs)(\"div\",{className:\"contact-card\",children:[Object(j.jsx)(g.v,{size:18}),Object(j.jsx)(\"span\",{children:l.address||\"N/A\"})]})]})]})]}),Object(j.jsxs)(\"div\",{className:\"profile-metrics-grid\",children:[Object(j.jsxs)(\"div\",{className:\"metric-card\",children:[Object(j.jsx)(\"div\",{className:\"metric-icon\",children:Object(j.jsx)(g.k,{size:20})}),Object(j.jsx)(\"div\",{className:\"metric-label\",children:\"DEPARTMENT\"}),Object(j.jsx)(\"div\",{className:\"metric-value\",children:l.department||\"-\"})]}),Object(j.jsxs)(\"div\",{className:\"metric-card\",children:[Object(j.jsx)(\"div\",{className:\"metric-icon\",children:Object(j.jsx)(g.H,{size:20})}),Object(j.jsx)(\"div\",{className:\"metric-label\",children:\"DESIGNATION\"}),Object(j.jsx)(\"div\",{className:\"metric-value\",children:l.designation||\"-\"})]}),Object(j.jsxs)(\"div\",{className:\"metric-card\",children:[Object(j.jsx)(\"div\",{className:\"metric-icon\",children:Object(j.jsx)(g.u,{size:20})}),Object(j.jsx)(\"div\",{className:\"metric-label\",children:\"TEACHER CODE\"}),Object(j.jsx)(\"div\",{className:\"metric-value\",children:l.teacherCode||\"-\"})]}),Object(j.jsxs)(\"div\",{className:\"metric-card\",children:[Object(j.jsx)(\"div\",{className:\"metric-icon\",children:Object(j.jsx)(g.H,{size:20})}),Object(j.jsx)(\"div\",{className:\"metric-label\",children:\"STATUS\"}),Object(j.jsx)(\"div\",{className:\"metric-value\",children:l.status||\"Active\"})]}),Object(j.jsxs)(\"div\",{className:\"metric-card\",children:[Object(j.jsx)(\"div\",{className:\"metric-icon\",children:Object(j.jsx)(g.l,{size:20})}),Object(j.jsx)(\"div\",{className:\"metric-label\",children:\"SCHOOL CODE\"}),Object(j.jsx)(\"div\",{className:\"metric-value\",children:l.schoolCode||\"-\"})]}),Object(j.jsxs)(\"div\",{className:\"metric-card\",children:[Object(j.jsx)(\"div\",{className:\"metric-icon\",children:Object(j.jsx)(g.l,{size:20})}),Object(j.jsx)(\"div\",{className:\"metric-label\",children:\"JOIN DATE\"}),Object(j.jsx)(\"div\",{className:\"metric-value\",children:l.joinDate||\"-\"})]})]}),Object(j.jsxs)(\"div\",{className:\"profile-content-layout\",children:[Object(j.jsxs)(\"div\",{className:\"profile-tabs-section\",children:[Object(j.jsx)(\"div\",{className:\"profile-tabs\",children:S.map(e=>{const t=e.icon;return Object(j.jsxs)(\"button\",{className:\"profile-tab \".concat(O===e.id?\"active\":\"\"),onClick:()=>x(e.id),type:\"button\",children:[Object(j.jsx)(t,{size:16}),Object(j.jsx)(\"span\",{children:e.label})]},e.id)})}),Object(j.jsxs)(\"div\",{className:\"profile-tab-content\",children:[\"basic\"===O&&Object(j.jsxs)(\"div\",{className:\"tab-panel\",children:[Object(j.jsxs)(\"div\",{className:\"form-field-display\",children:[Object(j.jsx)(\"label\",{children:\"Full Name\"}),Object(j.jsx)(\"div\",{className:\"field-value\",children:l.fullName||\"-\"})]}),Object(j.jsxs)(\"div\",{className:\"form-field-display\",children:[Object(j.jsx)(\"label\",{children:\"Gender\"}),Object(j.jsx)(\"div\",{className:\"field-value\",children:l.gender||\"-\"})]}),Object(j.jsxs)(\"div\",{className:\"form-field-display\",children:[Object(j.jsx)(\"label\",{children:\"Date of Birth\"}),Object(j.jsx)(\"div\",{className:\"field-value\",children:l.dateOfBirth||\"-\"})]})]}),\"professional\"===O&&Object(j.jsxs)(\"div\",{className:\"tab-panel\",children:[Object(j.jsxs)(\"div\",{className:\"form-field-display\",children:[Object(j.jsx)(\"label\",{children:\"Teacher Code\"}),Object(j.jsx)(\"div\",{className:\"field-value\",children:l.teacherCode||\"-\"})]}),Object(j.jsxs)(\"div\",{className:\"form-field-display\",children:[Object(j.jsx)(\"label\",{children:\"Department\"}),Object(j.jsx)(\"div\",{className:\"field-value\",children:l.department||\"-\"})]}),Object(j.jsxs)(\"div\",{className:\"form-field-display\",children:[Object(j.jsx)(\"label\",{children:\"Designation\"}),Object(j.jsx)(\"div\",{className:\"field-value\",children:l.designation||\"-\"})]}),Object(j.jsxs)(\"div\",{className:\"form-field-display\",children:[Object(j.jsx)(\"label\",{children:\"School Code\"}),Object(j.jsx)(\"div\",{className:\"field-value\",children:l.schoolCode||\"-\"})]})]}),\"contact\"===O&&Object(j.jsxs)(\"div\",{className:\"tab-panel\",children:[Object(j.jsxs)(\"div\",{className:\"form-field-display\",children:[Object(j.jsx)(\"label\",{children:\"Phone Number\"}),Object(j.jsx)(\"div\",{className:\"field-value\",children:l.phoneNumber||\"-\"})]}),Object(j.jsxs)(\"div\",{className:\"form-field-display\",children:[Object(j.jsx)(\"label\",{children:\"School Email\"}),Object(j.jsx)(\"div\",{className:\"field-value\",children:l.schoolEmail||\"-\"})]}),Object(j.jsxs)(\"div\",{className:\"form-field-display\",children:[Object(j.jsx)(\"label\",{children:\"Personal Email\"}),Object(j.jsx)(\"div\",{className:\"field-value\",children:l.personalEmail||\"-\"})]}),Object(j.jsxs)(\"div\",{className:\"form-field-display\",children:[Object(j.jsx)(\"label\",{children:\"Address\"}),Object(j.jsx)(\"div\",{className:\"field-value\",children:l.address||\"-\"})]})]})]})]}),Object(j.jsxs)(\"div\",{className:\"attendance-summary-card teacher-summary-card\",children:[Object(j.jsx)(\"h3\",{children:\"Profile Highlights\"}),Object(j.jsx)(\"ul\",{className:\"summary-list\",children:w.map(e=>Object(j.jsxs)(\"li\",{children:[Object(j.jsx)(\"span\",{children:e.label}),Object(j.jsx)(\"strong\",{children:e.value})]},e.label))})]})]})]})}function Z(){const e=Object(i.q)(),{token:t}=u(),a=C(),[c,l]=Object(s.useState)(\"\"),[n,o]=Object(s.useState)(\"\"),[b,m]=Object(s.useState)([]),[h,O]=Object(s.useState)(!1),[x,v]=Object(s.useState)(\"\"),[p,N]=Object(s.useState)(!1),[f,y]=Object(s.useState)(\"\"),[S,w]=Object(s.useState)(!1),[E,k]=Object(s.useState)(\"\"),[A,T]=Object(s.useState)(1),[L,D]=Object(s.useState)({key:null,direction:\"asc\"}),q=Object(s.useCallback)(async()=>{O(!0),v(\"\");try{const e=r(\"/midland/admin/all\"),a=await fetch(e,{headers:d(t)});if(!a.ok)throw new Error(\"Failed to load admins: \".concat(a.status,\" \").concat(a.statusText));const s=await a.json();m(Array.isArray(s)?s:[])}catch(e){const t=e.message||\"Failed to load admins\";v(t),a.error(t)}finally{O(!1)}},[t,a]);Object(s.useEffect)(()=>{q()},[q]),Object(s.useEffect)(()=>{try{R.a.setAppElement(\"#root\")}catch(e){}},[]);const z=Object(s.useMemo)(()=>Array.from(new Set(b.map(e=>String(e.designation||\"\").trim()).filter(Boolean))),[b]),F=(e,t)=>{D({key:e,direction:t}),T(1)},I=Object(s.useMemo)(()=>{const e=c.trim().toLowerCase();let t=b.filter(t=>{const a=String(t.fullName||\"\").toLowerCase(),s=String(t.schoolEmail||t.personalEmail||\"\").toLowerCase(),c=!e||a.includes(e)||s.includes(e),l=!n||String(t.designation||\"\")===n;return c&&l}).map(e=>({key:e.schoolEmail||e.personalEmail||Math.random(),id:e.adminCode||e.schoolEmail||\"-\",name:e.fullName||\"-\",email:e.schoolEmail||e.personalEmail||\"-\",designation:e.designation||\"-\",schoolCode:e.schoolCode||\"-\",status:e.status||\"Active\",emailKey:e.schoolEmail||e.personalEmail||\"\"}));return L.key&&t.sort((e,t)=>{let a=e[L.key],s=t[L.key];return\"string\"===typeof a&&(a=a.toLowerCase(),s=s.toLowerCase()),a<s?\"asc\"===L.direction?-1:1:a>s?\"asc\"===L.direction?1:-1:0}),t},[b,c,n,L]),U=Math.ceil(I.length/6),_=6*(A-1),H=_+6,W=I.slice(_,H);return Object(s.useEffect)(()=>{A>U&&U>0&&T(1)},[U,A]),Object(j.jsxs)(\"div\",{className:\"page admins\",children:[Object(j.jsxs)(\"div\",{className:\"page-header\",children:[Object(j.jsxs)(\"div\",{className:\"header-main\",children:[Object(j.jsx)(\"h2\",{children:\"Administrators\"}),Object(j.jsx)(\"div\",{className:\"meta\",children:h?\"Loading\\u2026\":\"\".concat(I.length,\" admin\").concat(1!==I.length?\"s\":\"\")})]}),Object(j.jsxs)(\"button\",{className:\"btn-primary\",onClick:()=>e(\"/admin/create\"),children:[Object(j.jsx)(g.E,{size:18,style:{marginRight:8}}),\"Add Admin\"]})]}),x&&Object(j.jsx)(\"div\",{className:\"alert alert-error\",children:x}),Object(j.jsxs)(\"div\",{className:\"filters\",children:[Object(j.jsxs)(\"div\",{className:\"filter-input-wrapper\",children:[Object(j.jsx)(g.F,{className:\"filter-icon\"}),Object(j.jsx)(\"input\",{type:\"text\",placeholder:\"Search by name or email...\",value:c,onChange:e=>l(e.target.value),className:\"filter-input\"})]}),Object(j.jsxs)(\"div\",{className:\"filter-select-wrapper\",children:[Object(j.jsx)(g.k,{className:\"filter-icon\"}),Object(j.jsxs)(\"select\",{value:n,onChange:e=>o(e.target.value),className:\"filter-select\",children:[Object(j.jsx)(\"option\",{value:\"\",children:\"All Designations\"}),z.map(e=>Object(j.jsx)(\"option\",{value:e,children:e},e))]})]})]}),h?Object(j.jsx)(P,{rows:5,columns:4}):0===I.length?Object(j.jsx)(M,{type:\"admins\",actionLabel:\"Add Admin\",onAction:()=>e(\"/admin/create\")}):Object(j.jsx)(\"div\",{className:\"table-container\",children:Object(j.jsxs)(\"table\",{className:\"data-table\",children:[Object(j.jsx)(\"thead\",{children:Object(j.jsxs)(\"tr\",{children:[Object(j.jsx)(K,{sortKey:\"id\",currentSort:L,onSort:F,children:\"ID\"}),Object(j.jsx)(K,{sortKey:\"name\",currentSort:L,onSort:F,children:\"Name\"}),Object(j.jsx)(K,{sortKey:\"email\",currentSort:L,onSort:F,children:\"Email\"}),Object(j.jsx)(K,{sortKey:\"designation\",currentSort:L,onSort:F,children:\"Designation\"}),Object(j.jsx)(K,{sortKey:\"schoolCode\",currentSort:L,onSort:F,children:\"School Code\"}),Object(j.jsx)(K,{sortKey:\"status\",currentSort:L,onSort:F,children:\"Status\"}),Object(j.jsx)(K,{className:\"actions-column\",children:\"Actions\"})]})}),Object(j.jsx)(\"tbody\",{children:W.map(t=>Object(j.jsxs)(\"tr\",{children:[Object(j.jsx)(\"td\",{className:\"cell-id\",children:t.id}),Object(j.jsx)(\"td\",{className:\"cell-name\",children:Object(j.jsx)(\"button\",{className:\"name-link\",onClick:()=>e(\"/admin/\".concat(encodeURIComponent(t.emailKey||t.id))),title:\"View Profile\",children:t.name})}),Object(j.jsx)(\"td\",{className:\"cell-email\",children:t.email}),Object(j.jsx)(\"td\",{className:\"cell-small\",children:t.designation}),Object(j.jsx)(\"td\",{className:\"cell-small\",children:t.schoolCode}),Object(j.jsx)(\"td\",{className:\"cell-status\",children:Object(j.jsx)(B,{status:t.status})}),Object(j.jsx)(\"td\",{className:\"cell-actions\",children:Object(j.jsxs)(\"div\",{className:\"action-buttons\",children:[Object(j.jsx)(\"button\",{className:\"btn-icon\",onClick:()=>e(\"/admin/\".concat(encodeURIComponent(t.emailKey||t.id),\"/edit\")),title:\"Edit\",\"aria-label\":\"Edit admin\",children:Object(j.jsx)(g.q,{size:18})}),Object(j.jsx)(\"button\",{className:\"btn-icon btn-danger\",onClick:()=>{y(t.emailKey),N(!0)},title:\"Delete\",\"aria-label\":\"Delete admin\",children:Object(j.jsx)(g.I,{size:18})})]})})]},t.key))})]})}),!h&&I.length>0&&Object(j.jsx)(G,{currentPage:A,totalPages:U,onPageChange:T}),Object(j.jsx)(R.a,{isOpen:p,onRequestClose:()=>!S&&N(!1),className:\"modal\",overlayClassName:\"modal-overlay\",children:Object(j.jsxs)(\"div\",{className:\"modal-content\",children:[Object(j.jsx)(\"h3\",{children:\"Delete Administrator\"}),Object(j.jsx)(\"p\",{children:\"Are you sure you want to delete this administrator? This action cannot be undone.\"}),E&&Object(j.jsx)(\"div\",{className:\"alert alert-error\",style:{marginBottom:16},children:E}),Object(j.jsxs)(\"div\",{className:\"modal-actions\",children:[Object(j.jsx)(\"button\",{className:\"btn-secondary\",onClick:()=>N(!1),disabled:S,children:\"Cancel\"}),Object(j.jsx)(\"button\",{className:\"btn-danger\",disabled:S,onClick:async()=>{if(f){w(!0),k(\"\");try{const e=encodeURIComponent(f),s=r(\"/midland/admin/delete/\".concat(e)),c=await fetch(s,{method:\"DELETE\",headers:d(t)});if(!c.ok){const e=await c.text().catch(()=>\"\");throw new Error(e||\"Failed to delete: \".concat(c.status))}N(!1),a.success(\"Administrator deleted successfully\"),q()}catch(e){const t=e.message||\"Failed to delete admin\";k(t),a.error(t)}finally{w(!1)}}},children:S?\"Deleting\\u2026\":\"Delete\"})]})]})})]})}function ee(){const e=Object(i.q)(),{token:t}=u(),a=C(),[c,l]=Object(s.useState)({username:\"\",password:\"\",fullName:\"\",gender:\"\",designation:\"\",schoolEmail:\"\",personalEmail:\"\",phoneNumber:\"\",schoolCode:\"\"}),[n,o]=Object(s.useState)(!1),[b,m]=Object(s.useState)(\"\");return Object(j.jsxs)(\"div\",{className:\"page\",children:[Object(j.jsxs)(\"div\",{className:\"page-header\",children:[Object(j.jsx)(\"h2\",{children:\"Create New Administrator\"}),Object(j.jsxs)(\"button\",{className:\"btn-secondary\",onClick:()=>e(\"/admin\"),children:[Object(j.jsx)(g.e,{size:16,style:{marginRight:8}}),\"Back to List\"]})]}),b&&Object(j.jsx)(\"div\",{className:\"alert alert-error\",children:b}),Object(j.jsxs)(\"form\",{onSubmit:async s=>{s.preventDefault(),m(\"\"),o(!0);try{const s={username:String(c.username||\"\").trim(),password:String(c.password||\"\").trim(),fullName:String(c.fullName||\"\").trim(),gender:String(c.gender||\"\").trim(),designation:String(c.designation||\"\").trim(),schoolEmail:String(c.schoolEmail||\"\").trim(),personalEmail:String(c.personalEmail||\"\").trim(),phoneNumber:String(c.phoneNumber||\"\").trim(),schoolCode:String(c.schoolCode||\"\").trim()},l=r(\"/midland/admin/create\"),n=await fetch(l,{method:\"POST\",headers:d(t),body:JSON.stringify(s)});if(!n.ok){const e=await n.text().catch(()=>\"\");throw new Error(e||\"Failed to create: \".concat(n.status))}a.success(\"Administrator created successfully\"),e(\"/admin\",{replace:!0})}catch(l){const e=l.message||\"Failed to create admin\";m(e),a.error(e)}finally{o(!1)}},children:[Object(j.jsxs)(\"div\",{className:\"form-section\",children:[Object(j.jsxs)(\"h3\",{children:[Object(j.jsx)(g.L,{}),\"Account\"]}),Object(j.jsxs)(\"div\",{className:\"form-grid\",children:[Object(j.jsxs)(\"label\",{children:[\"Username *\",Object(j.jsx)(\"input\",{value:c.username,onChange:e=>l(Object(H.a)(Object(H.a)({},c),{},{username:e.target.value})),required:!0})]}),Object(j.jsxs)(\"label\",{children:[\"Password *\",Object(j.jsx)(\"input\",{type:\"password\",value:c.password,onChange:e=>l(Object(H.a)(Object(H.a)({},c),{},{password:e.target.value})),required:!0})]})]})]}),Object(j.jsxs)(\"div\",{className:\"form-section\",children:[Object(j.jsxs)(\"h3\",{children:[Object(j.jsx)(g.L,{}),\"Personal Info\"]}),Object(j.jsxs)(\"div\",{className:\"form-grid\",children:[Object(j.jsxs)(\"label\",{children:[\"Full Name *\",Object(j.jsx)(\"input\",{value:c.fullName,onChange:e=>l(Object(H.a)(Object(H.a)({},c),{},{fullName:e.target.value})),required:!0})]}),Object(j.jsxs)(\"label\",{children:[\"Gender *\",Object(j.jsxs)(\"select\",{value:c.gender,onChange:e=>l(Object(H.a)(Object(H.a)({},c),{},{gender:e.target.value})),required:!0,children:[Object(j.jsx)(\"option\",{value:\"\",children:\"Select\"}),Object(j.jsx)(\"option\",{value:\"Male\",children:\"Male\"}),Object(j.jsx)(\"option\",{value:\"Female\",children:\"Female\"}),Object(j.jsx)(\"option\",{value:\"Other\",children:\"Other\"})]})]}),Object(j.jsxs)(\"label\",{children:[\"Designation *\",Object(j.jsx)(\"input\",{value:c.designation,onChange:e=>l(Object(H.a)(Object(H.a)({},c),{},{designation:e.target.value})),required:!0})]}),Object(j.jsxs)(\"label\",{children:[\"School Code *\",Object(j.jsx)(\"input\",{value:c.schoolCode,onChange:e=>l(Object(H.a)(Object(H.a)({},c),{},{schoolCode:e.target.value})),required:!0})]})]})]}),Object(j.jsxs)(\"div\",{className:\"form-section\",children:[Object(j.jsxs)(\"h3\",{children:[Object(j.jsx)(g.z,{}),\"Contact Details\"]}),Object(j.jsxs)(\"div\",{className:\"form-grid\",children:[Object(j.jsxs)(\"label\",{children:[\"Phone Number\",Object(j.jsx)(\"input\",{value:c.phoneNumber,onChange:e=>l(Object(H.a)(Object(H.a)({},c),{},{phoneNumber:e.target.value}))})]}),Object(j.jsxs)(\"label\",{children:[\"School Email *\",Object(j.jsx)(\"input\",{type:\"email\",value:c.schoolEmail,onChange:e=>l(Object(H.a)(Object(H.a)({},c),{},{schoolEmail:e.target.value})),required:!0})]}),Object(j.jsxs)(\"label\",{children:[\"Personal Email\",Object(j.jsx)(\"input\",{type:\"email\",value:c.personalEmail,onChange:e=>l(Object(H.a)(Object(H.a)({},c),{},{personalEmail:e.target.value}))})]})]})]}),Object(j.jsxs)(\"div\",{className:\"form-actions\",children:[Object(j.jsx)(\"button\",{type:\"button\",className:\"btn-secondary\",onClick:()=>e(\"/admin\"),children:\"Cancel\"}),Object(j.jsx)(\"button\",{type:\"submit\",className:\"btn-primary\",disabled:n,children:n?\"Creating...\":\"Create Administrator\"})]})]})]})}function te(){const e=Object(i.q)(),{id:t}=Object(i.s)(),{token:a}=u(),c=C(),[l,n]=Object(s.useState)({}),[o,b]=Object(s.useState)(!0),[m,h]=Object(s.useState)(!1),[O,x]=Object(s.useState)(\"\");if(Object(s.useEffect)(()=>{let e=!0;return async function(){b(!0),x(\"\");try{const s=r(\"/midland/admin/all\"),l=await fetch(s,{headers:d(a)});if(!l.ok)throw new Error(\"Failed to load admin\");const i=await l.json(),o=(Array.isArray(i)?i:[]).find(e=>String(e.schoolEmail)===t||String(e.personalEmail)===t);e&&(o?n(o):(x(\"Admin not found\"),c.error(\"Admin not found\")))}catch(s){const t=s.message||\"Failed to load admin\";e&&x(t),c.error(t)}finally{e&&b(!1)}}(),()=>{e=!1}},[t,a,c]),o)return Object(j.jsx)(\"div\",{className:\"page\",children:Object(j.jsx)(q,{})});if(O&&!l.schoolEmail)return Object(j.jsx)(\"div\",{className:\"page\",children:Object(j.jsx)(\"div\",{className:\"alert alert-error\",children:O})});const v=l.schoolEmail||l.personalEmail||t;return Object(j.jsxs)(\"div\",{className:\"page\",children:[Object(j.jsxs)(\"div\",{className:\"page-header\",children:[Object(j.jsx)(\"h2\",{children:\"Edit Administrator\"}),Object(j.jsxs)(\"button\",{className:\"btn-secondary\",onClick:()=>e(\"/admin\"),children:[Object(j.jsx)(g.e,{size:16,style:{marginRight:8}}),\"Back to List\"]})]}),O&&Object(j.jsx)(\"div\",{className:\"alert alert-error\",children:O}),Object(j.jsxs)(\"form\",{onSubmit:async t=>{t.preventDefault(),x(\"\"),h(!0);try{const t=Object(H.a)({},l),s=r(\"/midland/admin/update/\".concat(encodeURIComponent(v))),n=await fetch(s,{method:\"PUT\",headers:d(a),body:JSON.stringify(t)});if(!n.ok){const e=await n.text().catch(()=>\"\");throw new Error(e||\"Failed to update: \".concat(n.status))}c.success(\"Administrator updated successfully\"),e(\"/admin\",{replace:!0})}catch(s){const e=s.message||\"Failed to update admin\";x(e),c.error(e)}finally{h(!1)}},children:[Object(j.jsxs)(\"div\",{className:\"form-section\",children:[Object(j.jsx)(\"h3\",{children:\"Account\"}),Object(j.jsxs)(\"div\",{className:\"form-grid\",children:[Object(j.jsxs)(\"label\",{children:[\"Username *\",Object(j.jsx)(\"input\",{value:l.username||\"\",onChange:e=>n(Object(H.a)(Object(H.a)({},l),{},{username:e.target.value})),required:!0})]}),Object(j.jsxs)(\"label\",{children:[\"Password\",Object(j.jsx)(\"input\",{type:\"password\",value:l.password||\"\",onChange:e=>n(Object(H.a)(Object(H.a)({},l),{},{password:e.target.value})),placeholder:\"Leave blank to keep current password\"})]})]})]}),Object(j.jsxs)(\"div\",{className:\"form-section\",children:[Object(j.jsx)(\"h3\",{children:\"Personal Info\"}),Object(j.jsxs)(\"div\",{className:\"form-grid\",children:[Object(j.jsxs)(\"label\",{children:[\"Full Name *\",Object(j.jsx)(\"input\",{value:l.fullName||\"\",onChange:e=>n(Object(H.a)(Object(H.a)({},l),{},{fullName:e.target.value})),required:!0})]}),Object(j.jsxs)(\"label\",{children:[\"Gender *\",Object(j.jsxs)(\"select\",{value:l.gender||\"\",onChange:e=>n(Object(H.a)(Object(H.a)({},l),{},{gender:e.target.value})),required:!0,children:[Object(j.jsx)(\"option\",{value:\"\",children:\"Select\"}),Object(j.jsx)(\"option\",{value:\"Male\",children:\"Male\"}),Object(j.jsx)(\"option\",{value:\"Female\",children:\"Female\"}),Object(j.jsx)(\"option\",{value:\"Other\",children:\"Other\"})]})]}),Object(j.jsxs)(\"label\",{children:[\"Designation *\",Object(j.jsx)(\"input\",{value:l.designation||\"\",onChange:e=>n(Object(H.a)(Object(H.a)({},l),{},{designation:e.target.value})),required:!0})]}),Object(j.jsxs)(\"label\",{children:[\"School Code *\",Object(j.jsx)(\"input\",{value:l.schoolCode||\"\",onChange:e=>n(Object(H.a)(Object(H.a)({},l),{},{schoolCode:e.target.value})),required:!0})]})]})]}),Object(j.jsxs)(\"div\",{className:\"form-section\",children:[Object(j.jsx)(\"h3\",{children:\"Contact Details\"}),Object(j.jsxs)(\"div\",{className:\"form-grid\",children:[Object(j.jsxs)(\"label\",{children:[\"Phone Number\",Object(j.jsx)(\"input\",{value:l.phoneNumber||\"\",onChange:e=>n(Object(H.a)(Object(H.a)({},l),{},{phoneNumber:e.target.value}))})]}),Object(j.jsxs)(\"label\",{children:[\"School Email *\",Object(j.jsx)(\"input\",{type:\"email\",value:l.schoolEmail||\"\",onChange:e=>n(Object(H.a)(Object(H.a)({},l),{},{schoolEmail:e.target.value})),required:!0})]}),Object(j.jsxs)(\"label\",{children:[\"Personal Email\",Object(j.jsx)(\"input\",{type:\"email\",value:l.personalEmail||\"\",onChange:e=>n(Object(H.a)(Object(H.a)({},l),{},{personalEmail:e.target.value}))})]})]})]}),Object(j.jsxs)(\"div\",{className:\"form-actions\",children:[Object(j.jsx)(\"button\",{type:\"button\",className:\"btn-secondary\",onClick:()=>e(\"/admin\"),children:\"Cancel\"}),Object(j.jsx)(\"button\",{type:\"submit\",className:\"btn-primary\",disabled:m,children:m?\"Updating...\":\"Update Administrator\"})]})]})]})}a(45);function ae(){const{id:e}=Object(i.s)(),t=Object(i.q)(),{token:a}=u(),c=C(),[l,n]=Object(s.useState)(null),[o,b]=Object(s.useState)(!0),[m,h]=Object(s.useState)(\"\");Object(s.useEffect)(()=>{let t=!0;return async function(){b(!0),h(\"\");try{const s=r(\"/midland/admin/all\"),l=await fetch(s,{headers:d(a)});if(!l.ok)throw new Error(\"Failed to load administrator\");const i=await l.json(),o=(Array.isArray(i)?i:[]).find(t=>String(t.schoolEmail)===e||String(t.personalEmail)===e||String(t.adminCode)===e);t&&(n(o||null),o||(h(\"Administrator not found\"),c.error(\"Administrator not found\")))}catch(s){const e=s.message||\"Failed to load administrator\";t&&h(e),c.error(e)}finally{t&&b(!1)}}(),()=>{t=!1}},[e,a,c]);const O=Object(s.useMemo)(()=>{const e=((null===l||void 0===l?void 0:l.fullName)||\"\").trim();if(!e)return\"??\";const t=e.split(/\\s+/);return t.length>=2?(t[0][0]+t[t.length-1][0]).toUpperCase():e.substring(0,2).toUpperCase()},[l]);if(o)return Object(j.jsx)(\"div\",{className:\"page\",children:Object(j.jsx)(z,{})});if(m||!l)return Object(j.jsx)(\"div\",{className:\"page\",children:Object(j.jsx)(\"div\",{className:\"alert alert-error\",children:m||\"Administrator not found\"})});const x=l.schoolEmail||l.personalEmail||\"\",v=l.phoneNumber?\"tel:\".concat(String(l.phoneNumber).replace(/\\s+/g,\"\")):null,p=x?\"mailto:\".concat(x):null;return Object(j.jsxs)(\"div\",{className:\"page admin-profile-page\",children:[Object(j.jsxs)(\"div\",{className:\"profile-header-section\",children:[Object(j.jsxs)(\"div\",{className:\"profile-header-left\",children:[Object(j.jsx)(\"button\",{className:\"back-button\",onClick:()=>t(\"/admin\"),children:Object(j.jsx)(g.e,{size:20})}),Object(j.jsx)(\"h1\",{children:\"Administrator Profile\"})]}),Object(j.jsxs)(\"button\",{className:\"btn-secondary\",onClick:()=>t(\"/admin/\".concat(encodeURIComponent(x||l.adminCode||e),\"/edit\")),children:[Object(j.jsx)(g.q,{size:16,style:{marginRight:8}}),\"Edit Profile\"]})]}),Object(j.jsxs)(\"div\",{className:\"profile-top-card\",children:[Object(j.jsx)(\"div\",{className:\"profile-avatar-large\",children:O}),Object(j.jsxs)(\"div\",{className:\"profile-info-main\",children:[Object(j.jsx)(\"h2\",{className:\"profile-name\",children:l.fullName||\"-\"}),Object(j.jsxs)(\"div\",{className:\"profile-badges\",children:[Object(j.jsxs)(\"div\",{className:\"info-badge purple\",children:[Object(j.jsx)(g.k,{size:14}),Object(j.jsx)(\"span\",{children:l.designation||\"Administrator\"})]}),Object(j.jsx)(B,{status:l.status||\"Active\"}),Object(j.jsxs)(\"div\",{className:\"info-badge orange\",children:[Object(j.jsx)(g.u,{size:14}),Object(j.jsxs)(\"span\",{children:[\"# \",l.adminCode||\"-\"]})]})]}),Object(j.jsxs)(\"div\",{className:\"contact-cards\",children:[Object(j.jsxs)(\"div\",{className:\"contact-card\",children:[Object(j.jsx)(g.C,{size:18}),l.phoneNumber?Object(j.jsx)(\"a\",{className:\"contact-card-link\",href:v,children:l.phoneNumber}):Object(j.jsx)(\"span\",{children:\"N/A\"})]}),Object(j.jsxs)(\"div\",{className:\"contact-card\",children:[Object(j.jsx)(g.z,{size:18}),x?Object(j.jsx)(\"a\",{className:\"contact-card-link\",href:p,children:x}):Object(j.jsx)(\"span\",{children:\"N/A\"})]}),Object(j.jsxs)(\"div\",{className:\"contact-card\",children:[Object(j.jsx)(g.v,{size:18}),Object(j.jsx)(\"span\",{children:l.address||\"N/A\"})]})]})]})]}),Object(j.jsxs)(\"div\",{className:\"profile-metrics-grid\",children:[Object(j.jsxs)(\"div\",{className:\"metric-card\",children:[Object(j.jsx)(\"div\",{className:\"metric-icon\",children:Object(j.jsx)(g.L,{size:20})}),Object(j.jsx)(\"div\",{className:\"metric-label\",children:\"USERNAME\"}),Object(j.jsx)(\"div\",{className:\"metric-value\",children:l.username||\"-\"})]}),Object(j.jsxs)(\"div\",{className:\"metric-card\",children:[Object(j.jsx)(\"div\",{className:\"metric-icon\",children:Object(j.jsx)(g.k,{size:20})}),Object(j.jsx)(\"div\",{className:\"metric-label\",children:\"DESIGNATION\"}),Object(j.jsx)(\"div\",{className:\"metric-value\",children:l.designation||\"-\"})]}),Object(j.jsxs)(\"div\",{className:\"metric-card\",children:[Object(j.jsx)(\"div\",{className:\"metric-icon\",children:Object(j.jsx)(g.u,{size:20})}),Object(j.jsx)(\"div\",{className:\"metric-label\",children:\"SCHOOL CODE\"}),Object(j.jsx)(\"div\",{className:\"metric-value\",children:l.schoolCode||\"-\"})]}),Object(j.jsxs)(\"div\",{className:\"metric-card\",children:[Object(j.jsx)(\"div\",{className:\"metric-icon\",children:Object(j.jsx)(g.z,{size:20})}),Object(j.jsx)(\"div\",{className:\"metric-label\",children:\"SCHOOL EMAIL\"}),Object(j.jsx)(\"div\",{className:\"metric-value\",children:l.schoolEmail||\"-\"})]}),Object(j.jsxs)(\"div\",{className:\"metric-card\",children:[Object(j.jsx)(\"div\",{className:\"metric-icon\",children:Object(j.jsx)(g.z,{size:20})}),Object(j.jsx)(\"div\",{className:\"metric-label\",children:\"PERSONAL EMAIL\"}),Object(j.jsx)(\"div\",{className:\"metric-value\",children:l.personalEmail||\"-\"})]}),Object(j.jsxs)(\"div\",{className:\"metric-card\",children:[Object(j.jsx)(\"div\",{className:\"metric-icon\",children:Object(j.jsx)(g.C,{size:20})}),Object(j.jsx)(\"div\",{className:\"metric-label\",children:\"PHONE\"}),Object(j.jsx)(\"div\",{className:\"metric-value\",children:l.phoneNumber||\"-\"})]})]}),Object(j.jsxs)(\"div\",{className:\"profile-content-layout\",children:[Object(j.jsxs)(\"div\",{className:\"profile-tabs-section\",children:[Object(j.jsx)(\"div\",{className:\"profile-tabs single\",children:Object(j.jsx)(\"button\",{className:\"profile-tab active\",type:\"button\",children:\"Overview\"})}),Object(j.jsx)(\"div\",{className:\"profile-tab-content\",children:Object(j.jsxs)(\"div\",{className:\"tab-panel\",children:[Object(j.jsxs)(\"div\",{className:\"form-field-display\",children:[Object(j.jsx)(\"label\",{children:\"Full Name\"}),Object(j.jsx)(\"div\",{className:\"field-value\",children:l.fullName||\"-\"})]}),Object(j.jsxs)(\"div\",{className:\"form-field-display\",children:[Object(j.jsx)(\"label\",{children:\"Gender\"}),Object(j.jsx)(\"div\",{className:\"field-value\",children:l.gender||\"-\"})]}),Object(j.jsxs)(\"div\",{className:\"form-field-display\",children:[Object(j.jsx)(\"label\",{children:\"Designation\"}),Object(j.jsx)(\"div\",{className:\"field-value\",children:l.designation||\"-\"})]}),Object(j.jsxs)(\"div\",{className:\"form-field-display\",children:[Object(j.jsx)(\"label\",{children:\"School Code\"}),Object(j.jsx)(\"div\",{className:\"field-value\",children:l.schoolCode||\"-\"})]})]})})]}),Object(j.jsxs)(\"div\",{className:\"admin-summary-card\",children:[Object(j.jsx)(\"h3\",{children:\"Profile Highlights\"}),Object(j.jsxs)(\"ul\",{className:\"summary-list\",children:[Object(j.jsxs)(\"li\",{children:[Object(j.jsx)(\"span\",{children:\"Status\"}),Object(j.jsx)(\"strong\",{children:l.status||\"Active\"})]}),Object(j.jsxs)(\"li\",{children:[Object(j.jsx)(\"span\",{children:\"Username\"}),Object(j.jsx)(\"strong\",{children:l.username||\"-\"})]}),Object(j.jsxs)(\"li\",{children:[Object(j.jsx)(\"span\",{children:\"Created\"}),Object(j.jsx)(\"strong\",{children:l.createdAt?new Date(l.createdAt).toLocaleDateString():\"\\u2014\"})]})]})]})]})]})}function se(){const{token:e}=u(),t=C(),[a,c]=Object(s.useState)(\"TCH2025\"),[l,n]=Object(s.useState)(\"\"),[i,o]=Object(s.useState)([]),[b,m]=Object(s.useState)(!1),[h,O]=Object(s.useState)(\"\"),x=Object(s.useCallback)(async()=>{m(!0),O(\"\");try{const t=r(\"/midland/users/timetables/teacher/\".concat(encodeURIComponent(a))),s=await fetch(t,{headers:d(e)});if(!s.ok)throw new Error(\"HTTP \".concat(s.status));const c=await s.json();o(Array.isArray(c)?c:[])}catch(s){const e=s.message||\"Failed to load timetable\";O(e),t.error(e)}finally{m(!1)}},[a,e,t]);Object(s.useEffect)(()=>{x()},[x]);const v=Object(s.useMemo)(()=>Array.from(new Set(i.map(e=>e.dayOfWeek))),[i]),g=Object(s.useMemo)(()=>{const e=l.trim();return i.filter(t=>!e||t.dayOfWeek===e).sort((e,t)=>e.dayOfWeek.localeCompare(t.dayOfWeek)||e.periodNumber-t.periodNumber)},[i,l]);return Object(j.jsxs)(\"div\",{className:\"page timetable\",children:[Object(j.jsx)(\"div\",{className:\"page-header\",children:Object(j.jsxs)(\"div\",{className:\"header-main\",children:[Object(j.jsx)(\"h2\",{children:\"Timetable\"}),Object(j.jsx)(\"div\",{className:\"meta\",children:b?\"Loading\\u2026\":\"\".concat(g.length,\" periods\")})]})}),h&&Object(j.jsx)(\"div\",{className:\"alert alert-error\",children:h}),Object(j.jsxs)(\"div\",{className:\"filters\",children:[Object(j.jsx)(\"input\",{value:a,onChange:e=>c(e.target.value),placeholder:\"Teacher Code (e.g., TCH2025)\",className:\"filter-input\"}),Object(j.jsxs)(\"select\",{value:l,onChange:e=>n(e.target.value),disabled:b,className:\"filter-select\",children:[Object(j.jsx)(\"option\",{value:\"\",children:\"All Days\"}),v.map(e=>Object(j.jsx)(\"option\",{value:e,children:e},e))]})]}),b?Object(j.jsx)(P,{rows:5,columns:7}):0===g.length?Object(j.jsx)(M,{type:\"timetable\"}):Object(j.jsx)(\"div\",{className:\"table-container\",children:Object(j.jsxs)(\"table\",{className:\"data-table\",children:[Object(j.jsx)(\"thead\",{children:Object(j.jsxs)(\"tr\",{children:[Object(j.jsx)(\"th\",{children:\"Day\"}),Object(j.jsx)(\"th\",{children:\"Period\"}),Object(j.jsx)(\"th\",{children:\"Time\"}),Object(j.jsx)(\"th\",{children:\"Subject\"}),Object(j.jsx)(\"th\",{children:\"Class\"}),Object(j.jsx)(\"th\",{children:\"Section\"}),Object(j.jsx)(\"th\",{children:\"Room\"})]})}),Object(j.jsx)(\"tbody\",{children:g.map((e,t)=>Object(j.jsxs)(\"tr\",{children:[Object(j.jsx)(\"td\",{children:e.dayOfWeek||\"-\"}),Object(j.jsx)(\"td\",{children:e.periodNumber||\"-\"}),Object(j.jsx)(\"td\",{children:e.startTime&&e.endTime?\"\".concat(e.startTime,\" - \").concat(e.endTime):\"-\"}),Object(j.jsx)(\"td\",{children:e.subjectName||e.subjectCode||\"-\"}),Object(j.jsx)(\"td\",{children:e.gradeLevel||\"-\"}),Object(j.jsx)(\"td\",{children:e.section||\"-\"}),Object(j.jsx)(\"td\",{children:e.roomNumber||\"-\"})]},t))})]})})]})}function ce(){const{token:e}=u(),t=C(),[a,c]=Object(s.useState)(\"\"),[l,n]=Object(s.useState)(\"\"),[i,o]=Object(s.useState)(\"\"),[b,m]=Object(s.useState)([]),[h,O]=Object(s.useState)(!1),[x,v]=Object(s.useState)(\"\");Object(s.useEffect)(()=>{let a=!0;return async function(){O(!0),v(\"\");try{const t=r(\"/midland/users/subjects/all\"),s=await fetch(t,{headers:d(e)});if(!s.ok)throw new Error(\"Request failed \".concat(s.status));const c=await s.json();a&&m(Array.isArray(c)?c:[])}catch(s){const e=s.message||\"Failed to load subjects\";a&&v(e),t.error(e)}finally{a&&O(!1)}}(),()=>{a=!1}},[e,t]);const g=Object(s.useMemo)(()=>Array.from(new Set(b.map(e=>String(e.gradeLevel||\"\").trim()).filter(Boolean))),[b]),p=Object(s.useMemo)(()=>Array.from(new Set(b.map(e=>String(e.curriculumType||\"\").trim()).filter(Boolean))),[b]),N=Object(s.useMemo)(()=>{const e=a.trim().toLowerCase();return b.filter(t=>{const a=String(t.subjectName||\"\").toLowerCase(),s=String(t.subjectCode||\"\").toLowerCase(),c=!l||String(t.gradeLevel||\"\")===l,n=!i||String(t.curriculumType||\"\")===i,r=!e||a.includes(e)||s.includes(e);return c&&n&&r}).map(e=>({key:e.subjectCode||e.subjectName,subjectName:e.subjectName||\"-\",subjectCode:e.subjectCode||\"-\",curriculumType:e.curriculumType||\"-\",gradeLevel:e.gradeLevel||\"-\",teacherCode:e.teacherCode||\"-\"}))},[b,a,l,i]);return Object(j.jsxs)(\"div\",{className:\"page subjects\",children:[Object(j.jsx)(\"div\",{className:\"page-header\",children:Object(j.jsxs)(\"div\",{className:\"header-main\",children:[Object(j.jsx)(\"h2\",{children:\"Subjects\"}),Object(j.jsx)(\"div\",{className:\"meta\",children:h?\"Loading\\u2026\":\"\".concat(N.length,\" subject\").concat(1!==N.length?\"s\":\"\")})]})}),x&&Object(j.jsx)(\"div\",{className:\"alert alert-error\",children:x}),Object(j.jsxs)(\"div\",{className:\"filters\",children:[Object(j.jsx)(\"input\",{type:\"text\",placeholder:\"Search by name or code...\",value:a,onChange:e=>c(e.target.value),className:\"filter-input\"}),Object(j.jsxs)(\"select\",{value:l,onChange:e=>n(e.target.value),className:\"filter-select\",children:[Object(j.jsx)(\"option\",{value:\"\",children:\"All Grades\"}),g.map(e=>Object(j.jsx)(\"option\",{value:e,children:e},e))]}),Object(j.jsxs)(\"select\",{value:i,onChange:e=>o(e.target.value),className:\"filter-select\",children:[Object(j.jsx)(\"option\",{value:\"\",children:\"All Curricula\"}),p.map(e=>Object(j.jsx)(\"option\",{value:e,children:e},e))]})]}),h?Object(j.jsx)(P,{rows:5,columns:5}):0===N.length?Object(j.jsx)(M,{type:\"subjects\"}):Object(j.jsx)(\"div\",{className:\"table-container\",children:Object(j.jsxs)(\"table\",{className:\"data-table\",children:[Object(j.jsx)(\"thead\",{children:Object(j.jsxs)(\"tr\",{children:[Object(j.jsx)(\"th\",{children:\"Subject Name\"}),Object(j.jsx)(\"th\",{children:\"Subject Code\"}),Object(j.jsx)(\"th\",{children:\"Grade Level\"}),Object(j.jsx)(\"th\",{children:\"Curriculum\"}),Object(j.jsx)(\"th\",{children:\"Teacher Code\"})]})}),Object(j.jsx)(\"tbody\",{children:N.map(e=>Object(j.jsxs)(\"tr\",{children:[Object(j.jsx)(\"td\",{children:e.subjectName}),Object(j.jsx)(\"td\",{children:e.subjectCode}),Object(j.jsx)(\"td\",{children:e.gradeLevel}),Object(j.jsx)(\"td\",{children:e.curriculumType}),Object(j.jsx)(\"td\",{children:e.teacherCode})]},e.key))})]})})]})}function le(e){let{children:t}=e;const{logout:a}=u(),{toggleTheme:c,isDark:l}=function(){const e=Object(s.useContext)(x);if(!e)throw new Error(\"useTheme must be used within ThemeProvider\");return e}(),r=Object(i.q)(),d=Object(i.o)(),[b,m]=Object(s.useState)(\"\"),[h,O]=Object(s.useState)(window.innerWidth>=768),[v,p]=Object(s.useState)(window.innerWidth<768);Object(s.useEffect)(()=>{const e=()=>{const e=window.innerWidth<768;p(e),e&&h&&O(!1),e||h||O(!0)};return window.addEventListener(\"resize\",e),()=>window.removeEventListener(\"resize\",e)},[h]);const N=[{path:\"/\",label:\"Dashboard\",icon:g.v},{path:\"/students\",label:\"Students\",icon:g.N},{path:\"/teachers\",label:\"Teachers\",icon:g.M},{path:\"/admin\",label:\"Admins\",icon:g.L},{path:\"/subjects\",label:\"Subjects\",icon:g.i},{path:\"/timetable\",label:\"Timetable\",icon:g.l}],f=()=>{O(!h)};return Object(j.jsxs)(\"div\",{className:\"dashboard-layout \".concat(l?\"dark-theme\":\"light-theme\",\" \").concat(h?\"sidebar-open\":\"sidebar-closed\"),children:[h&&v&&Object(j.jsx)(\"div\",{className:\"sidebar-overlay\",onClick:f}),Object(j.jsxs)(\"aside\",{className:\"dashboard-sidebar \".concat(h?\"open\":\"closed\"),children:[Object(j.jsx)(\"div\",{className:\"dashboard-sidebar-header\",children:Object(j.jsxs)(\"div\",{className:\"dashboard-logo-container\",children:[Object(j.jsx)(\"img\",{src:o(\"Images/logo.png\"),alt:\"Midland International School\",className:\"dashboard-logo dashboard-logo-big\"}),Object(j.jsx)(\"img\",{src:o(\"Images/sideLogo.png\"),alt:\"Midland International School\",className:\"dashboard-logo dashboard-logo-small\"})]})}),Object(j.jsx)(\"nav\",{className:\"dashboard-sidebar-nav\",children:N.map(e=>{const t=e.icon,a=\"/\"===e.path?\"/\"===d.pathname:d.pathname.startsWith(e.path);return Object(j.jsxs)(n.b,{to:e.path,className:\"dashboard-nav-link \".concat(a?\"active\":\"\"),title:e.label,onClick:t=>{d.pathname===e.path&&t.preventDefault(),v&&O(!1)},children:[Object(j.jsx)(t,{size:20}),Object(j.jsx)(\"span\",{children:e.label})]},e.path)})}),Object(j.jsx)(\"div\",{className:\"dashboard-sidebar-footer\",children:Object(j.jsxs)(\"button\",{onClick:()=>{a(),r(\"/login\")},className:\"dashboard-logout-btn\",title:\"Logout\",children:[Object(j.jsx)(\"span\",{children:\"Logout\"}),Object(j.jsx)(g.f,{size:16})]})})]}),Object(j.jsxs)(\"div\",{className:\"dashboard-content-wrapper\",children:[Object(j.jsxs)(\"header\",{className:\"dashboard-topbar\",children:[Object(j.jsxs)(\"div\",{className:\"topbar-left\",children:[Object(j.jsx)(\"button\",{className:\"topbar-menu-btn\",\"aria-label\":\"Menu\",onClick:f,children:Object(j.jsx)(g.A,{size:20})}),Object(j.jsxs)(\"div\",{className:\"topbar-search\",children:[Object(j.jsx)(g.F,{size:18,className:\"search-icon\"}),Object(j.jsx)(\"input\",{type:\"text\",placeholder:\"Search\",value:b,onChange:e=>m(e.target.value),className:\"search-input\"})]})]}),Object(j.jsxs)(\"div\",{className:\"topbar-right\",children:[Object(j.jsx)(\"button\",{className:\"topbar-icon-btn\",\"aria-label\":\"Grid\",children:Object(j.jsx)(g.t,{size:20})}),Object(j.jsx)(\"button\",{className:\"topbar-icon-btn theme-toggle\",onClick:c,\"aria-label\":\"Toggle theme\",children:l?Object(j.jsx)(g.G,{size:20}):Object(j.jsx)(g.B,{size:20})})]})]}),Object(j.jsx)(\"main\",{className:\"dashboard-main\",children:t})]})]})}a(46);var ne=function(){return Object(j.jsx)(v,{children:Object(j.jsx)(y,{children:Object(j.jsx)(h,{children:Object(j.jsx)(n.a,{children:Object(j.jsxs)(i.d,{children:[Object(j.jsx)(i.b,{path:\"/login\",element:Object(j.jsx)(E,{})}),Object(j.jsx)(i.b,{path:\"/register\",element:Object(j.jsx)(L,{})}),Object(j.jsx)(i.b,{path:\"/*\",element:Object(j.jsx)(O,{children:Object(j.jsx)(le,{children:Object(j.jsxs)(i.d,{children:[Object(j.jsx)(i.b,{path:\"/\",element:Object(j.jsx)(F,{})}),Object(j.jsx)(i.b,{path:\"/students\",element:Object(j.jsx)(_,{})}),Object(j.jsx)(i.b,{path:\"/students/create\",element:Object(j.jsx)(W,{})}),Object(j.jsx)(i.b,{path:\"/students/:id\",element:Object(j.jsx)(Y,{})}),Object(j.jsx)(i.b,{path:\"/students/:id/edit\",element:Object(j.jsx)(J,{})}),Object(j.jsx)(i.b,{path:\"/teachers\",element:Object(j.jsx)(V,{})}),Object(j.jsx)(i.b,{path:\"/teachers/create\",element:Object(j.jsx)(Q,{})}),Object(j.jsx)(i.b,{path:\"/teachers/:id\",element:Object(j.jsx)(X,{})}),Object(j.jsx)(i.b,{path:\"/teachers/:id/edit\",element:Object(j.jsx)($,{})}),Object(j.jsx)(i.b,{path:\"/admin\",element:Object(j.jsx)(Z,{})}),Object(j.jsx)(i.b,{path:\"/admin/create\",element:Object(j.jsx)(ee,{})}),Object(j.jsx)(i.b,{path:\"/admin/:id\",element:Object(j.jsx)(ae,{})}),Object(j.jsx)(i.b,{path:\"/admin/:id/edit\",element:Object(j.jsx)(te,{})}),Object(j.jsx)(i.b,{path:\"/timetable\",element:Object(j.jsx)(se,{})}),Object(j.jsx)(i.b,{path:\"/subjects\",element:Object(j.jsx)(ce,{})}),Object(j.jsx)(i.b,{path:\"*\",element:Object(j.jsx)(i.a,{to:\"/\",replace:!0})})]})})})})]})})})})})};l.a.createRoot(document.getElementById(\"root\")).render(Object(j.jsx)(ne,{}))}],[[47,1,2]]]);","name":"static/js/main.a8cc4b33.chunk.js","input":"(this[\"webpackJsonpschooladmin\"] = this[\"webpackJsonpschooladmin\"] || []).push([[0],[\n/* 0 */,\n/* 1 */,\n/* 2 */,\n/* 3 */,\n/* 4 */,\n/* 5 */,\n/* 6 */,\n/* 7 */,\n/* 8 */,\n/* 9 */,\n/* 10 */,\n/* 11 */\n/***/ (function(module, exports, __webpack_require__) {\n\n// extracted by mini-css-extract-plugin\n\n/***/ }),\n/* 12 */,\n/* 13 */,\n/* 14 */,\n/* 15 */,\n/* 16 */,\n/* 17 */,\n/* 18 */,\n/* 19 */,\n/* 20 */,\n/* 21 */,\n/* 22 */,\n/* 23 */,\n/* 24 */\n/***/ (function(module, exports, __webpack_require__) {\n\n// extracted by mini-css-extract-plugin\n\n/***/ }),\n/* 25 */,\n/* 26 */\n/***/ (function(module, exports, __webpack_require__) {\n\n// extracted by mini-css-extract-plugin\n\n/***/ }),\n/* 27 */\n/***/ (function(module, exports, __webpack_require__) {\n\n// extracted by mini-css-extract-plugin\n\n/***/ }),\n/* 28 */,\n/* 29 */,\n/* 30 */,\n/* 31 */,\n/* 32 */,\n/* 33 */,\n/* 34 */,\n/* 35 */,\n/* 36 */,\n/* 37 */,\n/* 38 */,\n/* 39 */\n/***/ (function(module, exports, __webpack_require__) {\n\n// extracted by mini-css-extract-plugin\n\n/***/ }),\n/* 40 */\n/***/ (function(module, exports, __webpack_require__) {\n\n// extracted by mini-css-extract-plugin\n\n/***/ }),\n/* 41 */\n/***/ (function(module, exports, __webpack_require__) {\n\n// extracted by mini-css-extract-plugin\n\n/***/ }),\n/* 42 */\n/***/ (function(module, exports, __webpack_require__) {\n\n// extracted by mini-css-extract-plugin\n\n/***/ }),\n/* 43 */\n/***/ (function(module, exports, __webpack_require__) {\n\n// extracted by mini-css-extract-plugin\n\n/***/ }),\n/* 44 */\n/***/ (function(module, exports, __webpack_require__) {\n\n// extracted by mini-css-extract-plugin\n\n/***/ }),\n/* 45 */\n/***/ (function(module, exports, __webpack_require__) {\n\n// extracted by mini-css-extract-plugin\n\n/***/ }),\n/* 46 */\n/***/ (function(module, exports, __webpack_require__) {\n\n// extracted by mini-css-extract-plugin\n\n/***/ }),\n/* 47 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n// ESM COMPAT FLAG\n__webpack_require__.r(__webpack_exports__);\n\n// EXTERNAL MODULE: ./node_modules/react/index.js\nvar react = __webpack_require__(1);\n\n// EXTERNAL MODULE: ./node_modules/react-dom/client.js\nvar client = __webpack_require__(16);\nvar client_default = /*#__PURE__*/__webpack_require__.n(client);\n\n// EXTERNAL MODULE: ./src/index.css\nvar src = __webpack_require__(24);\n\n// EXTERNAL MODULE: ./node_modules/react-router-dom/dist/index.js\nvar dist = __webpack_require__(6);\n\n// EXTERNAL MODULE: ./node_modules/react-router/dist/index.js\nvar react_router_dist = __webpack_require__(5);\n\n// CONCATENATED MODULE: ./src/config.js\n// Centralized API configuration - uses direct backend URL\n// All API calls use: getApiUrl() + getAuthHeaders(token) + fetch()\n// Helper function to get API URL - always uses direct URL\nfunction getApiUrl(path){const cleanPath=path.startsWith('/')?path:\"/\".concat(path);// Use HTTPS in production (Netlify) or environment variable\nconst isProduction=\"production\"==='production';const defaultBaseUrl=isProduction?'https://4.198.16.72.nip.io'// Use HTTPS in production\n:'http://4.198.16.72.nip.io';// Use HTTP in development\nconst baseUrl=Object({\"NODE_ENV\":\"production\",\"PUBLIC_URL\":\"\",\"WDS_SOCKET_HOST\":\"localhost\",\"WDS_SOCKET_PATH\":\"/ws\",\"WDS_SOCKET_PORT\":\"3000\",\"FAST_REFRESH\":true}).REACT_APP_API_BASE_URL||defaultBaseUrl;return\"\".concat(baseUrl).concat(cleanPath);}// Returns array with direct URL (for backward compatibility)\nfunction getApiUrls(path){return[getApiUrl(path)];}// Helper function to get headers with required Bearer token\nfunction getAuthHeaders(token){if(!token){throw new Error('Authentication token is required. Please log in again.');}return{'Accept':'application/json','Content-Type':'application/json','Authorization':\"Bearer \".concat(token)};}// Helper function for public asset URLs\nfunction publicAsset(path){const base= false||'';const cleanBase=base.replace(/\\/$/,'');const cleanPath=path.startsWith('/')?path:\"/\".concat(path);return\"\".concat(cleanBase).concat(cleanPath);}\n// EXTERNAL MODULE: ./node_modules/react/jsx-runtime.js\nvar jsx_runtime = __webpack_require__(0);\n\n// CONCATENATED MODULE: ./src/context/AuthContext.js\nconst AuthContext=/*#__PURE__*/Object(react[\"createContext\"])(null);const idleMs=30*60*1000;// 30 minutes\nfunction AuthProvider(_ref){let{children}=_ref;const[token,setToken]=Object(react[\"useState\"])(null);const[user,setUser]=Object(react[\"useState\"])(null);const[isReady,setIsReady]=Object(react[\"useState\"])(false);const idleTimerRef=Object(react[\"useRef\"])(null);const lastActivityRef=Object(react[\"useRef\"])(Date.now());Object(react[\"useEffect\"])(()=>{try{const storedToken=window.sessionStorage.getItem('authToken');const storedUser=window.sessionStorage.getItem('authUser');if(storedToken){setToken(storedToken);}if(storedUser){try{setUser(JSON.parse(storedUser));}catch(e){setUser(null);}}}catch(e){setUser(null);}setIsReady(true);},[]);// Handle tab/window close - ensure session is cleared\nObject(react[\"useEffect\"])(()=>{if(!token)return;const shouldForceClearOnUnload=\"production\"==='production';if(!shouldForceClearOnUnload){return undefined;}const handleBeforeUnload=()=>{// Explicitly clear auth data when tab/window is closing\nwindow.sessionStorage.removeItem('authToken');window.sessionStorage.removeItem('authUser');};// Listen for page unload events\nwindow.addEventListener('beforeunload',handleBeforeUnload);return()=>{window.removeEventListener('beforeunload',handleBeforeUnload);};},[token]);const login=Object(react[\"useCallback\"])(async(email,password)=>{const loginUrl=Object({\"NODE_ENV\":\"production\",\"PUBLIC_URL\":\"\",\"WDS_SOCKET_HOST\":\"localhost\",\"WDS_SOCKET_PATH\":\"/ws\",\"WDS_SOCKET_PORT\":\"3000\",\"FAST_REFRESH\":true}).REACT_APP_LOGIN_ENDPOINT||getApiUrl('/midland/auth/admin/login');try{const res=await fetch(loginUrl,{method:'POST',headers:{'Content-Type':'application/json','Accept':'application/json'},body:JSON.stringify({email,password})});if(!res.ok){const errorText=await res.text().catch(()=>'');if(res.status===404){throw new Error(\"Login endpoint not found (404). URL: \".concat(loginUrl,\". Please check the API endpoint configuration.\"));}if(res.status===403){throw new Error('Access forbidden (403). The server rejected the request. This may be a CORS or authentication issue. Check backend configuration.');}try{const errorData=JSON.parse(errorText);throw new Error(errorData.message||errorData.error||\"Login failed: \".concat(res.status,\" \").concat(res.statusText));}catch(_unused){throw new Error(errorText||\"Login failed: \".concat(res.status,\" \").concat(res.statusText));}}const data=await res.json();if(!data){throw new Error('No response from server');}const receivedToken=data.token||data.accessToken||data.jwt;const usernameFromResponse=data.username;const roleFromResponse=data.role;const receivedUser={email:email,username:usernameFromResponse||email,role:roleFromResponse||'USER'};if(!receivedToken){throw new Error('No token returned by server');}window.sessionStorage.setItem('authToken',receivedToken);window.sessionStorage.setItem('authUser',JSON.stringify(receivedUser));setToken(receivedToken);setUser(receivedUser);return true;}catch(err){throw err;}},[]);const register=Object(react[\"useCallback\"])(async(email,password)=>{return login(email,password);},[login]);const logout=Object(react[\"useCallback\"])(()=>{// Clear auth data from session and local storage\nwindow.sessionStorage.removeItem('authToken');window.sessionStorage.removeItem('authUser');window.localStorage.removeItem('authToken');window.localStorage.removeItem('authUser');setToken(null);setUser(null);},[]);Object(react[\"useEffect\"])(()=>{if(!token){if(idleTimerRef.current){clearTimeout(idleTimerRef.current);idleTimerRef.current=null;}return undefined;}const resetIdleTimer=()=>{lastActivityRef.current=Date.now();if(idleTimerRef.current)clearTimeout(idleTimerRef.current);idleTimerRef.current=setTimeout(()=>{if(Date.now()-lastActivityRef.current>=idleMs){logout();}},idleMs);};const events=['mousedown','mousemove','keypress','scroll','touchstart'];events.forEach(e=>window.addEventListener(e,resetIdleTimer,true));resetIdleTimer();return()=>{events.forEach(e=>window.removeEventListener(e,resetIdleTimer,true));if(idleTimerRef.current)clearTimeout(idleTimerRef.current);};},[token,logout]);const value={token,user,isReady,login,register,logout};return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(AuthContext.Provider,{value:value,children:children});}function useAuth(){const ctx=Object(react[\"useContext\"])(AuthContext);if(!ctx)throw new Error('useAuth must be used within AuthProvider');return ctx;}function RequireAuth(_ref2){let{children}=_ref2;const{token,isReady}=useAuth();const navigate=Object(react_router_dist[\"q\" /* useNavigate */])();Object(react[\"useEffect\"])(()=>{if(isReady&&!token){navigate('/login',{replace:true});}},[token,isReady,navigate]);if(!isReady){return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{style:{display:'flex',justifyContent:'center',alignItems:'center',height:'100vh'},children:\"Loading...\"});}if(!token){return null;}return children;}\n// CONCATENATED MODULE: ./src/context/ThemeContext.js\nconst ThemeContext=/*#__PURE__*/Object(react[\"createContext\"])(null);function ThemeProvider(_ref){let{children}=_ref;const[theme,setTheme]=Object(react[\"useState\"])(()=>{try{const saved=window.localStorage.getItem('theme');return saved||'light';}catch(_unused){return'light';}});Object(react[\"useEffect\"])(()=>{try{window.localStorage.setItem('theme',theme);document.documentElement.setAttribute('data-theme',theme);}catch(e){// Ignore localStorage errors\n}},[theme]);const toggleTheme=()=>{setTheme(prev=>prev==='light'?'dark':'light');};const value={theme,toggleTheme,isDark:theme==='dark'};return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(ThemeContext.Provider,{value:value,children:children});}function useTheme(){const ctx=Object(react[\"useContext\"])(ThemeContext);if(!ctx)throw new Error('useTheme must be used within ThemeProvider');return ctx;}\n// EXTERNAL MODULE: ./node_modules/react-icons/fi/index.esm.js + 4 modules\nvar index_esm = __webpack_require__(2);\n\n// EXTERNAL MODULE: ./src/components/Toast.css\nvar Toast = __webpack_require__(11);\n\n// CONCATENATED MODULE: ./src/components/Toast.js\nconst Toast_Toast=_ref=>{let{message,type='info',onClose,duration=5000}=_ref;Object(react[\"useEffect\"])(()=>{if(duration>0){const timer=setTimeout(()=>{onClose();},duration);return()=>clearTimeout(timer);}},[duration,onClose]);const icons={success:index_esm[\"m\" /* FiCheckCircle */],error:index_esm[\"b\" /* FiAlertCircle */],warning:index_esm[\"c\" /* FiAlertTriangle */],info:index_esm[\"x\" /* FiInfo */]};const Icon=icons[type]||icons.info;return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"toast toast-\".concat(type),children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"toast-content\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Icon,{className:\"toast-icon\",size:20}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"span\",{className:\"toast-message\",children:message})]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\",{className:\"toast-close\",onClick:onClose,\"aria-label\":\"Close\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(index_esm[\"O\" /* FiX */],{size:18})})]});};/* harmony default export */ var components_Toast = (Toast_Toast);\n// CONCATENATED MODULE: ./src/components/ToastContainer.js\nfunction ToastContainer(_ref){let{toasts,removeToast}=_ref;return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"toast-container\",children:toasts.map(toast=>/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(components_Toast,{message:toast.message,type:toast.type,onClose:()=>removeToast(toast.id),duration:toast.duration},toast.id))});}\n// CONCATENATED MODULE: ./src/context/ToastContext.js\nconst ToastContext=/*#__PURE__*/Object(react[\"createContext\"])(null);function ToastProvider(_ref){let{children}=_ref;const[toasts,setToasts]=Object(react[\"useState\"])([]);const addToast=Object(react[\"useCallback\"])(function(message){let type=arguments.length>1&&arguments[1]!==undefined?arguments[1]:'info';let duration=arguments.length>2&&arguments[2]!==undefined?arguments[2]:5000;const id=Date.now()+Math.random();setToasts(prev=>[...prev,{id,message,type,duration}]);return id;},[]);const removeToast=Object(react[\"useCallback\"])(id=>{setToasts(prev=>prev.filter(toast=>toast.id!==id));},[]);const success=Object(react[\"useCallback\"])((message,duration)=>{return addToast(message,'success',duration);},[addToast]);const error=Object(react[\"useCallback\"])((message,duration)=>{return addToast(message,'error',duration);},[addToast]);const warning=Object(react[\"useCallback\"])((message,duration)=>{return addToast(message,'warning',duration);},[addToast]);const info=Object(react[\"useCallback\"])((message,duration)=>{return addToast(message,'info',duration);},[addToast]);const value={addToast,removeToast,success,error,warning,info};return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(ToastContext.Provider,{value:value,children:[children,/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(ToastContainer,{toasts:toasts,removeToast:removeToast})]});}function useToast(){const ctx=Object(react[\"useContext\"])(ToastContext);if(!ctx)throw new Error('useToast must be used within ToastProvider');return ctx;}\n// CONCATENATED MODULE: ./src/pages/Login.js\nfunction IconLock(){return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(index_esm[\"y\" /* FiLock */],{className:\"icon-left\"});}function IconMail(){return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(index_esm[\"z\" /* FiMail */],{className:\"icon-left\"});}function Login(){const navigate=Object(react_router_dist[\"q\" /* useNavigate */])();const auth=useAuth();const[email,setEmail]=Object(react[\"useState\"])('');const[password,setPassword]=Object(react[\"useState\"])('');const[showPassword,setShowPassword]=Object(react[\"useState\"])(false);const[error,setError]=Object(react[\"useState\"])('');const[submitting,setSubmitting]=Object(react[\"useState\"])(false);const handleSubmit=async e=>{e.preventDefault();setError('');try{setSubmitting(true);await auth.login(email,password);navigate('/',{replace:true});}catch(err){setError(err.message||'Login failed');}finally{setSubmitting(false);}};return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"login-layout\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"login-hero\",style:{backgroundImage:\"url(\".concat(publicAsset('Images/home.jpg'),\")\")}}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"auth-container\",children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"auth-card\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"logo-container\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"img\",{src:publicAsset('Images/logo.png'),alt:\"Logo\"})}),error?/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"auth-error\",children:error}):null,/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h2\",{className:\"login-title\",children:\"Members Log in\"}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"form\",{onSubmit:handleSubmit,className:\"auth-form\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"label\",{children:[\"Email\",/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"input-group\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(IconMail,{}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{className:\"with-icon\",type:\"email\",value:email,onChange:e=>setEmail(e.target.value),required:true,placeholder:\"admin@midland.edu\"})]})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"label\",{children:[\"Password\",/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"input-group password-group\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(IconLock,{}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{className:\"with-icon\",type:showPassword?'text':'password',value:password,onChange:e=>setPassword(e.target.value),required:true,placeholder:\"\\u2022\\u2022\\u2022\\u2022\\u2022\\u2022\\u2022\\u2022\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\",{type:\"button\",className:\"password-toggle\",onClick:()=>setShowPassword(!showPassword),tabIndex:-1,children:showPassword?/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(index_esm[\"s\" /* FiEyeOff */],{size:18}):/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(index_esm[\"r\" /* FiEye */],{size:18})})]})]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\",{type:\"submit\",className:\"auth-button auth-button-red\",disabled:submitting,children:submitting?'Logging in...':'Log In'})]})]})})]});}\n// CONCATENATED MODULE: ./src/pages/Register.js\nfunction IconUser(){return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(index_esm[\"L\" /* FiUser */],{className:\"icon-left\"});}function Register_IconLock(){return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(index_esm[\"y\" /* FiLock */],{className:\"icon-left\"});}function Register_IconMail(){return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(index_esm[\"z\" /* FiMail */],{className:\"icon-left\"});}function Register(){const navigate=Object(react_router_dist[\"q\" /* useNavigate */])();const auth=useAuth();const[username,setUsername]=Object(react[\"useState\"])('');const[email,setEmail]=Object(react[\"useState\"])('');const[password,setPassword]=Object(react[\"useState\"])('');const[confirm,setConfirm]=Object(react[\"useState\"])('');const[error,setError]=Object(react[\"useState\"])('');const[submitting,setSubmitting]=Object(react[\"useState\"])(false);const handleSubmit=async e=>{e.preventDefault();setError('');if(password!==confirm){setError('Passwords do not match');return;}try{setSubmitting(true);await auth.register(email,password);navigate('/',{replace:true});}catch(err){setError(err.message||'Registration failed');}finally{setSubmitting(false);}};return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"login-layout\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"login-hero\",style:{backgroundImage:\"url(\".concat(publicAsset('Images/home.jpg'),\")\")}}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"auth-container register-page\",children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"auth-card wide\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"logo-container\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"img\",{src:publicAsset('Images/logo.png'),alt:\"Logo\"})}),error?/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"auth-error\",children:error}):null,/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h2\",{className:\"login-title\",children:\"Create Account\"}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"form\",{onSubmit:handleSubmit,className:\"auth-form register-form-grid\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"col-12\",children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"label\",{children:[\"Username\",/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"input-group\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(IconUser,{}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{className:\"with-icon\",type:\"text\",value:username,onChange:e=>setUsername(e.target.value),required:true,placeholder:\"admin_username\"})]})]})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"col-12\",children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"label\",{children:[\"Email\",/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"input-group\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Register_IconMail,{}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{className:\"with-icon\",type:\"email\",value:email,onChange:e=>setEmail(e.target.value),required:true,placeholder:\"admin@school.com\"})]})]})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"col-12\",children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"label\",{children:[\"Password\",/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"input-group\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Register_IconLock,{}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{className:\"with-icon\",type:\"password\",value:password,onChange:e=>setPassword(e.target.value),required:true,placeholder:\"\\u2022\\u2022\\u2022\\u2022\\u2022\\u2022\\u2022\\u2022\"})]})]})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"col-12\",children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"label\",{children:[\"Confirm Password\",/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"input-group\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Register_IconLock,{}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{className:\"with-icon\",type:\"password\",value:confirm,onChange:e=>setConfirm(e.target.value),required:true,placeholder:\"\\u2022\\u2022\\u2022\\u2022\\u2022\\u2022\\u2022\\u2022\"})]})]})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"col-12\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\",{type:\"submit\",className:\"auth-button\",disabled:submitting,children:submitting?'Creating Account...':'Create Account'})})]})]})})]});}\n// EXTERNAL MODULE: ./src/components/SkeletonLoader.css\nvar SkeletonLoader = __webpack_require__(26);\n\n// CONCATENATED MODULE: ./src/components/SkeletonLoader.js\nfunction SkeletonCard(){return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"skeleton-card\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"skeleton-icon\"}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"skeleton-content\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"skeleton-line skeleton-line-short\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"skeleton-line skeleton-line-long\"})]})]});}function SkeletonTable(_ref){let{rows=5,columns=6}=_ref;return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"skeleton-table-container\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"skeleton-table-header\",children:Array.from({length:columns}).map((_,i)=>/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"skeleton-header-cell\"},i))}),Array.from({length:rows}).map((_,rowIdx)=>/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"skeleton-table-row\",children:Array.from({length:columns}).map((_,colIdx)=>/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"skeleton-cell\"},colIdx))},rowIdx))]});}function SkeletonForm(){return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"skeleton-form\",children:Array.from({length:6}).map((_,i)=>/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"skeleton-form-group\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"skeleton-label\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"skeleton-input\"})]},i))});}function SkeletonProfile(){return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"skeleton-profile\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"skeleton-profile-header\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"skeleton-avatar\"}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"skeleton-profile-info\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"skeleton-line skeleton-line-long\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"skeleton-line skeleton-line-medium\"})]})]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"skeleton-profile-sections\",children:Array.from({length:3}).map((_,i)=>/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"skeleton-section\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"skeleton-line skeleton-line-short\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"skeleton-grid\",children:Array.from({length:4}).map((_,j)=>/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"skeleton-grid-item\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"skeleton-line skeleton-line-short\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"skeleton-line skeleton-line-medium\"})]},j))})]},i))})]});}\n// EXTERNAL MODULE: ./src/pages/DashboardHome.css\nvar DashboardHome = __webpack_require__(27);\n\n// CONCATENATED MODULE: ./src/pages/DashboardHome.js\nfunction DashboardHome_DashboardHome(){const{token}=useAuth();const toast=useToast();const navigate=Object(react_router_dist[\"q\" /* useNavigate */])();const[counts,setCounts]=Object(react[\"useState\"])({students:0,teachers:0,admins:0,schools:6000});const[loading,setLoading]=Object(react[\"useState\"])(true);const fetchCounts=Object(react[\"useCallback\"])(async()=>{setLoading(true);try{let studentsCount=0;try{const url=getApiUrl('/midland/admin/students/all');const res=await fetch(url,{headers:getAuthHeaders(token)});if(res.ok){const data=await res.json();studentsCount=Array.isArray(data)?data.length:0;}}catch(err){studentsCount=1250;}let teachersCount=0;try{const url=getApiUrl('/midland/admin/teachers/all');const res=await fetch(url,{headers:getAuthHeaders(token)});if(res.ok){const data=await res.json();teachersCount=Array.isArray(data)?data.length:0;}}catch(err){teachersCount=85;}let adminsCount=0;try{const url=getApiUrl('/midland/admin/all');const res=await fetch(url,{headers:getAuthHeaders(token)});if(res.ok){const data=await res.json();adminsCount=Array.isArray(data)?data.length:0;}}catch(err){adminsCount=12;}setCounts({students:studentsCount||1250,teachers:teachersCount||85,admins:adminsCount||12,schools:6000});}catch(err){setCounts({students:1250,teachers:85,admins:12,schools:6000});}finally{setLoading(false);}},[token]);Object(react[\"useEffect\"])(()=>{fetchCounts();},[fetchCounts]);const mainCards=[{label:'Total Schools',count:counts.schools,icon:index_esm[\"v\" /* FiHome */],color:'#ef4444',bgGradient:'linear-gradient(135deg, #ef4444 0%, #dc2626 100%)',link:'/',trend:{value:'+12%',direction:'up',caption:'vs last month'},subtitle:'Active institutions'},{label:'Students',count:counts.students,icon:index_esm[\"N\" /* FiUsers */],color:'#3b82f6',bgGradient:'linear-gradient(135deg, #3b82f6 0%, #2563eb 100%)',link:'/students',trend:{value:'+8%',direction:'up',caption:'vs last month'},subtitle:'Enrolled students'},{label:'Teachers',count:counts.teachers,icon:index_esm[\"M\" /* FiUserCheck */],color:'#10b981',bgGradient:'linear-gradient(135deg, #10b981 0%, #059669 100%)',link:'/teachers',trend:{value:'+5%',direction:'up',caption:'vs last month'},subtitle:'Active faculty'},{label:'Administrators',count:counts.admins,icon:index_esm[\"L\" /* FiUser */],color:'#f59e0b',bgGradient:'linear-gradient(135deg, #f59e0b 0%, #d97706 100%)',link:'/admin',trend:{value:'+2%',direction:'up',caption:'vs last month'},subtitle:'Admin staff'}];const stats=[{label:'Overall Attendance',value:'94.5%',icon:index_esm[\"K\" /* FiTrendingUp */],trend:'+2.3%',caption:'vs last term',color:'#10b981',change:'positive'},{label:'Active Classes',value:'156',icon:index_esm[\"i\" /* FiBook */],trend:'+5',caption:'new this month',color:'#3b82f6',change:'positive'},{label:'Upcoming Events',value:'8',icon:index_esm[\"l\" /* FiCalendar */],trend:'This month',caption:'Scheduled',color:'#f59e0b',change:'neutral'},{label:'Performance Rate',value:'87%',icon:index_esm[\"h\" /* FiAward */],trend:'-1.2%',caption:'needs attention',color:'#8b5cf6',change:'negative'}];const quickActions=[{icon:index_esm[\"N\" /* FiUsers */],label:'Add Student',action:()=>navigate('/students/create'),color:'#ef4444',description:'Create a new student profile'},{icon:index_esm[\"M\" /* FiUserCheck */],label:'Add Teacher',action:()=>navigate('/teachers/create'),color:'#3b82f6',description:'Onboard teaching staff'},{icon:index_esm[\"L\" /* FiUser */],label:'Add Admin',action:()=>navigate('/admin/create'),color:'#10b981',description:'Grant administrative access'},{icon:index_esm[\"i\" /* FiBook */],label:'View Subjects',action:()=>navigate('/subjects'),color:'#f59e0b',description:'Manage curriculum'},{icon:index_esm[\"l\" /* FiCalendar */],label:'Timetable',action:()=>navigate('/timetable'),color:'#8b5cf6',description:'Review daily schedule'},{icon:index_esm[\"a\" /* FiActivity */],label:'Reports',action:()=>toast.info('Analytics dashboard coming soon'),color:'#ec4899',description:'Analyze performance data'}];const recentActivity=[{type:'student',message:'New student enrolled',time:'2 hours ago',icon:index_esm[\"N\" /* FiUsers */]},{type:'teacher',message:'Teacher profile updated',time:'5 hours ago',icon:index_esm[\"M\" /* FiUserCheck */]},{type:'event',message:'Parent meeting scheduled',time:'1 day ago',icon:index_esm[\"l\" /* FiCalendar */]},{type:'admin',message:'System backup completed',time:'2 days ago',icon:index_esm[\"a\" /* FiActivity */]}];return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"page dashboard-modern\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"dashboard-header-modern\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h1\",{className:\"dashboard-title\",children:\"Dashboard Overview\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"p\",{className:\"dashboard-subtitle\",children:\"Welcome back! Here's what's happening today.\"})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"dashboard-date\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(index_esm[\"p\" /* FiClock */],{size:18}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"span\",{children:new Date().toLocaleDateString('en-US',{weekday:'long',year:'numeric',month:'long',day:'numeric'})})]})]}),loading?/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"dashboard-grid-modern\",children:[1,2,3,4].map(idx=>/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(SkeletonCard,{},idx))}):/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(jsx_runtime[\"Fragment\"],{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"dashboard-grid-modern\",children:mainCards.map((card,idx)=>{const Icon=card.icon;const TrendIcon=card.trend.direction==='down'?index_esm[\"J\" /* FiTrendingDown */]:index_esm[\"K\" /* FiTrendingUp */];const trendClass=\"card-trend \".concat(card.trend.direction);return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"dashboard-card-modern\",onClick:()=>card.link&&navigate(card.link),style:{'--card-color':card.color},role:\"button\",tabIndex:0,onKeyDown:event=>{if(event.key==='Enter'||event.key===' '){event.preventDefault();card.link&&navigate(card.link);}},children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"card-background\",style:{background:card.bgGradient}}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"card-content\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"card-header\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"card-icon-wrapper\",style:{background:\"\".concat(card.color,\"20\")},children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Icon,{size:20,style:{color:card.color}})}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:trendClass,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(TrendIcon,{size:12}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"strong\",{children:card.trend.value}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"span\",{className:\"trend-caption\",children:card.trend.caption})]})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"card-body\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"card-count\",children:card.count.toLocaleString()}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"card-label\",children:card.label}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"card-subtitle\",children:card.subtitle})]})]})]},idx);})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"dashboard-stats-modern\",children:stats.map((stat,idx)=>{const Icon=stat.icon;return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"stat-card-modern\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"stat-icon-modern\",style:{background:\"\".concat(stat.color,\"15\"),color:stat.color},children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Icon,{size:20})}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"stat-content-modern\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"stat-value-modern\",style:{color:stat.color},children:stat.value}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"stat-label-modern\",children:stat.label}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"stat-trend-modern \".concat(stat.change),children:[stat.change==='positive'&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(index_esm[\"K\" /* FiTrendingUp */],{size:12}),stat.change==='negative'&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(index_esm[\"J\" /* FiTrendingDown */],{size:12}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"span\",{children:stat.trend}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"small\",{children:stat.caption})]})]})]},idx);})}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"dashboard-bottom-section\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"quick-actions-modern\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h3\",{className:\"section-title\",children:\"Quick Actions\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"quick-actions-grid-modern\",children:quickActions.map((action,idx)=>{const Icon=action.icon;return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"button\",{type:\"button\",className:\"quick-action-modern\",onClick:action.action,style:{'--action-color':action.color},\"aria-label\":action.description,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"action-icon-wrapper\",style:{background:\"\".concat(action.color,\"15\")},children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Icon,{size:22,style:{color:action.color}})}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"quick-action-content\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"span\",{className:\"quick-action-label\",children:action.label}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"span\",{className:\"quick-action-description\",children:action.description})]})]},idx);})})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"recent-activity-modern\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h3\",{className:\"section-title\",children:\"Recent Activity\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"activity-list\",children:recentActivity.map((activity,idx)=>{const Icon=activity.icon;return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"activity-item\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"activity-icon\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Icon,{size:18})}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"activity-content\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"activity-message\",children:activity.message}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"activity-time\",children:activity.time})]})]},idx);})})]})]})]})]});}\n// EXTERNAL MODULE: ./node_modules/react-modal/lib/index.js\nvar lib = __webpack_require__(7);\nvar lib_default = /*#__PURE__*/__webpack_require__.n(lib);\n\n// EXTERNAL MODULE: ./src/components/EmptyState.css\nvar EmptyState = __webpack_require__(39);\n\n// CONCATENATED MODULE: ./src/components/EmptyState.js\nconst iconMap={students:index_esm[\"N\" /* FiUsers */],teachers:index_esm[\"N\" /* FiUsers */],admins:index_esm[\"N\" /* FiUsers */],subjects:index_esm[\"i\" /* FiBook */],timetable:index_esm[\"l\" /* FiCalendar */],default:index_esm[\"w\" /* FiInbox */]};function EmptyState_EmptyState(_ref){let{type='default',title,message,actionLabel,onAction,icon:CustomIcon}=_ref;const Icon=CustomIcon||iconMap[type]||iconMap.default;const defaultMessages={students:{title:'No Students Found',message:'Get started by adding your first student to the system.'},teachers:{title:'No Teachers Found',message:'Add teachers to manage classes and subjects.'},admins:{title:'No Administrators Found',message:'Add administrators to manage the school system.'},subjects:{title:'No Subjects Found',message:'Create subjects to organize your curriculum.'},timetable:{title:'No Timetable Entries',message:'Create timetable entries to schedule classes.'},default:{title:title||'No Data Available',message:message||'There is no data to display at this time.'}};const content=defaultMessages[type]||defaultMessages.default;return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"empty-state\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"empty-state-icon\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Icon,{size:64})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h3\",{className:\"empty-state-title\",children:content.title}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"p\",{className:\"empty-state-message\",children:content.message}),onAction&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\",{className:\"empty-state-action btn-secondary\",onClick:onAction,children:actionLabel||'Add New'})]});}\n// EXTERNAL MODULE: ./src/components/StatusBadge.css\nvar StatusBadge = __webpack_require__(40);\n\n// CONCATENATED MODULE: ./src/components/StatusBadge.js\nfunction StatusBadge_StatusBadge(_ref){let{status,variant='default'}=_ref;const statusMap={active:{label:'Active',color:'green'},inactive:{label:'Inactive',color:'gray'},pending:{label:'Pending',color:'yellow'},completed:{label:'Completed',color:'green'},cancelled:{label:'Cancelled',color:'red'},default:{label:status||'Unknown',color:'gray'}};const statusInfo=statusMap[status===null||status===void 0?void 0:status.toLowerCase()]||statusMap.default;return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"span\",{className:\"status-badge status-badge-\".concat(statusInfo.color,\" status-badge-\").concat(variant),children:statusInfo.label});}\n// EXTERNAL MODULE: ./src/components/Pagination.css\nvar Pagination = __webpack_require__(41);\n\n// CONCATENATED MODULE: ./src/components/Pagination.js\nfunction Pagination_Pagination(_ref){let{currentPage,totalPages,onPageChange}=_ref;const getPageNumbers=()=>{const pages=[];const maxVisible=5;if(totalPages<=maxVisible){for(let i=1;i<=totalPages;i++){pages.push(i);}}else{if(currentPage<=3){for(let i=1;i<=5;i++){pages.push(i);}}else if(currentPage>=totalPages-2){for(let i=totalPages-4;i<=totalPages;i++){pages.push(i);}}else{for(let i=currentPage-2;i<=currentPage+2;i++){pages.push(i);}}}return pages;};if(totalPages<=1)return null;const pages=getPageNumbers();return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"pagination-container\",children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"pagination-controls\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\",{className:\"pagination-btn\",onClick:()=>onPageChange(currentPage-1),disabled:currentPage===1,\"aria-label\":\"Previous page\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(index_esm[\"n\" /* FiChevronLeft */],{size:18})}),pages[0]>1&&/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(jsx_runtime[\"Fragment\"],{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\",{className:\"pagination-btn\",onClick:()=>onPageChange(1),children:\"1\"}),pages[0]>2&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"span\",{className:\"pagination-ellipsis\",children:\"...\"})]}),pages.map(page=>/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\",{className:\"pagination-btn \".concat(currentPage===page?'active':''),onClick:()=>onPageChange(page),children:page},page)),pages[pages.length-1]<totalPages&&/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(jsx_runtime[\"Fragment\"],{children:[pages[pages.length-1]<totalPages-1&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"span\",{className:\"pagination-ellipsis\",children:\"...\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\",{className:\"pagination-btn\",onClick:()=>onPageChange(totalPages),children:totalPages})]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\",{className:\"pagination-btn\",onClick:()=>onPageChange(currentPage+1),disabled:currentPage===totalPages,\"aria-label\":\"Next page\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(index_esm[\"o\" /* FiChevronRight */],{size:18})})]})});}\n// EXTERNAL MODULE: ./src/components/SortableTableHeader.css\nvar SortableTableHeader = __webpack_require__(42);\n\n// CONCATENATED MODULE: ./src/components/SortableTableHeader.js\nfunction SortableTableHeader_SortableTableHeader(_ref){let{children,sortKey,currentSort=null,onSort,className=''}=_ref;const isActive=(currentSort===null||currentSort===void 0?void 0:currentSort.key)===sortKey;const sortDirection=isActive&&currentSort!==null&&currentSort!==void 0&&currentSort.direction?currentSort.direction:null;const handleClick=()=>{if(onSort){const newDirection=isActive&&sortDirection==='asc'?'desc':'asc';onSort(sortKey,newDirection);}};return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"th\",{className:\"sortable-header \".concat(className,\" \").concat(isActive?'active':'',\" \").concat(onSort?'clickable':''),onClick:onSort?handleClick:undefined,children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"sortable-header-content\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"span\",{children:children}),onSort&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"span\",{className:\"sort-icon\",children:sortDirection==='asc'?/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(index_esm[\"g\" /* FiArrowUp */],{size:14}):sortDirection==='desc'?/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(index_esm[\"d\" /* FiArrowDown */],{size:14}):/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"span\",{style:{display:'flex',flexDirection:'column',lineHeight:0.5},children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(index_esm[\"g\" /* FiArrowUp */],{size:10}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(index_esm[\"d\" /* FiArrowDown */],{size:10})]})})]})});}\n// CONCATENATED MODULE: ./src/pages/students/Students.js\nfunction Students(){const navigate=Object(react_router_dist[\"q\" /* useNavigate */])();const{token}=useAuth();const toast=useToast();const[query,setQuery]=Object(react[\"useState\"])('');const[klass,setKlass]=Object(react[\"useState\"])('');const[section,setSection]=Object(react[\"useState\"])('');const[students,setStudents]=Object(react[\"useState\"])([]);const[loading,setLoading]=Object(react[\"useState\"])(false);const[error,setError]=Object(react[\"useState\"])('');const[deleteOpen,setDeleteOpen]=Object(react[\"useState\"])(false);const[deleteEmail,setDeleteEmail]=Object(react[\"useState\"])('');const[deleting,setDeleting]=Object(react[\"useState\"])(false);const[deleteError,setDeleteError]=Object(react[\"useState\"])('');const[currentPage,setCurrentPage]=Object(react[\"useState\"])(1);const itemsPerPage=6;const[sortConfig,setSortConfig]=Object(react[\"useState\"])({key:null,direction:'asc'});const fetchStudents=Object(react[\"useCallback\"])(async()=>{setLoading(true);setError('');try{const url=getApiUrl('/midland/admin/students/all');const res=await fetch(url,{headers:getAuthHeaders(token)});if(!res.ok){throw new Error(\"Failed to load students: \".concat(res.status,\" \").concat(res.statusText));}const data=await res.json();setStudents(Array.isArray(data)?data:[]);}catch(err){const errorMsg=err.message||'Failed to load students';if(err.message&&(err.message.includes('CORS')||err.message.includes('Failed to fetch')||err.message.includes('NetworkError'))){setError('CORS error: The backend at http://4.198.16.72.nip.io needs to allow requests from your frontend origin. Please configure CORS headers on the backend.');toast.error('Failed to load students. Please check your connection.');}else{setError(errorMsg);toast.error(errorMsg);}}finally{setLoading(false);}},[token,toast]);Object(react[\"useEffect\"])(()=>{fetchStudents();},[fetchStudents]);Object(react[\"useEffect\"])(()=>{const onKey=e=>{if(e.key==='Escape'&&deleteOpen&&!deleting){setDeleteOpen(false);setDeleteError('');}};window.addEventListener('keydown',onKey);return()=>window.removeEventListener('keydown',onKey);},[deleteOpen,deleting]);Object(react[\"useEffect\"])(()=>{try{lib_default.a.setAppElement('#root');}catch(_){}},[]);const classes=Object(react[\"useMemo\"])(()=>{return Array.from(new Set(students.map(s=>String(s.gradeLevel||'').trim()).filter(Boolean)));},[students]);const sections=Object(react[\"useMemo\"])(()=>{return Array.from(new Set(students.map(s=>String(s.section||'').trim()).filter(Boolean)));},[students]);const handleSort=(key,direction)=>{setSortConfig({key,direction});setCurrentPage(1);};const sortedAndFilteredRows=Object(react[\"useMemo\"])(()=>{const q=query.trim().toLowerCase();let filtered=students.filter(s=>{const id=String(s.admissionNumber||s.rollNo||'').toLowerCase();const name=String(s.fullName||'').toLowerCase();const email=String(s.schoolEmail||s.personalEmail||'').toLowerCase();const queryMatch=!q||id.includes(q)||name.includes(q)||email.includes(q);const classMatch=!klass||String(s.gradeLevel||'')===klass;const sectionMatch=!section||String(s.section||'')===section;return queryMatch&&classMatch&&sectionMatch;}).map(s=>({key:s.admissionNumber||s.rollNo||s.studentUid||Math.random(),id:s.admissionNumber||s.rollNo||'-',name:s.fullName||'-',email:s.schoolEmail||s.personalEmail||'-',class:s.gradeLevel||'-',section:s.section||'-',status:s.status||'Active',emailKey:s.schoolEmail||s.personalEmail||''}));if(sortConfig.key){filtered.sort((a,b)=>{let aVal=a[sortConfig.key];let bVal=b[sortConfig.key];if(typeof aVal==='string'){aVal=aVal.toLowerCase();bVal=bVal.toLowerCase();}if(aVal<bVal)return sortConfig.direction==='asc'?-1:1;if(aVal>bVal)return sortConfig.direction==='asc'?1:-1;return 0;});}return filtered;},[students,query,klass,section,sortConfig]);const totalPages=Math.ceil(sortedAndFilteredRows.length/itemsPerPage);const startIndex=(currentPage-1)*itemsPerPage;const endIndex=startIndex+itemsPerPage;const rows=sortedAndFilteredRows.slice(startIndex,endIndex);Object(react[\"useEffect\"])(()=>{if(currentPage>totalPages&&totalPages>0){setCurrentPage(1);}},[totalPages,currentPage]);return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"page students\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"page-header\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"header-main\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h2\",{children:\"Students\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"meta\",children:loading?'Loading':\"\".concat(sortedAndFilteredRows.length,\" student\").concat(sortedAndFilteredRows.length!==1?'s':'')})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"button\",{className:\"btn-primary\",onClick:()=>navigate('/students/create'),children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(index_esm[\"E\" /* FiPlus */],{size:18,style:{marginRight:8}}),\"Add Student\"]})]}),error&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"alert alert-error\",children:error}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"filters\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"filter-input-wrapper\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(index_esm[\"F\" /* FiSearch */],{className:\"filter-icon\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{type:\"text\",placeholder:\"Search by ID, name, or email...\",value:query,onChange:e=>setQuery(e.target.value),className:\"filter-input\"})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"filter-select-wrapper\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(index_esm[\"i\" /* FiBook */],{className:\"filter-icon\"}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"select\",{value:klass,onChange:e=>setKlass(e.target.value),className:\"filter-select\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"option\",{value:\"\",children:\"All Classes\"}),classes.map(c=>/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"option\",{value:c,children:c},c))]})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"filter-select-wrapper\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(index_esm[\"u\" /* FiHash */],{className:\"filter-icon\"}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"select\",{value:section,onChange:e=>setSection(e.target.value),className:\"filter-select\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"option\",{value:\"\",children:\"All Sections\"}),sections.map(s=>/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"option\",{value:s,children:s},s))]})]})]}),loading?/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(SkeletonTable,{rows:5,columns:7}):sortedAndFilteredRows.length===0?/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(EmptyState_EmptyState,{type:\"students\",actionLabel:\"Add Student\",onAction:()=>navigate('/students/create')}):/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"table-container\",children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"table\",{className:\"data-table\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"thead\",{children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"tr\",{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(SortableTableHeader_SortableTableHeader,{sortKey:\"id\",currentSort:sortConfig,onSort:handleSort,children:\"ID\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(SortableTableHeader_SortableTableHeader,{sortKey:\"name\",currentSort:sortConfig,onSort:handleSort,children:\"Name\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(SortableTableHeader_SortableTableHeader,{sortKey:\"email\",currentSort:sortConfig,onSort:handleSort,children:\"Email\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(SortableTableHeader_SortableTableHeader,{sortKey:\"class\",currentSort:sortConfig,onSort:handleSort,children:\"Class\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(SortableTableHeader_SortableTableHeader,{sortKey:\"section\",currentSort:sortConfig,onSort:handleSort,children:\"Section\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(SortableTableHeader_SortableTableHeader,{sortKey:\"status\",currentSort:sortConfig,onSort:handleSort,children:\"Status\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(SortableTableHeader_SortableTableHeader,{className:\"actions-column\",children:\"Actions\"})]})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"tbody\",{children:rows.map(row=>/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"tr\",{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"td\",{className:\"cell-id\",children:row.id}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"td\",{className:\"cell-name\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\",{className:\"name-link\",onClick:()=>navigate(\"/students/\".concat(row.emailKey||row.id)),title:\"View Profile\",children:row.name})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"td\",{className:\"cell-email\",children:row.email}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"td\",{className:\"cell-small\",children:row.class}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"td\",{className:\"cell-small\",children:row.section}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"td\",{className:\"cell-status\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(StatusBadge_StatusBadge,{status:row.status})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"td\",{className:\"cell-actions\",children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"action-buttons\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\",{className:\"btn-icon\",onClick:()=>navigate(\"/students/\".concat(row.emailKey||row.id,\"/edit\")),title:\"Edit\",\"aria-label\":\"Edit student\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(index_esm[\"q\" /* FiEdit2 */],{size:18})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\",{className:\"btn-icon btn-danger\",onClick:()=>{setDeleteEmail(row.emailKey);setDeleteOpen(true);},title:\"Delete\",\"aria-label\":\"Delete student\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(index_esm[\"I\" /* FiTrash2 */],{size:18})})]})})]},row.key))})]})}),!loading&&sortedAndFilteredRows.length>0&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Pagination_Pagination,{currentPage:currentPage,totalPages:totalPages,onPageChange:setCurrentPage}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(lib_default.a,{isOpen:deleteOpen,onRequestClose:()=>!deleting&&setDeleteOpen(false),className:\"modal\",overlayClassName:\"modal-overlay\",children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"modal-content\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h3\",{children:\"Delete Student\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"p\",{children:\"Are you sure you want to delete this student? This action cannot be undone.\"}),deleteError&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"alert alert-error\",style:{marginBottom:16},children:deleteError}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"modal-actions\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\",{className:\"btn-secondary\",onClick:()=>setDeleteOpen(false),disabled:deleting,children:\"Cancel\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\",{className:\"btn-danger\",disabled:deleting,onClick:async()=>{if(!deleteEmail)return;setDeleting(true);setDeleteError('');try{const emailKey=encodeURIComponent(deleteEmail);const url=getApiUrl(\"/midland/admin/students/delete/\".concat(emailKey));const res=await fetch(url,{method:'DELETE',headers:getAuthHeaders(token)});if(!res.ok){const errorText=await res.text().catch(()=>'');throw new Error(errorText||\"Failed to delete: \".concat(res.status));}setDeleteOpen(false);toast.success('Student deleted successfully');fetchStudents();}catch(err){const errorMsg=err.message||'Failed to delete student';setDeleteError(errorMsg);toast.error(errorMsg);}finally{setDeleting(false);}},children:deleting?'Deleting':'Delete'})]})]})})]});}\n// EXTERNAL MODULE: ./node_modules/@babel/runtime/helpers/esm/objectSpread2.js + 4 modules\nvar objectSpread2 = __webpack_require__(3);\n\n// CONCATENATED MODULE: ./src/pages/students/StudentCreate.js\nfunction StudentCreate(){const navigate=Object(react_router_dist[\"q\" /* useNavigate */])();const{token}=useAuth();const toast=useToast();const[form,setForm]=Object(react[\"useState\"])({username:'',password:'',fullName:'',gender:'',dateOfBirth:'',bloodGroup:'',nationality:'',motherTongue:'',languagePreference:'',gradeLevel:'',section:'',academicYear:'',admissionDate:'',status:'Active',admissionNumber:'',rollNo:'',phoneNumber:'',schoolEmail:'',personalEmail:'',guardianName:'',guardianRelation:'',guardianContact:'',schoolCode:''});const[submitting,setSubmitting]=Object(react[\"useState\"])(false);const[error,setError]=Object(react[\"useState\"])('');const[fieldErrors,setFieldErrors]=Object(react[\"useState\"])({});const handleFieldChange=(field,value)=>{setForm(Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({},form),{},{[field]:value}));if(fieldErrors[field]){setFieldErrors(Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({},fieldErrors),{},{[field]:''}));}};return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"page\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"page-header\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h2\",{children:\"Create New Student\"}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"button\",{className:\"btn-secondary\",onClick:()=>navigate('/students'),children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(index_esm[\"e\" /* FiArrowLeft */],{size:16,style:{marginRight:8}}),\"Back to List\"]})]}),error&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"alert alert-error\",children:error}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"form\",{onSubmit:async e=>{e.preventDefault();setError('');setSubmitting(true);try{const payload={username:String(form.username||'').trim(),password:String(form.password||'').trim(),fullName:String(form.fullName||'').trim(),gender:String(form.gender||'').trim(),dateOfBirth:String(form.dateOfBirth||'').trim(),bloodGroup:String(form.bloodGroup||'').trim(),nationality:String(form.nationality||'').trim(),motherTongue:String(form.motherTongue||'').trim(),languagePreference:String(form.languagePreference||'').trim(),gradeLevel:String(form.gradeLevel||'').trim(),section:String(form.section||'').trim(),academicYear:String(form.academicYear||'').trim(),admissionDate:String(form.admissionDate||'').trim(),status:String(form.status||'Active').trim(),admissionNumber:String(form.admissionNumber||'').trim(),rollNo:String(form.rollNo||'').trim(),phoneNumber:String(form.phoneNumber||'').trim(),schoolEmail:String(form.schoolEmail||'').trim(),personalEmail:String(form.personalEmail||'').trim(),guardianName:String(form.guardianName||'').trim(),guardianRelation:String(form.guardianRelation||'').trim(),guardianContact:String(form.guardianContact||'').trim(),schoolCode:String(form.schoolCode||'').trim()};const url=getApiUrl('/midland/admin/students/create');const res=await fetch(url,{method:'POST',headers:getAuthHeaders(token),body:JSON.stringify(payload)});if(!res.ok){const errorText=await res.text().catch(()=>'');throw new Error(errorText||\"Failed to create: \".concat(res.status));}toast.success('Student created successfully');navigate('/students',{replace:true});}catch(err){const errorMsg=err.message||'Failed to create student';setError(errorMsg);toast.error(errorMsg);}finally{setSubmitting(false);}},children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"form-section\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"h3\",{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(index_esm[\"L\" /* FiUser */],{}),\"Account\"]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"form-grid\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"label\",{children:[\"Username *\",/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{value:form.username,onChange:e=>handleFieldChange('username',e.target.value),required:true})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"label\",{children:[\"Password *\",/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{type:\"password\",value:form.password,onChange:e=>handleFieldChange('password',e.target.value),required:true})]})]})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"form-section\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"h3\",{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(index_esm[\"L\" /* FiUser */],{}),\"Personal Info\"]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"form-grid\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"label\",{children:[\"Full Name *\",/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{value:form.fullName,onChange:e=>handleFieldChange('fullName',e.target.value),required:true})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"label\",{children:[\"Gender *\",/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"select\",{value:form.gender,onChange:e=>setForm(Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({},form),{},{gender:e.target.value})),required:true,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"option\",{value:\"\",children:\"Select\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"option\",{value:\"Male\",children:\"Male\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"option\",{value:\"Female\",children:\"Female\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"option\",{value:\"Other\",children:\"Other\"})]})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"label\",{children:[\"Date of Birth *\",/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{type:\"date\",value:form.dateOfBirth,onChange:e=>setForm(Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({},form),{},{dateOfBirth:e.target.value})),required:true})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"label\",{children:[\"Blood Group\",/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{value:form.bloodGroup,onChange:e=>setForm(Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({},form),{},{bloodGroup:e.target.value}))})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"label\",{children:[\"Nationality\",/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{value:form.nationality,onChange:e=>handleFieldChange('nationality',e.target.value)})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"label\",{children:[\"Mother Tongue\",/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{value:form.motherTongue,onChange:e=>handleFieldChange('motherTongue',e.target.value)})]})]})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"form-section\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"h3\",{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(index_esm[\"i\" /* FiBook */],{}),\"Academic Info\"]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"form-grid\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"label\",{children:[\"School Code *\",/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{value:form.schoolCode,onChange:e=>setForm(Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({},form),{},{schoolCode:e.target.value})),required:true})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"label\",{children:[\"Class *\",/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{value:form.gradeLevel,onChange:e=>handleFieldChange('gradeLevel',e.target.value),required:true})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"label\",{children:[\"Section *\",/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{value:form.section,onChange:e=>handleFieldChange('section',e.target.value),required:true})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"label\",{children:[\"Academic Year *\",/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{value:form.academicYear,onChange:e=>handleFieldChange('academicYear',e.target.value),required:true})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"label\",{children:[\"Admission Date *\",/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{type:\"date\",value:form.admissionDate,onChange:e=>setForm(Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({},form),{},{admissionDate:e.target.value})),required:true})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"label\",{children:[\"Status\",/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"select\",{value:form.status,onChange:e=>setForm(Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({},form),{},{status:e.target.value})),children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"option\",{value:\"Active\",children:\"Active\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"option\",{value:\"Inactive\",children:\"Inactive\"})]})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"label\",{children:[\"Admission No *\",/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{value:form.admissionNumber,onChange:e=>handleFieldChange('admissionNumber',e.target.value),required:true})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"label\",{children:[\"Roll No *\",/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{value:form.rollNo,onChange:e=>handleFieldChange('rollNo',e.target.value),required:true})]})]})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"form-section\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"h3\",{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(index_esm[\"z\" /* FiMail */],{}),\"Contact Details\"]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"form-grid\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"label\",{children:[\"Phone Number\",/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{value:form.phoneNumber,onChange:e=>handleFieldChange('phoneNumber',e.target.value)})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"label\",{children:[\"School Email *\",/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{type:\"email\",value:form.schoolEmail,onChange:e=>handleFieldChange('schoolEmail',e.target.value),required:true})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"label\",{children:[\"Personal Email\",/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{type:\"email\",value:form.personalEmail,onChange:e=>handleFieldChange('personalEmail',e.target.value)})]})]})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"form-section\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"h3\",{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(index_esm[\"N\" /* FiUsers */],{}),\"Guardian Info\"]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"form-grid\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"label\",{children:[\"Guardian Name\",/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{value:form.guardianName,onChange:e=>handleFieldChange('guardianName',e.target.value)})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"label\",{children:[\"Guardian Relation\",/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{value:form.guardianRelation,onChange:e=>handleFieldChange('guardianRelation',e.target.value)})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"label\",{children:[\"Guardian Contact\",/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{value:form.guardianContact,onChange:e=>handleFieldChange('guardianContact',e.target.value)})]})]})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"form-actions\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\",{type:\"button\",className:\"btn-secondary\",onClick:()=>navigate('/students'),children:\"Cancel\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\",{type:\"submit\",className:\"btn-primary\",disabled:submitting,children:submitting?'Creating...':'Create Student'})]})]})]});}\n// CONCATENATED MODULE: ./src/pages/students/StudentEdit.js\nfunction StudentEdit(){const navigate=Object(react_router_dist[\"q\" /* useNavigate */])();const{id}=Object(react_router_dist[\"s\" /* useParams */])();const{token}=useAuth();const toast=useToast();const[form,setForm]=Object(react[\"useState\"])({});const[loading,setLoading]=Object(react[\"useState\"])(true);const[submitting,setSubmitting]=Object(react[\"useState\"])(false);const[error,setError]=Object(react[\"useState\"])('');Object(react[\"useEffect\"])(()=>{let isMounted=true;async function fetchStudent(){setLoading(true);setError('');try{const url=getApiUrl('/midland/admin/students/all');const res=await fetch(url,{headers:getAuthHeaders(token)});if(!res.ok){throw new Error('Failed to load student');}const data=await res.json();const list=Array.isArray(data)?data:[];const match=list.find(s=>String(s.schoolEmail)===id||String(s.personalEmail)===id||String(s.admissionNumber)===id||String(s.rollNo)===id);if(isMounted){if(match){setForm(match);}else{setError('Student not found');toast.error('Student not found');}}}catch(err){const errorMsg=err.message||'Failed to load student';if(isMounted)setError(errorMsg);toast.error(errorMsg);}finally{if(isMounted)setLoading(false);}}fetchStudent();return()=>{isMounted=false;};},[id,token,toast]);if(loading)return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"page\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(SkeletonForm,{})});if(error&&!form.schoolEmail)return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"page\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"alert alert-error\",children:error})});const emailKey=form.schoolEmail||form.personalEmail||id;return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"page\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"page-header\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h2\",{children:\"Edit Student\"}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"button\",{className:\"btn-secondary\",onClick:()=>navigate('/students'),children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(index_esm[\"e\" /* FiArrowLeft */],{size:16,style:{marginRight:8}}),\"Back to List\"]})]}),error&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"alert alert-error\",children:error}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"form\",{onSubmit:async e=>{e.preventDefault();setError('');setSubmitting(true);try{const payload=Object(objectSpread2[\"a\" /* default */])({},form);const url=getApiUrl(\"/midland/admin/students/update/\".concat(encodeURIComponent(emailKey)));const res=await fetch(url,{method:'PUT',headers:getAuthHeaders(token),body:JSON.stringify(payload)});if(!res.ok){const errorText=await res.text().catch(()=>'');throw new Error(errorText||\"Failed to update: \".concat(res.status));}toast.success('Student updated successfully');navigate('/students',{replace:true});}catch(err){const errorMsg=err.message||'Failed to update student';setError(errorMsg);toast.error(errorMsg);}finally{setSubmitting(false);}},children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"form-section\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h3\",{children:\"Account\"}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"form-grid\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"label\",{children:[\"Username *\",/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{value:form.username||'',onChange:e=>setForm(Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({},form),{},{username:e.target.value})),required:true})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"label\",{children:[\"Password\",/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{type:\"password\",value:form.password||'',onChange:e=>setForm(Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({},form),{},{password:e.target.value})),placeholder:\"Leave blank to keep current password\"})]})]})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"form-section\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h3\",{children:\"Personal Info\"}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"form-grid\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"label\",{children:[\"Full Name *\",/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{value:form.fullName||'',onChange:e=>setForm(Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({},form),{},{fullName:e.target.value})),required:true})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"label\",{children:[\"Gender *\",/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"select\",{value:form.gender||'',onChange:e=>setForm(Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({},form),{},{gender:e.target.value})),required:true,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"option\",{value:\"\",children:\"Select\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"option\",{value:\"Male\",children:\"Male\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"option\",{value:\"Female\",children:\"Female\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"option\",{value:\"Other\",children:\"Other\"})]})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"label\",{children:[\"Date of Birth *\",/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{type:\"date\",value:form.dateOfBirth||'',onChange:e=>setForm(Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({},form),{},{dateOfBirth:e.target.value})),required:true})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"label\",{children:[\"Blood Group\",/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{value:form.bloodGroup||'',onChange:e=>setForm(Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({},form),{},{bloodGroup:e.target.value}))})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"label\",{children:[\"Nationality\",/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{value:form.nationality||'',onChange:e=>setForm(Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({},form),{},{nationality:e.target.value}))})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"label\",{children:[\"Mother Tongue\",/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{value:form.motherTongue||'',onChange:e=>setForm(Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({},form),{},{motherTongue:e.target.value}))})]})]})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"form-section\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h3\",{children:\"Academic Info\"}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"form-grid\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"label\",{children:[\"School Code *\",/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{value:form.schoolCode||'',onChange:e=>setForm(Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({},form),{},{schoolCode:e.target.value})),required:true})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"label\",{children:[\"Class *\",/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{value:form.gradeLevel||'',onChange:e=>setForm(Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({},form),{},{gradeLevel:e.target.value})),required:true})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"label\",{children:[\"Section *\",/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{value:form.section||'',onChange:e=>setForm(Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({},form),{},{section:e.target.value})),required:true})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"label\",{children:[\"Academic Year *\",/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{value:form.academicYear||'',onChange:e=>setForm(Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({},form),{},{academicYear:e.target.value})),required:true})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"label\",{children:[\"Admission Date *\",/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{type:\"date\",value:form.admissionDate||'',onChange:e=>setForm(Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({},form),{},{admissionDate:e.target.value})),required:true})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"label\",{children:[\"Status\",/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"select\",{value:form.status||'Active',onChange:e=>setForm(Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({},form),{},{status:e.target.value})),children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"option\",{value:\"Active\",children:\"Active\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"option\",{value:\"Inactive\",children:\"Inactive\"})]})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"label\",{children:[\"Admission No *\",/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{value:form.admissionNumber||'',onChange:e=>setForm(Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({},form),{},{admissionNumber:e.target.value})),required:true})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"label\",{children:[\"Roll No *\",/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{value:form.rollNo||'',onChange:e=>setForm(Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({},form),{},{rollNo:e.target.value})),required:true})]})]})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"form-section\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h3\",{children:\"Contact Details\"}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"form-grid\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"label\",{children:[\"Phone Number\",/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{value:form.phoneNumber||'',onChange:e=>setForm(Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({},form),{},{phoneNumber:e.target.value}))})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"label\",{children:[\"School Email *\",/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{type:\"email\",value:form.schoolEmail||'',onChange:e=>setForm(Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({},form),{},{schoolEmail:e.target.value})),required:true})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"label\",{children:[\"Personal Email\",/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{type:\"email\",value:form.personalEmail||'',onChange:e=>setForm(Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({},form),{},{personalEmail:e.target.value}))})]})]})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"form-section\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h3\",{children:\"Guardian Info\"}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"form-grid\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"label\",{children:[\"Guardian Name\",/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{value:form.guardianName||'',onChange:e=>setForm(Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({},form),{},{guardianName:e.target.value}))})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"label\",{children:[\"Guardian Relation\",/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{value:form.guardianRelation||'',onChange:e=>setForm(Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({},form),{},{guardianRelation:e.target.value}))})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"label\",{children:[\"Guardian Contact\",/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{value:form.guardianContact||'',onChange:e=>setForm(Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({},form),{},{guardianContact:e.target.value}))})]})]})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"form-actions\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\",{type:\"button\",className:\"btn-secondary\",onClick:()=>navigate('/students'),children:\"Cancel\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\",{type:\"submit\",className:\"btn-primary\",disabled:submitting,children:submitting?'Updating...':'Update Student'})]})]})]});}\n// EXTERNAL MODULE: ./src/pages/students/StudentProfile.css\nvar StudentProfile = __webpack_require__(43);\n\n// CONCATENATED MODULE: ./src/pages/students/StudentProfile.js\nfunction StudentProfile_StudentProfile(){const{id}=Object(react_router_dist[\"s\" /* useParams */])();const navigate=Object(react_router_dist[\"q\" /* useNavigate */])();const{token}=useAuth();const toast=useToast();const[student,setStudent]=Object(react[\"useState\"])(null);const[loading,setLoading]=Object(react[\"useState\"])(true);const[error,setError]=Object(react[\"useState\"])('');const[activeTab,setActiveTab]=Object(react[\"useState\"])('basic');Object(react[\"useEffect\"])(()=>{let isMounted=true;async function fetchStudent(){setLoading(true);setError('');try{let studentData=null;try{const admissionUrl=getApiUrl(\"/midland/admin/students/admission/\".concat(id));const admissionRes=await fetch(admissionUrl,{headers:getAuthHeaders(token)});if(admissionRes.ok){studentData=await admissionRes.json();}}catch(err){// Fall through to fallback\n}if(!studentData){const allUrl=getApiUrl('/midland/admin/students/all');const allRes=await fetch(allUrl,{headers:getAuthHeaders(token)});if(!allRes.ok){throw new Error('Failed to load student');}const data=await allRes.json();const list=Array.isArray(data)?data:[];const match=list.find(s=>String(s.studentUid)===id||String(s.admissionNumber)===id||String(s.rollNo)===id||String(s.schoolEmail)===id||String(s.personalEmail)===id);studentData=match||null;}if(isMounted){setStudent(studentData);if(!studentData){setError('Student not found');toast.error('Student not found');}}}catch(err){const errorMsg=err.message||'Failed to load student';if(isMounted)setError(errorMsg);toast.error(errorMsg);}finally{if(isMounted)setLoading(false);}}fetchStudent();return()=>{isMounted=false;};},[id,token,toast]);const initials=Object(react[\"useMemo\"])(()=>{const name=((student===null||student===void 0?void 0:student.fullName)||'').trim();if(!name)return'??';const parts=name.split(/\\s+/);if(parts.length>=2){return(parts[0][0]+parts[parts.length-1][0]).toUpperCase();}return name.substring(0,2).toUpperCase();},[student]);if(loading)return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"page\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(SkeletonProfile,{})});if(error||!student)return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"page\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"alert alert-error\",children:error||'Student not found'})});const primaryPhone=student.phoneNumber||'';const primaryEmail=student.schoolEmail||student.personalEmail||'';const phoneHref=primaryPhone?\"tel:\".concat(String(primaryPhone).replace(/\\s+/g,'')):null;const emailHref=primaryEmail?\"mailto:\".concat(primaryEmail):null;const tabs=[{id:'basic',label:'Basic',icon:index_esm[\"L\" /* FiUser */]},{id:'academic',label:'Academic',icon:index_esm[\"j\" /* FiBookOpen */]},{id:'contact',label:'Contact',icon:index_esm[\"D\" /* FiPhoneCall */]},{id:'guardian',label:'Guardian',icon:index_esm[\"N\" /* FiUsers */]}];return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"page student-profile-page\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"profile-header-section\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"profile-header-left\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\",{className:\"back-button\",onClick:()=>navigate('/students'),children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(index_esm[\"e\" /* FiArrowLeft */],{size:20})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h1\",{children:\"Student Profile\"})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"button\",{className:\"btn-secondary\",onClick:()=>navigate(\"/students/\".concat(id,\"/edit\")),children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(index_esm[\"q\" /* FiEdit2 */],{size:16,style:{marginRight:8}}),\"Edit Profile\"]})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"profile-top-card\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"profile-avatar-large\",children:initials}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"profile-info-main\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h2\",{className:\"profile-name\",children:student.fullName||'-'}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"profile-badges\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"info-badge purple\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(index_esm[\"l\" /* FiCalendar */],{size:14}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"span\",{children:[\"Class \",student.gradeLevel||'-',\" \\u2022 Sec \",student.section||'-']})]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(StatusBadge_StatusBadge,{status:student.status||'Active'}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"info-badge orange\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(index_esm[\"u\" /* FiHash */],{size:14}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"span\",{children:[\"# \",student.admissionNumber||student.rollNo||'-']})]})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"contact-cards\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"contact-card\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(index_esm[\"C\" /* FiPhone */],{size:18}),primaryPhone?/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"a\",{className:\"contact-card-link\",href:phoneHref,children:primaryPhone}):/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"span\",{children:\"N/A\"})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"contact-card\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(index_esm[\"z\" /* FiMail */],{size:18}),primaryEmail?/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"a\",{className:\"contact-card-link\",href:emailHref,children:primaryEmail}):/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"span\",{children:\"N/A\"})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"contact-card\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(index_esm[\"v\" /* FiHome */],{size:18}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"span\",{children:student.address||'N/A'})]})]})]})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"profile-metrics-grid\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"metric-card\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"metric-icon\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(index_esm[\"l\" /* FiCalendar */],{size:20})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"metric-label\",children:\"CLASS\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"metric-value\",children:student.gradeLevel||'-'})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"metric-card\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"metric-icon\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(index_esm[\"l\" /* FiCalendar */],{size:20})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"metric-label\",children:\"SECTION\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"metric-value\",children:student.section||'-'})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"metric-card\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"metric-icon\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(index_esm[\"l\" /* FiCalendar */],{size:20})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"metric-label\",children:\"ACADEMIC YEAR\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"metric-value\",children:student.academicYear||'-'})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"metric-card\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"metric-icon\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(index_esm[\"H\" /* FiTag */],{size:20})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"metric-label\",children:\"STATUS\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"metric-value\",children:student.status||'Active'})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"metric-card\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"metric-icon\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(index_esm[\"l\" /* FiCalendar */],{size:20})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"metric-label\",children:\"ATTENDANCE\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"metric-value\",children:\"86%\"})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"metric-card\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"metric-icon\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(index_esm[\"H\" /* FiTag */],{size:20})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"metric-label\",children:\"FEES DUE\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"metric-value\",children:\"\\u20B9 0\"})]})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"profile-content-layout\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"profile-tabs-section\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"profile-tabs\",children:tabs.map(tab=>{const TabIcon=tab.icon;return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"button\",{className:\"profile-tab \".concat(activeTab===tab.id?'active':''),onClick:()=>setActiveTab(tab.id),type:\"button\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(TabIcon,{size:16}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"span\",{children:tab.label})]},tab.id);})}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"profile-tab-content\",children:[activeTab==='basic'&&/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"tab-panel\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"form-field-display\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"label\",{children:\"Full Name\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"field-value\",children:student.fullName||'-'})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"form-field-display\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"label\",{children:\"Gender\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"field-value\",children:student.gender||'-'})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"form-field-display\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"label\",{children:\"Date of Birth\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"field-value\",children:student.dateOfBirth||'-'})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"form-field-display\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"label\",{children:\"Blood Group\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"field-value\",children:student.bloodGroup||'-'})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"form-field-display\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"label\",{children:\"Nationality\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"field-value\",children:student.nationality||'-'})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"form-field-display\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"label\",{children:\"Mother Tongue\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"field-value\",children:student.motherTongue||'-'})]})]}),activeTab==='academic'&&/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"tab-panel\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"form-field-display\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"label\",{children:\"Admission Number\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"field-value\",children:student.admissionNumber||'-'})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"form-field-display\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"label\",{children:\"Roll No\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"field-value\",children:student.rollNo||'-'})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"form-field-display\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"label\",{children:\"Class\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"field-value\",children:student.gradeLevel||'-'})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"form-field-display\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"label\",{children:\"Section\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"field-value\",children:student.section||'-'})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"form-field-display\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"label\",{children:\"Academic Year\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"field-value\",children:student.academicYear||'-'})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"form-field-display\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"label\",{children:\"Admission Date\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"field-value\",children:student.admissionDate||'-'})]})]}),activeTab==='contact'&&/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"tab-panel\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"form-field-display\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"label\",{children:\"Phone Number\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"field-value\",children:student.phoneNumber||'-'})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"form-field-display\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"label\",{children:\"School Email\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"field-value\",children:student.schoolEmail||'-'})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"form-field-display\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"label\",{children:\"Personal Email\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"field-value\",children:student.personalEmail||'-'})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"form-field-display\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"label\",{children:\"Address\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"field-value\",children:student.address||'-'})]})]}),activeTab==='guardian'&&/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"tab-panel\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"form-field-display\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"label\",{children:\"Guardian Name\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"field-value\",children:student.guardianName||'-'})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"form-field-display\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"label\",{children:\"Relation\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"field-value\",children:student.guardianRelation||'-'})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"form-field-display\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"label\",{children:\"Guardian Contact\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"field-value\",children:student.guardianContact||'-'})]})]})]})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"attendance-summary-card\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h3\",{children:\"Attendance Summary\"}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"attendance-percentage\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"strong\",{children:\"86%\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"span\",{children:\"Overall attendance\"})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"attendance-bars\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"attendance-bar-item\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"bar-label\",children:\"PRESENT\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"bar-container\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"bar-fill present\",style:{width:'86%'}})})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"attendance-bar-item\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"bar-label\",children:\"ABSENT\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"bar-container\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"bar-fill absent\",style:{width:'14%'}})})]})]})]})]})]});}\n// CONCATENATED MODULE: ./src/pages/teachers/Teachers.js\nfunction Teachers(){const navigate=Object(react_router_dist[\"q\" /* useNavigate */])();const{token}=useAuth();const toast=useToast();const[query,setQuery]=Object(react[\"useState\"])('');const[department,setDepartment]=Object(react[\"useState\"])('');const[designation,setDesignation]=Object(react[\"useState\"])('');const[teachers,setTeachers]=Object(react[\"useState\"])([]);const[loading,setLoading]=Object(react[\"useState\"])(false);const[error,setError]=Object(react[\"useState\"])('');const[deleteOpen,setDeleteOpen]=Object(react[\"useState\"])(false);const[deleteEmail,setDeleteEmail]=Object(react[\"useState\"])('');const[deleting,setDeleting]=Object(react[\"useState\"])(false);const[deleteError,setDeleteError]=Object(react[\"useState\"])('');const[currentPage,setCurrentPage]=Object(react[\"useState\"])(1);const itemsPerPage=6;const[sortConfig,setSortConfig]=Object(react[\"useState\"])({key:null,direction:'asc'});const fetchTeachers=Object(react[\"useCallback\"])(async()=>{setLoading(true);setError('');try{const url=getApiUrl('/midland/admin/teachers/all');const res=await fetch(url,{headers:getAuthHeaders(token)});if(!res.ok){throw new Error(\"Failed to load teachers: \".concat(res.status,\" \").concat(res.statusText));}const data=await res.json();setTeachers(Array.isArray(data)?data:[]);}catch(err){const errorMsg=err.message||'Failed to load teachers';setError(errorMsg);toast.error(errorMsg);}finally{setLoading(false);}},[token,toast]);Object(react[\"useEffect\"])(()=>{fetchTeachers();},[fetchTeachers]);Object(react[\"useEffect\"])(()=>{try{lib_default.a.setAppElement('#root');}catch(_){}},[]);const departments=Object(react[\"useMemo\"])(()=>{return Array.from(new Set(teachers.map(t=>String(t.department||'').trim()).filter(Boolean)));},[teachers]);const designations=Object(react[\"useMemo\"])(()=>{return Array.from(new Set(teachers.map(t=>String(t.designation||'').trim()).filter(Boolean)));},[teachers]);const handleSort=(key,direction)=>{setSortConfig({key,direction});setCurrentPage(1);};const sortedAndFilteredRows=Object(react[\"useMemo\"])(()=>{const q=query.trim().toLowerCase();let filtered=teachers.filter(t=>{const name=String(t.fullName||'').toLowerCase();const email=String(t.schoolEmail||t.personalEmail||'').toLowerCase();const queryMatch=!q||name.includes(q)||email.includes(q);const deptMatch=!department||String(t.department||'')===department;const desigMatch=!designation||String(t.designation||'')===designation;return queryMatch&&deptMatch&&desigMatch;}).map(t=>({key:t.teacherCode||t.schoolEmail||Math.random(),id:t.teacherCode||t.schoolEmail||'-',name:t.fullName||'-',email:t.schoolEmail||t.personalEmail||'-',department:t.department||'-',designation:t.designation||'-',status:t.status||'Active',emailKey:t.schoolEmail||t.personalEmail||''}));if(sortConfig.key){filtered.sort((a,b)=>{let aVal=a[sortConfig.key];let bVal=b[sortConfig.key];if(typeof aVal==='string'){aVal=aVal.toLowerCase();bVal=bVal.toLowerCase();}if(aVal<bVal)return sortConfig.direction==='asc'?-1:1;if(aVal>bVal)return sortConfig.direction==='asc'?1:-1;return 0;});}return filtered;},[teachers,query,department,designation,sortConfig]);const totalPages=Math.ceil(sortedAndFilteredRows.length/itemsPerPage);const startIndex=(currentPage-1)*itemsPerPage;const endIndex=startIndex+itemsPerPage;const rows=sortedAndFilteredRows.slice(startIndex,endIndex);Object(react[\"useEffect\"])(()=>{if(currentPage>totalPages&&totalPages>0){setCurrentPage(1);}},[totalPages,currentPage]);return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"page teachers\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"page-header\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"header-main\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h2\",{children:\"Teachers\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"meta\",children:loading?'Loading':\"\".concat(sortedAndFilteredRows.length,\" teacher\").concat(sortedAndFilteredRows.length!==1?'s':'')})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"button\",{className:\"btn-primary\",onClick:()=>navigate('/teachers/create'),children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(index_esm[\"E\" /* FiPlus */],{size:18,style:{marginRight:8}}),\"Add Teacher\"]})]}),error&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"alert alert-error\",children:error}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"filters\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"filter-input-wrapper\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(index_esm[\"F\" /* FiSearch */],{className:\"filter-icon\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{type:\"text\",placeholder:\"Search by name or email...\",value:query,onChange:e=>setQuery(e.target.value),className:\"filter-input\"})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"filter-select-wrapper\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(index_esm[\"k\" /* FiBriefcase */],{className:\"filter-icon\"}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"select\",{value:department,onChange:e=>setDepartment(e.target.value),className:\"filter-select\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"option\",{value:\"\",children:\"All Departments\"}),departments.map(d=>/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"option\",{value:d,children:d},d))]})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"filter-select-wrapper\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(index_esm[\"H\" /* FiTag */],{className:\"filter-icon\"}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"select\",{value:designation,onChange:e=>setDesignation(e.target.value),className:\"filter-select\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"option\",{value:\"\",children:\"All Designations\"}),designations.map(d=>/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"option\",{value:d,children:d},d))]})]})]}),loading?/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(SkeletonTable,{rows:5,columns:5}):sortedAndFilteredRows.length===0?/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(EmptyState_EmptyState,{type:\"teachers\",actionLabel:\"Add Teacher\",onAction:()=>navigate('/teachers/create')}):/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"table-container\",children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"table\",{className:\"data-table\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"thead\",{children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"tr\",{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(SortableTableHeader_SortableTableHeader,{sortKey:\"id\",currentSort:sortConfig,onSort:handleSort,children:\"ID\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(SortableTableHeader_SortableTableHeader,{sortKey:\"name\",currentSort:sortConfig,onSort:handleSort,children:\"Name\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(SortableTableHeader_SortableTableHeader,{sortKey:\"email\",currentSort:sortConfig,onSort:handleSort,children:\"Email\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(SortableTableHeader_SortableTableHeader,{sortKey:\"department\",currentSort:sortConfig,onSort:handleSort,children:\"Department\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(SortableTableHeader_SortableTableHeader,{sortKey:\"designation\",currentSort:sortConfig,onSort:handleSort,children:\"Designation\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(SortableTableHeader_SortableTableHeader,{sortKey:\"status\",currentSort:sortConfig,onSort:handleSort,children:\"Status\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(SortableTableHeader_SortableTableHeader,{className:\"actions-column\",children:\"Actions\"})]})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"tbody\",{children:rows.map(row=>/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"tr\",{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"td\",{className:\"cell-id\",children:row.id}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"td\",{className:\"cell-name\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\",{className:\"name-link\",onClick:()=>navigate(\"/teachers/\".concat(row.emailKey||row.id)),title:\"View Profile\",children:row.name})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"td\",{className:\"cell-email\",children:row.email}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"td\",{className:\"cell-small\",children:row.department}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"td\",{className:\"cell-small\",children:row.designation}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"td\",{className:\"cell-status\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(StatusBadge_StatusBadge,{status:row.status})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"td\",{className:\"cell-actions\",children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"action-buttons\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\",{className:\"btn-icon\",onClick:()=>navigate(\"/teachers/\".concat(row.emailKey||row.key,\"/edit\")),title:\"Edit\",\"aria-label\":\"Edit teacher\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(index_esm[\"q\" /* FiEdit2 */],{size:18})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\",{className:\"btn-icon btn-danger\",onClick:()=>{setDeleteEmail(row.emailKey);setDeleteOpen(true);},title:\"Delete\",\"aria-label\":\"Delete teacher\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(index_esm[\"I\" /* FiTrash2 */],{size:18})})]})})]},row.key))})]})}),!loading&&sortedAndFilteredRows.length>0&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Pagination_Pagination,{currentPage:currentPage,totalPages:totalPages,onPageChange:setCurrentPage}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(lib_default.a,{isOpen:deleteOpen,onRequestClose:()=>!deleting&&setDeleteOpen(false),className:\"modal\",overlayClassName:\"modal-overlay\",children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"modal-content\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h3\",{children:\"Delete Teacher\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"p\",{children:\"Are you sure you want to delete this teacher? This action cannot be undone.\"}),deleteError&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"alert alert-error\",style:{marginBottom:16},children:deleteError}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"modal-actions\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\",{className:\"btn-secondary\",onClick:()=>setDeleteOpen(false),disabled:deleting,children:\"Cancel\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\",{className:\"btn-danger\",disabled:deleting,onClick:async()=>{if(!deleteEmail)return;setDeleting(true);setDeleteError('');try{const emailKey=encodeURIComponent(deleteEmail);const url=getApiUrl(\"/midland/admin/teachers/delete/\".concat(emailKey));const res=await fetch(url,{method:'DELETE',headers:getAuthHeaders(token)});if(!res.ok){const errorText=await res.text().catch(()=>'');throw new Error(errorText||\"Failed to delete: \".concat(res.status));}setDeleteOpen(false);fetchTeachers();}catch(err){setDeleteError(err.message||'Failed to delete teacher');}finally{setDeleting(false);}},children:deleting?'Deleting':'Delete'})]})]})})]});}\n// CONCATENATED MODULE: ./src/pages/teachers/TeacherCreate.js\nfunction TeacherCreate(){const navigate=Object(react_router_dist[\"q\" /* useNavigate */])();const{token}=useAuth();const toast=useToast();const[form,setForm]=Object(react[\"useState\"])({username:'',password:'',fullName:'',gender:'',dateOfBirth:'',department:'',designation:'',teacherCode:'',schoolEmail:'',personalEmail:'',phoneNumber:'',schoolCode:''});const[submitting,setSubmitting]=Object(react[\"useState\"])(false);const[error,setError]=Object(react[\"useState\"])('');return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"page\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"page-header\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h2\",{children:\"Create New Teacher\"}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"button\",{className:\"btn-secondary\",onClick:()=>navigate('/teachers'),children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(index_esm[\"e\" /* FiArrowLeft */],{size:16,style:{marginRight:8}}),\"Back to List\"]})]}),error&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"alert alert-error\",children:error}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"form\",{onSubmit:async e=>{e.preventDefault();setError('');setSubmitting(true);try{const payload={username:String(form.username||'').trim(),password:String(form.password||'').trim(),fullName:String(form.fullName||'').trim(),gender:String(form.gender||'').trim(),dateOfBirth:String(form.dateOfBirth||'').trim(),department:String(form.department||'').trim(),designation:String(form.designation||'').trim(),teacherCode:String(form.teacherCode||'').trim(),schoolEmail:String(form.schoolEmail||'').trim(),personalEmail:String(form.personalEmail||'').trim(),phoneNumber:String(form.phoneNumber||'').trim(),schoolCode:String(form.schoolCode||'').trim()};const url=getApiUrl('/midland/admin/teachers/create');const res=await fetch(url,{method:'POST',headers:getAuthHeaders(token),body:JSON.stringify(payload)});if(!res.ok){const errorText=await res.text().catch(()=>'');throw new Error(errorText||\"Failed to create: \".concat(res.status));}toast.success('Teacher created successfully');navigate('/teachers',{replace:true});}catch(err){const errorMsg=err.message||'Failed to create teacher';setError(errorMsg);toast.error(errorMsg);}finally{setSubmitting(false);}},children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"form-section\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"h3\",{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(index_esm[\"L\" /* FiUser */],{}),\"Account\"]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"form-grid\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"label\",{children:[\"Username *\",/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{value:form.username,onChange:e=>setForm(Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({},form),{},{username:e.target.value})),required:true})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"label\",{children:[\"Password *\",/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{type:\"password\",value:form.password,onChange:e=>setForm(Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({},form),{},{password:e.target.value})),required:true})]})]})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"form-section\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"h3\",{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(index_esm[\"L\" /* FiUser */],{}),\"Personal Info\"]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"form-grid\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"label\",{children:[\"Full Name *\",/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{value:form.fullName,onChange:e=>setForm(Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({},form),{},{fullName:e.target.value})),required:true})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"label\",{children:[\"Gender *\",/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"select\",{value:form.gender,onChange:e=>setForm(Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({},form),{},{gender:e.target.value})),required:true,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"option\",{value:\"\",children:\"Select\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"option\",{value:\"Male\",children:\"Male\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"option\",{value:\"Female\",children:\"Female\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"option\",{value:\"Other\",children:\"Other\"})]})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"label\",{children:[\"Date of Birth *\",/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{type:\"date\",value:form.dateOfBirth,onChange:e=>setForm(Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({},form),{},{dateOfBirth:e.target.value})),required:true})]})]})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"form-section\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"h3\",{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(index_esm[\"k\" /* FiBriefcase */],{}),\"Professional Info\"]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"form-grid\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"label\",{children:[\"Department *\",/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{value:form.department,onChange:e=>setForm(Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({},form),{},{department:e.target.value})),required:true})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"label\",{children:[\"Designation *\",/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{value:form.designation,onChange:e=>setForm(Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({},form),{},{designation:e.target.value})),required:true})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"label\",{children:[\"Teacher Code *\",/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{value:form.teacherCode,onChange:e=>setForm(Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({},form),{},{teacherCode:e.target.value})),required:true})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"label\",{children:[\"School Code *\",/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{value:form.schoolCode,onChange:e=>setForm(Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({},form),{},{schoolCode:e.target.value})),required:true})]})]})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"form-section\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"h3\",{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(index_esm[\"z\" /* FiMail */],{}),\"Contact Details\"]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"form-grid\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"label\",{children:[\"Phone Number\",/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{value:form.phoneNumber,onChange:e=>setForm(Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({},form),{},{phoneNumber:e.target.value}))})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"label\",{children:[\"School Email *\",/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{type:\"email\",value:form.schoolEmail,onChange:e=>setForm(Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({},form),{},{schoolEmail:e.target.value})),required:true})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"label\",{children:[\"Personal Email\",/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{type:\"email\",value:form.personalEmail,onChange:e=>setForm(Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({},form),{},{personalEmail:e.target.value}))})]})]})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"form-actions\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\",{type:\"button\",className:\"btn-secondary\",onClick:()=>navigate('/teachers'),children:\"Cancel\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\",{type:\"submit\",className:\"btn-primary\",disabled:submitting,children:submitting?'Creating...':'Create Teacher'})]})]})]});}\n// CONCATENATED MODULE: ./src/pages/teachers/TeacherEdit.js\nfunction TeacherEdit(){const navigate=Object(react_router_dist[\"q\" /* useNavigate */])();const{id}=Object(react_router_dist[\"s\" /* useParams */])();const{token}=useAuth();const toast=useToast();const[form,setForm]=Object(react[\"useState\"])({});const[loading,setLoading]=Object(react[\"useState\"])(true);const[submitting,setSubmitting]=Object(react[\"useState\"])(false);const[error,setError]=Object(react[\"useState\"])('');Object(react[\"useEffect\"])(()=>{let isMounted=true;async function fetchTeacher(){setLoading(true);setError('');try{const url=getApiUrl('/midland/admin/teachers/all');const res=await fetch(url,{headers:getAuthHeaders(token)});if(!res.ok){throw new Error('Failed to load teacher');}const data=await res.json();const list=Array.isArray(data)?data:[];const match=list.find(t=>String(t.schoolEmail)===id||String(t.personalEmail)===id||String(t.teacherCode)===id);if(isMounted){if(match){setForm(match);}else{setError('Teacher not found');toast.error('Teacher not found');}}}catch(err){const errorMsg=err.message||'Failed to load teacher';if(isMounted)setError(errorMsg);toast.error(errorMsg);}finally{if(isMounted)setLoading(false);}}fetchTeacher();return()=>{isMounted=false;};},[id,token,toast]);if(loading)return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"page\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(SkeletonForm,{})});if(error&&!form.schoolEmail)return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"page\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"alert alert-error\",children:error})});const emailKey=form.schoolEmail||form.personalEmail||id;return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"page\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"page-header\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h2\",{children:\"Edit Teacher\"}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"button\",{className:\"btn-secondary\",onClick:()=>navigate('/teachers'),children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(index_esm[\"e\" /* FiArrowLeft */],{size:16,style:{marginRight:8}}),\"Back to List\"]})]}),error&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"alert alert-error\",children:error}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"form\",{onSubmit:async e=>{e.preventDefault();setError('');setSubmitting(true);try{const payload=Object(objectSpread2[\"a\" /* default */])({},form);const url=getApiUrl(\"/midland/admin/teachers/update/\".concat(encodeURIComponent(emailKey)));const res=await fetch(url,{method:'PUT',headers:getAuthHeaders(token),body:JSON.stringify(payload)});if(!res.ok){const errorText=await res.text().catch(()=>'');throw new Error(errorText||\"Failed to update: \".concat(res.status));}toast.success('Teacher updated successfully');navigate('/teachers',{replace:true});}catch(err){const errorMsg=err.message||'Failed to update teacher';setError(errorMsg);toast.error(errorMsg);}finally{setSubmitting(false);}},children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"form-section\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h3\",{children:\"Account\"}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"form-grid\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"label\",{children:[\"Username *\",/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{value:form.username||'',onChange:e=>setForm(Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({},form),{},{username:e.target.value})),required:true})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"label\",{children:[\"Password\",/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{type:\"password\",value:form.password||'',onChange:e=>setForm(Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({},form),{},{password:e.target.value})),placeholder:\"Leave blank to keep current password\"})]})]})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"form-section\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h3\",{children:\"Personal Info\"}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"form-grid\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"label\",{children:[\"Full Name *\",/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{value:form.fullName||'',onChange:e=>setForm(Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({},form),{},{fullName:e.target.value})),required:true})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"label\",{children:[\"Gender *\",/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"select\",{value:form.gender||'',onChange:e=>setForm(Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({},form),{},{gender:e.target.value})),required:true,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"option\",{value:\"\",children:\"Select\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"option\",{value:\"Male\",children:\"Male\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"option\",{value:\"Female\",children:\"Female\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"option\",{value:\"Other\",children:\"Other\"})]})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"label\",{children:[\"Date of Birth *\",/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{type:\"date\",value:form.dateOfBirth||'',onChange:e=>setForm(Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({},form),{},{dateOfBirth:e.target.value})),required:true})]})]})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"form-section\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h3\",{children:\"Professional Info\"}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"form-grid\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"label\",{children:[\"Department *\",/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{value:form.department||'',onChange:e=>setForm(Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({},form),{},{department:e.target.value})),required:true})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"label\",{children:[\"Designation *\",/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{value:form.designation||'',onChange:e=>setForm(Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({},form),{},{designation:e.target.value})),required:true})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"label\",{children:[\"Teacher Code *\",/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{value:form.teacherCode||'',onChange:e=>setForm(Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({},form),{},{teacherCode:e.target.value})),required:true})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"label\",{children:[\"School Code *\",/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{value:form.schoolCode||'',onChange:e=>setForm(Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({},form),{},{schoolCode:e.target.value})),required:true})]})]})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"form-section\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h3\",{children:\"Contact Details\"}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"form-grid\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"label\",{children:[\"Phone Number\",/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{value:form.phoneNumber||'',onChange:e=>setForm(Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({},form),{},{phoneNumber:e.target.value}))})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"label\",{children:[\"School Email *\",/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{type:\"email\",value:form.schoolEmail||'',onChange:e=>setForm(Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({},form),{},{schoolEmail:e.target.value})),required:true})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"label\",{children:[\"Personal Email\",/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{type:\"email\",value:form.personalEmail||'',onChange:e=>setForm(Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({},form),{},{personalEmail:e.target.value}))})]})]})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"form-actions\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\",{type:\"button\",className:\"btn-secondary\",onClick:()=>navigate('/teachers'),children:\"Cancel\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\",{type:\"submit\",className:\"btn-primary\",disabled:submitting,children:submitting?'Updating...':'Update Teacher'})]})]})]});}\n// EXTERNAL MODULE: ./src/pages/teachers/TeacherProfile.css\nvar TeacherProfile = __webpack_require__(44);\n\n// CONCATENATED MODULE: ./src/pages/teachers/TeacherProfile.js\nfunction TeacherProfile_TeacherProfile(){const{id}=Object(react_router_dist[\"s\" /* useParams */])();const navigate=Object(react_router_dist[\"q\" /* useNavigate */])();const{token}=useAuth();const toast=useToast();const[teacher,setTeacher]=Object(react[\"useState\"])(null);const[loading,setLoading]=Object(react[\"useState\"])(true);const[error,setError]=Object(react[\"useState\"])('');const[activeTab,setActiveTab]=Object(react[\"useState\"])('basic');Object(react[\"useEffect\"])(()=>{let isMounted=true;async function fetchTeacher(){setLoading(true);setError('');try{const url=getApiUrl('/midland/admin/teachers/all');const res=await fetch(url,{headers:getAuthHeaders(token)});if(!res.ok){throw new Error('Failed to load teacher');}const data=await res.json();const list=Array.isArray(data)?data:[];const match=list.find(t=>String(t.schoolEmail)===id||String(t.personalEmail)===id||String(t.teacherCode)===id);if(isMounted){setTeacher(match||null);if(!match){setError('Teacher not found');toast.error('Teacher not found');}}}catch(err){const errorMsg=err.message||'Failed to load teacher';if(isMounted)setError(errorMsg);toast.error(errorMsg);}finally{if(isMounted)setLoading(false);}}fetchTeacher();return()=>{isMounted=false;};},[id,token,toast]);const initials=Object(react[\"useMemo\"])(()=>{const name=((teacher===null||teacher===void 0?void 0:teacher.fullName)||'').trim();if(!name)return'??';const parts=name.split(/\\s+/);if(parts.length>=2){return(parts[0][0]+parts[parts.length-1][0]).toUpperCase();}return name.substring(0,2).toUpperCase();},[teacher]);if(loading)return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"page\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(SkeletonProfile,{})});if(error||!teacher)return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"page\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"alert alert-error\",children:error||'Teacher not found'})});const primaryPhone=teacher.phoneNumber||'';const primaryEmail=teacher.schoolEmail||teacher.personalEmail||'';const phoneHref=primaryPhone?\"tel:\".concat(String(primaryPhone).replace(/\\s+/g,'')):null;const emailHref=primaryEmail?\"mailto:\".concat(primaryEmail):null;const tabs=[{id:'basic',label:'Basic',icon:index_esm[\"L\" /* FiUser */]},{id:'professional',label:'Professional',icon:index_esm[\"k\" /* FiBriefcase */]},{id:'contact',label:'Contact',icon:index_esm[\"D\" /* FiPhoneCall */]}];const highlights=[{label:'Status',value:teacher.status||'Active'},{label:'School Code',value:teacher.schoolCode||'-'},{label:'Joined',value:teacher.joinDate||'N/A'}];return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"page teacher-profile-page\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"profile-header-section\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"profile-header-left\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\",{className:\"back-button\",onClick:()=>navigate('/teachers'),children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(index_esm[\"e\" /* FiArrowLeft */],{size:20})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h1\",{children:\"Teacher Profile\"})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"button\",{className:\"btn-secondary\",onClick:()=>navigate(\"/teachers/\".concat(id,\"/edit\")),children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(index_esm[\"q\" /* FiEdit2 */],{size:16,style:{marginRight:8}}),\"Edit Profile\"]})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"profile-top-card\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"profile-avatar-large\",children:initials}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"profile-info-main\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h2\",{className:\"profile-name\",children:teacher.fullName||'-'}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"profile-badges\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"info-badge purple\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(index_esm[\"k\" /* FiBriefcase */],{size:14}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"span\",{children:[teacher.department||'-',\" \\u2022 \",teacher.designation||'-']})]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(StatusBadge_StatusBadge,{status:teacher.status||'Active'}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"info-badge orange\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(index_esm[\"u\" /* FiHash */],{size:14}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"span\",{children:[\"# \",teacher.teacherCode||'-']})]})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"contact-cards\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"contact-card\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(index_esm[\"C\" /* FiPhone */],{size:18}),primaryPhone?/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"a\",{className:\"contact-card-link\",href:phoneHref,children:primaryPhone}):/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"span\",{children:\"N/A\"})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"contact-card\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(index_esm[\"z\" /* FiMail */],{size:18}),primaryEmail?/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"a\",{className:\"contact-card-link\",href:emailHref,children:primaryEmail}):/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"span\",{children:\"N/A\"})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"contact-card\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(index_esm[\"v\" /* FiHome */],{size:18}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"span\",{children:teacher.address||'N/A'})]})]})]})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"profile-metrics-grid\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"metric-card\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"metric-icon\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(index_esm[\"k\" /* FiBriefcase */],{size:20})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"metric-label\",children:\"DEPARTMENT\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"metric-value\",children:teacher.department||'-'})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"metric-card\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"metric-icon\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(index_esm[\"H\" /* FiTag */],{size:20})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"metric-label\",children:\"DESIGNATION\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"metric-value\",children:teacher.designation||'-'})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"metric-card\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"metric-icon\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(index_esm[\"u\" /* FiHash */],{size:20})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"metric-label\",children:\"TEACHER CODE\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"metric-value\",children:teacher.teacherCode||'-'})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"metric-card\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"metric-icon\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(index_esm[\"H\" /* FiTag */],{size:20})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"metric-label\",children:\"STATUS\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"metric-value\",children:teacher.status||'Active'})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"metric-card\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"metric-icon\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(index_esm[\"l\" /* FiCalendar */],{size:20})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"metric-label\",children:\"SCHOOL CODE\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"metric-value\",children:teacher.schoolCode||'-'})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"metric-card\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"metric-icon\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(index_esm[\"l\" /* FiCalendar */],{size:20})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"metric-label\",children:\"JOIN DATE\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"metric-value\",children:teacher.joinDate||'-'})]})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"profile-content-layout\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"profile-tabs-section\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"profile-tabs\",children:tabs.map(tab=>{const TabIcon=tab.icon;return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"button\",{className:\"profile-tab \".concat(activeTab===tab.id?'active':''),onClick:()=>setActiveTab(tab.id),type:\"button\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(TabIcon,{size:16}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"span\",{children:tab.label})]},tab.id);})}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"profile-tab-content\",children:[activeTab==='basic'&&/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"tab-panel\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"form-field-display\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"label\",{children:\"Full Name\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"field-value\",children:teacher.fullName||'-'})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"form-field-display\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"label\",{children:\"Gender\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"field-value\",children:teacher.gender||'-'})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"form-field-display\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"label\",{children:\"Date of Birth\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"field-value\",children:teacher.dateOfBirth||'-'})]})]}),activeTab==='professional'&&/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"tab-panel\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"form-field-display\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"label\",{children:\"Teacher Code\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"field-value\",children:teacher.teacherCode||'-'})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"form-field-display\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"label\",{children:\"Department\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"field-value\",children:teacher.department||'-'})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"form-field-display\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"label\",{children:\"Designation\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"field-value\",children:teacher.designation||'-'})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"form-field-display\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"label\",{children:\"School Code\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"field-value\",children:teacher.schoolCode||'-'})]})]}),activeTab==='contact'&&/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"tab-panel\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"form-field-display\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"label\",{children:\"Phone Number\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"field-value\",children:teacher.phoneNumber||'-'})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"form-field-display\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"label\",{children:\"School Email\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"field-value\",children:teacher.schoolEmail||'-'})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"form-field-display\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"label\",{children:\"Personal Email\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"field-value\",children:teacher.personalEmail||'-'})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"form-field-display\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"label\",{children:\"Address\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"field-value\",children:teacher.address||'-'})]})]})]})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"attendance-summary-card teacher-summary-card\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h3\",{children:\"Profile Highlights\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"ul\",{className:\"summary-list\",children:highlights.map(item=>/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"li\",{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"span\",{children:item.label}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"strong\",{children:item.value})]},item.label))})]})]})]});}\n// CONCATENATED MODULE: ./src/pages/admin/Admins.js\nfunction Admins(){const navigate=Object(react_router_dist[\"q\" /* useNavigate */])();const{token}=useAuth();const toast=useToast();const[query,setQuery]=Object(react[\"useState\"])('');const[designation,setDesignation]=Object(react[\"useState\"])('');const[admins,setAdmins]=Object(react[\"useState\"])([]);const[loading,setLoading]=Object(react[\"useState\"])(false);const[error,setError]=Object(react[\"useState\"])('');const[deleteOpen,setDeleteOpen]=Object(react[\"useState\"])(false);const[deleteEmail,setDeleteEmail]=Object(react[\"useState\"])('');const[deleting,setDeleting]=Object(react[\"useState\"])(false);const[deleteError,setDeleteError]=Object(react[\"useState\"])('');const[currentPage,setCurrentPage]=Object(react[\"useState\"])(1);const itemsPerPage=6;const[sortConfig,setSortConfig]=Object(react[\"useState\"])({key:null,direction:'asc'});const fetchAdmins=Object(react[\"useCallback\"])(async()=>{setLoading(true);setError('');try{const url=getApiUrl('/midland/admin/all');const res=await fetch(url,{headers:getAuthHeaders(token)});if(!res.ok){throw new Error(\"Failed to load admins: \".concat(res.status,\" \").concat(res.statusText));}const data=await res.json();setAdmins(Array.isArray(data)?data:[]);}catch(err){const errorMsg=err.message||'Failed to load admins';setError(errorMsg);toast.error(errorMsg);}finally{setLoading(false);}},[token,toast]);Object(react[\"useEffect\"])(()=>{fetchAdmins();},[fetchAdmins]);Object(react[\"useEffect\"])(()=>{try{lib_default.a.setAppElement('#root');}catch(_){}},[]);const designations=Object(react[\"useMemo\"])(()=>{return Array.from(new Set(admins.map(a=>String(a.designation||'').trim()).filter(Boolean)));},[admins]);const handleSort=(key,direction)=>{setSortConfig({key,direction});setCurrentPage(1);};const sortedAndFilteredRows=Object(react[\"useMemo\"])(()=>{const q=query.trim().toLowerCase();let filtered=admins.filter(a=>{const name=String(a.fullName||'').toLowerCase();const email=String(a.schoolEmail||a.personalEmail||'').toLowerCase();const queryMatch=!q||name.includes(q)||email.includes(q);const desigMatch=!designation||String(a.designation||'')===designation;return queryMatch&&desigMatch;}).map(a=>({key:a.schoolEmail||a.personalEmail||Math.random(),id:a.adminCode||a.schoolEmail||'-',name:a.fullName||'-',email:a.schoolEmail||a.personalEmail||'-',designation:a.designation||'-',schoolCode:a.schoolCode||'-',status:a.status||'Active',emailKey:a.schoolEmail||a.personalEmail||''}));if(sortConfig.key){filtered.sort((a,b)=>{let aVal=a[sortConfig.key];let bVal=b[sortConfig.key];if(typeof aVal==='string'){aVal=aVal.toLowerCase();bVal=bVal.toLowerCase();}if(aVal<bVal)return sortConfig.direction==='asc'?-1:1;if(aVal>bVal)return sortConfig.direction==='asc'?1:-1;return 0;});}return filtered;},[admins,query,designation,sortConfig]);const totalPages=Math.ceil(sortedAndFilteredRows.length/itemsPerPage);const startIndex=(currentPage-1)*itemsPerPage;const endIndex=startIndex+itemsPerPage;const rows=sortedAndFilteredRows.slice(startIndex,endIndex);Object(react[\"useEffect\"])(()=>{if(currentPage>totalPages&&totalPages>0){setCurrentPage(1);}},[totalPages,currentPage]);return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"page admins\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"page-header\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"header-main\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h2\",{children:\"Administrators\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"meta\",children:loading?'Loading':\"\".concat(sortedAndFilteredRows.length,\" admin\").concat(sortedAndFilteredRows.length!==1?'s':'')})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"button\",{className:\"btn-primary\",onClick:()=>navigate('/admin/create'),children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(index_esm[\"E\" /* FiPlus */],{size:18,style:{marginRight:8}}),\"Add Admin\"]})]}),error&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"alert alert-error\",children:error}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"filters\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"filter-input-wrapper\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(index_esm[\"F\" /* FiSearch */],{className:\"filter-icon\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{type:\"text\",placeholder:\"Search by name or email...\",value:query,onChange:e=>setQuery(e.target.value),className:\"filter-input\"})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"filter-select-wrapper\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(index_esm[\"k\" /* FiBriefcase */],{className:\"filter-icon\"}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"select\",{value:designation,onChange:e=>setDesignation(e.target.value),className:\"filter-select\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"option\",{value:\"\",children:\"All Designations\"}),designations.map(d=>/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"option\",{value:d,children:d},d))]})]})]}),loading?/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(SkeletonTable,{rows:5,columns:4}):sortedAndFilteredRows.length===0?/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(EmptyState_EmptyState,{type:\"admins\",actionLabel:\"Add Admin\",onAction:()=>navigate('/admin/create')}):/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"table-container\",children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"table\",{className:\"data-table\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"thead\",{children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"tr\",{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(SortableTableHeader_SortableTableHeader,{sortKey:\"id\",currentSort:sortConfig,onSort:handleSort,children:\"ID\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(SortableTableHeader_SortableTableHeader,{sortKey:\"name\",currentSort:sortConfig,onSort:handleSort,children:\"Name\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(SortableTableHeader_SortableTableHeader,{sortKey:\"email\",currentSort:sortConfig,onSort:handleSort,children:\"Email\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(SortableTableHeader_SortableTableHeader,{sortKey:\"designation\",currentSort:sortConfig,onSort:handleSort,children:\"Designation\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(SortableTableHeader_SortableTableHeader,{sortKey:\"schoolCode\",currentSort:sortConfig,onSort:handleSort,children:\"School Code\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(SortableTableHeader_SortableTableHeader,{sortKey:\"status\",currentSort:sortConfig,onSort:handleSort,children:\"Status\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(SortableTableHeader_SortableTableHeader,{className:\"actions-column\",children:\"Actions\"})]})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"tbody\",{children:rows.map(row=>/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"tr\",{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"td\",{className:\"cell-id\",children:row.id}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"td\",{className:\"cell-name\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\",{className:\"name-link\",onClick:()=>navigate(\"/admin/\".concat(encodeURIComponent(row.emailKey||row.id))),title:\"View Profile\",children:row.name})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"td\",{className:\"cell-email\",children:row.email}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"td\",{className:\"cell-small\",children:row.designation}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"td\",{className:\"cell-small\",children:row.schoolCode}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"td\",{className:\"cell-status\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(StatusBadge_StatusBadge,{status:row.status})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"td\",{className:\"cell-actions\",children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"action-buttons\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\",{className:\"btn-icon\",onClick:()=>navigate(\"/admin/\".concat(encodeURIComponent(row.emailKey||row.id),\"/edit\")),title:\"Edit\",\"aria-label\":\"Edit admin\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(index_esm[\"q\" /* FiEdit2 */],{size:18})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\",{className:\"btn-icon btn-danger\",onClick:()=>{setDeleteEmail(row.emailKey);setDeleteOpen(true);},title:\"Delete\",\"aria-label\":\"Delete admin\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(index_esm[\"I\" /* FiTrash2 */],{size:18})})]})})]},row.key))})]})}),!loading&&sortedAndFilteredRows.length>0&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Pagination_Pagination,{currentPage:currentPage,totalPages:totalPages,onPageChange:setCurrentPage}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(lib_default.a,{isOpen:deleteOpen,onRequestClose:()=>!deleting&&setDeleteOpen(false),className:\"modal\",overlayClassName:\"modal-overlay\",children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"modal-content\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h3\",{children:\"Delete Administrator\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"p\",{children:\"Are you sure you want to delete this administrator? This action cannot be undone.\"}),deleteError&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"alert alert-error\",style:{marginBottom:16},children:deleteError}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"modal-actions\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\",{className:\"btn-secondary\",onClick:()=>setDeleteOpen(false),disabled:deleting,children:\"Cancel\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\",{className:\"btn-danger\",disabled:deleting,onClick:async()=>{if(!deleteEmail)return;setDeleting(true);setDeleteError('');try{const emailKey=encodeURIComponent(deleteEmail);const url=getApiUrl(\"/midland/admin/delete/\".concat(emailKey));const res=await fetch(url,{method:'DELETE',headers:getAuthHeaders(token)});if(!res.ok){const errorText=await res.text().catch(()=>'');throw new Error(errorText||\"Failed to delete: \".concat(res.status));}setDeleteOpen(false);toast.success('Administrator deleted successfully');fetchAdmins();}catch(err){const errorMsg=err.message||'Failed to delete admin';setDeleteError(errorMsg);toast.error(errorMsg);}finally{setDeleting(false);}},children:deleting?'Deleting':'Delete'})]})]})})]});}\n// CONCATENATED MODULE: ./src/pages/admin/AdminCreate.js\nfunction AdminCreate(){const navigate=Object(react_router_dist[\"q\" /* useNavigate */])();const{token}=useAuth();const toast=useToast();const[form,setForm]=Object(react[\"useState\"])({username:'',password:'',fullName:'',gender:'',designation:'',schoolEmail:'',personalEmail:'',phoneNumber:'',schoolCode:''});const[submitting,setSubmitting]=Object(react[\"useState\"])(false);const[error,setError]=Object(react[\"useState\"])('');return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"page\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"page-header\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h2\",{children:\"Create New Administrator\"}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"button\",{className:\"btn-secondary\",onClick:()=>navigate('/admin'),children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(index_esm[\"e\" /* FiArrowLeft */],{size:16,style:{marginRight:8}}),\"Back to List\"]})]}),error&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"alert alert-error\",children:error}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"form\",{onSubmit:async e=>{e.preventDefault();setError('');setSubmitting(true);try{const payload={username:String(form.username||'').trim(),password:String(form.password||'').trim(),fullName:String(form.fullName||'').trim(),gender:String(form.gender||'').trim(),designation:String(form.designation||'').trim(),schoolEmail:String(form.schoolEmail||'').trim(),personalEmail:String(form.personalEmail||'').trim(),phoneNumber:String(form.phoneNumber||'').trim(),schoolCode:String(form.schoolCode||'').trim()};const url=getApiUrl('/midland/admin/create');const res=await fetch(url,{method:'POST',headers:getAuthHeaders(token),body:JSON.stringify(payload)});if(!res.ok){const errorText=await res.text().catch(()=>'');throw new Error(errorText||\"Failed to create: \".concat(res.status));}toast.success('Administrator created successfully');navigate('/admin',{replace:true});}catch(err){const errorMsg=err.message||'Failed to create admin';setError(errorMsg);toast.error(errorMsg);}finally{setSubmitting(false);}},children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"form-section\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"h3\",{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(index_esm[\"L\" /* FiUser */],{}),\"Account\"]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"form-grid\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"label\",{children:[\"Username *\",/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{value:form.username,onChange:e=>setForm(Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({},form),{},{username:e.target.value})),required:true})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"label\",{children:[\"Password *\",/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{type:\"password\",value:form.password,onChange:e=>setForm(Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({},form),{},{password:e.target.value})),required:true})]})]})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"form-section\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"h3\",{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(index_esm[\"L\" /* FiUser */],{}),\"Personal Info\"]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"form-grid\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"label\",{children:[\"Full Name *\",/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{value:form.fullName,onChange:e=>setForm(Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({},form),{},{fullName:e.target.value})),required:true})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"label\",{children:[\"Gender *\",/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"select\",{value:form.gender,onChange:e=>setForm(Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({},form),{},{gender:e.target.value})),required:true,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"option\",{value:\"\",children:\"Select\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"option\",{value:\"Male\",children:\"Male\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"option\",{value:\"Female\",children:\"Female\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"option\",{value:\"Other\",children:\"Other\"})]})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"label\",{children:[\"Designation *\",/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{value:form.designation,onChange:e=>setForm(Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({},form),{},{designation:e.target.value})),required:true})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"label\",{children:[\"School Code *\",/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{value:form.schoolCode,onChange:e=>setForm(Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({},form),{},{schoolCode:e.target.value})),required:true})]})]})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"form-section\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"h3\",{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(index_esm[\"z\" /* FiMail */],{}),\"Contact Details\"]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"form-grid\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"label\",{children:[\"Phone Number\",/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{value:form.phoneNumber,onChange:e=>setForm(Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({},form),{},{phoneNumber:e.target.value}))})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"label\",{children:[\"School Email *\",/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{type:\"email\",value:form.schoolEmail,onChange:e=>setForm(Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({},form),{},{schoolEmail:e.target.value})),required:true})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"label\",{children:[\"Personal Email\",/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{type:\"email\",value:form.personalEmail,onChange:e=>setForm(Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({},form),{},{personalEmail:e.target.value}))})]})]})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"form-actions\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\",{type:\"button\",className:\"btn-secondary\",onClick:()=>navigate('/admin'),children:\"Cancel\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\",{type:\"submit\",className:\"btn-primary\",disabled:submitting,children:submitting?'Creating...':'Create Administrator'})]})]})]});}\n// CONCATENATED MODULE: ./src/pages/admin/AdminEdit.js\nfunction AdminEdit(){const navigate=Object(react_router_dist[\"q\" /* useNavigate */])();const{id}=Object(react_router_dist[\"s\" /* useParams */])();const{token}=useAuth();const toast=useToast();const[form,setForm]=Object(react[\"useState\"])({});const[loading,setLoading]=Object(react[\"useState\"])(true);const[submitting,setSubmitting]=Object(react[\"useState\"])(false);const[error,setError]=Object(react[\"useState\"])('');Object(react[\"useEffect\"])(()=>{let isMounted=true;async function fetchAdmin(){setLoading(true);setError('');try{const url=getApiUrl('/midland/admin/all');const res=await fetch(url,{headers:getAuthHeaders(token)});if(!res.ok){throw new Error('Failed to load admin');}const data=await res.json();const list=Array.isArray(data)?data:[];const match=list.find(a=>String(a.schoolEmail)===id||String(a.personalEmail)===id);if(isMounted){if(match){setForm(match);}else{setError('Admin not found');toast.error('Admin not found');}}}catch(err){const errorMsg=err.message||'Failed to load admin';if(isMounted)setError(errorMsg);toast.error(errorMsg);}finally{if(isMounted)setLoading(false);}}fetchAdmin();return()=>{isMounted=false;};},[id,token,toast]);if(loading)return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"page\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(SkeletonForm,{})});if(error&&!form.schoolEmail)return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"page\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"alert alert-error\",children:error})});const emailKey=form.schoolEmail||form.personalEmail||id;return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"page\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"page-header\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h2\",{children:\"Edit Administrator\"}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"button\",{className:\"btn-secondary\",onClick:()=>navigate('/admin'),children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(index_esm[\"e\" /* FiArrowLeft */],{size:16,style:{marginRight:8}}),\"Back to List\"]})]}),error&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"alert alert-error\",children:error}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"form\",{onSubmit:async e=>{e.preventDefault();setError('');setSubmitting(true);try{const payload=Object(objectSpread2[\"a\" /* default */])({},form);const url=getApiUrl(\"/midland/admin/update/\".concat(encodeURIComponent(emailKey)));const res=await fetch(url,{method:'PUT',headers:getAuthHeaders(token),body:JSON.stringify(payload)});if(!res.ok){const errorText=await res.text().catch(()=>'');throw new Error(errorText||\"Failed to update: \".concat(res.status));}toast.success('Administrator updated successfully');navigate('/admin',{replace:true});}catch(err){const errorMsg=err.message||'Failed to update admin';setError(errorMsg);toast.error(errorMsg);}finally{setSubmitting(false);}},children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"form-section\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h3\",{children:\"Account\"}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"form-grid\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"label\",{children:[\"Username *\",/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{value:form.username||'',onChange:e=>setForm(Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({},form),{},{username:e.target.value})),required:true})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"label\",{children:[\"Password\",/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{type:\"password\",value:form.password||'',onChange:e=>setForm(Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({},form),{},{password:e.target.value})),placeholder:\"Leave blank to keep current password\"})]})]})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"form-section\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h3\",{children:\"Personal Info\"}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"form-grid\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"label\",{children:[\"Full Name *\",/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{value:form.fullName||'',onChange:e=>setForm(Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({},form),{},{fullName:e.target.value})),required:true})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"label\",{children:[\"Gender *\",/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"select\",{value:form.gender||'',onChange:e=>setForm(Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({},form),{},{gender:e.target.value})),required:true,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"option\",{value:\"\",children:\"Select\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"option\",{value:\"Male\",children:\"Male\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"option\",{value:\"Female\",children:\"Female\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"option\",{value:\"Other\",children:\"Other\"})]})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"label\",{children:[\"Designation *\",/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{value:form.designation||'',onChange:e=>setForm(Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({},form),{},{designation:e.target.value})),required:true})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"label\",{children:[\"School Code *\",/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{value:form.schoolCode||'',onChange:e=>setForm(Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({},form),{},{schoolCode:e.target.value})),required:true})]})]})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"form-section\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h3\",{children:\"Contact Details\"}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"form-grid\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"label\",{children:[\"Phone Number\",/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{value:form.phoneNumber||'',onChange:e=>setForm(Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({},form),{},{phoneNumber:e.target.value}))})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"label\",{children:[\"School Email *\",/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{type:\"email\",value:form.schoolEmail||'',onChange:e=>setForm(Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({},form),{},{schoolEmail:e.target.value})),required:true})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"label\",{children:[\"Personal Email\",/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{type:\"email\",value:form.personalEmail||'',onChange:e=>setForm(Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({},form),{},{personalEmail:e.target.value}))})]})]})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"form-actions\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\",{type:\"button\",className:\"btn-secondary\",onClick:()=>navigate('/admin'),children:\"Cancel\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\",{type:\"submit\",className:\"btn-primary\",disabled:submitting,children:submitting?'Updating...':'Update Administrator'})]})]})]});}\n// EXTERNAL MODULE: ./src/pages/admin/AdminProfile.css\nvar AdminProfile = __webpack_require__(45);\n\n// CONCATENATED MODULE: ./src/pages/admin/AdminProfile.js\nfunction AdminProfile_AdminProfile(){const{id}=Object(react_router_dist[\"s\" /* useParams */])();const navigate=Object(react_router_dist[\"q\" /* useNavigate */])();const{token}=useAuth();const toast=useToast();const[admin,setAdmin]=Object(react[\"useState\"])(null);const[loading,setLoading]=Object(react[\"useState\"])(true);const[error,setError]=Object(react[\"useState\"])('');Object(react[\"useEffect\"])(()=>{let isMounted=true;async function fetchAdmin(){setLoading(true);setError('');try{const url=getApiUrl('/midland/admin/all');const res=await fetch(url,{headers:getAuthHeaders(token)});if(!res.ok){throw new Error('Failed to load administrator');}const data=await res.json();const list=Array.isArray(data)?data:[];const match=list.find(a=>String(a.schoolEmail)===id||String(a.personalEmail)===id||String(a.adminCode)===id);if(isMounted){setAdmin(match||null);if(!match){setError('Administrator not found');toast.error('Administrator not found');}}}catch(err){const errorMsg=err.message||'Failed to load administrator';if(isMounted)setError(errorMsg);toast.error(errorMsg);}finally{if(isMounted)setLoading(false);}}fetchAdmin();return()=>{isMounted=false;};},[id,token,toast]);const initials=Object(react[\"useMemo\"])(()=>{const name=((admin===null||admin===void 0?void 0:admin.fullName)||'').trim();if(!name)return'??';const parts=name.split(/\\s+/);if(parts.length>=2){return(parts[0][0]+parts[parts.length-1][0]).toUpperCase();}return name.substring(0,2).toUpperCase();},[admin]);if(loading)return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"page\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(SkeletonProfile,{})});if(error||!admin)return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"page\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"alert alert-error\",children:error||'Administrator not found'})});const primaryEmail=admin.schoolEmail||admin.personalEmail||'';const phoneHref=admin.phoneNumber?\"tel:\".concat(String(admin.phoneNumber).replace(/\\s+/g,'')):null;const emailHref=primaryEmail?\"mailto:\".concat(primaryEmail):null;return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"page admin-profile-page\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"profile-header-section\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"profile-header-left\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\",{className:\"back-button\",onClick:()=>navigate('/admin'),children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(index_esm[\"e\" /* FiArrowLeft */],{size:20})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h1\",{children:\"Administrator Profile\"})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"button\",{className:\"btn-secondary\",onClick:()=>navigate(\"/admin/\".concat(encodeURIComponent(primaryEmail||admin.adminCode||id),\"/edit\")),children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(index_esm[\"q\" /* FiEdit2 */],{size:16,style:{marginRight:8}}),\"Edit Profile\"]})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"profile-top-card\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"profile-avatar-large\",children:initials}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"profile-info-main\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h2\",{className:\"profile-name\",children:admin.fullName||'-'}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"profile-badges\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"info-badge purple\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(index_esm[\"k\" /* FiBriefcase */],{size:14}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"span\",{children:admin.designation||'Administrator'})]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(StatusBadge_StatusBadge,{status:admin.status||'Active'}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"info-badge orange\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(index_esm[\"u\" /* FiHash */],{size:14}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"span\",{children:[\"# \",admin.adminCode||'-']})]})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"contact-cards\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"contact-card\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(index_esm[\"C\" /* FiPhone */],{size:18}),admin.phoneNumber?/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"a\",{className:\"contact-card-link\",href:phoneHref,children:admin.phoneNumber}):/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"span\",{children:\"N/A\"})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"contact-card\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(index_esm[\"z\" /* FiMail */],{size:18}),primaryEmail?/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"a\",{className:\"contact-card-link\",href:emailHref,children:primaryEmail}):/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"span\",{children:\"N/A\"})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"contact-card\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(index_esm[\"v\" /* FiHome */],{size:18}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"span\",{children:admin.address||'N/A'})]})]})]})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"profile-metrics-grid\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"metric-card\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"metric-icon\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(index_esm[\"L\" /* FiUser */],{size:20})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"metric-label\",children:\"USERNAME\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"metric-value\",children:admin.username||'-'})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"metric-card\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"metric-icon\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(index_esm[\"k\" /* FiBriefcase */],{size:20})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"metric-label\",children:\"DESIGNATION\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"metric-value\",children:admin.designation||'-'})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"metric-card\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"metric-icon\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(index_esm[\"u\" /* FiHash */],{size:20})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"metric-label\",children:\"SCHOOL CODE\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"metric-value\",children:admin.schoolCode||'-'})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"metric-card\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"metric-icon\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(index_esm[\"z\" /* FiMail */],{size:20})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"metric-label\",children:\"SCHOOL EMAIL\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"metric-value\",children:admin.schoolEmail||'-'})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"metric-card\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"metric-icon\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(index_esm[\"z\" /* FiMail */],{size:20})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"metric-label\",children:\"PERSONAL EMAIL\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"metric-value\",children:admin.personalEmail||'-'})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"metric-card\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"metric-icon\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(index_esm[\"C\" /* FiPhone */],{size:20})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"metric-label\",children:\"PHONE\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"metric-value\",children:admin.phoneNumber||'-'})]})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"profile-content-layout\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"profile-tabs-section\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"profile-tabs single\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\",{className:\"profile-tab active\",type:\"button\",children:\"Overview\"})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"profile-tab-content\",children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"tab-panel\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"form-field-display\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"label\",{children:\"Full Name\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"field-value\",children:admin.fullName||'-'})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"form-field-display\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"label\",{children:\"Gender\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"field-value\",children:admin.gender||'-'})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"form-field-display\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"label\",{children:\"Designation\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"field-value\",children:admin.designation||'-'})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"form-field-display\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"label\",{children:\"School Code\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"field-value\",children:admin.schoolCode||'-'})]})]})})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"admin-summary-card\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h3\",{children:\"Profile Highlights\"}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"ul\",{className:\"summary-list\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"li\",{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"span\",{children:\"Status\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"strong\",{children:admin.status||'Active'})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"li\",{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"span\",{children:\"Username\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"strong\",{children:admin.username||'-'})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"li\",{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"span\",{children:\"Created\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"strong\",{children:admin.createdAt?new Date(admin.createdAt).toLocaleDateString():''})]})]})]})]})]});}\n// CONCATENATED MODULE: ./src/pages/Timetable.js\nfunction Timetable(){const{token}=useAuth();const toast=useToast();const[teacherCode,setTeacherCode]=Object(react[\"useState\"])('TCH2025');const[day,setDay]=Object(react[\"useState\"])('');const[entries,setEntries]=Object(react[\"useState\"])([]);const[loading,setLoading]=Object(react[\"useState\"])(false);const[error,setError]=Object(react[\"useState\"])('');const fetchTimetable=Object(react[\"useCallback\"])(async()=>{setLoading(true);setError('');try{const path=\"/midland/users/timetables/teacher/\".concat(encodeURIComponent(teacherCode));const url=getApiUrl(path);const res=await fetch(url,{headers:getAuthHeaders(token)});if(!res.ok){throw new Error(\"HTTP \".concat(res.status));}const data=await res.json();setEntries(Array.isArray(data)?data:[]);}catch(err){const errorMsg=err.message||'Failed to load timetable';setError(errorMsg);toast.error(errorMsg);}finally{setLoading(false);}},[teacherCode,token,toast]);Object(react[\"useEffect\"])(()=>{fetchTimetable();},[fetchTimetable]);const days=Object(react[\"useMemo\"])(()=>Array.from(new Set(entries.map(e=>e.dayOfWeek))),[entries]);const filtered=Object(react[\"useMemo\"])(()=>{const d=day.trim();return entries.filter(e=>!d||e.dayOfWeek===d).sort((a,b)=>a.dayOfWeek.localeCompare(b.dayOfWeek)||a.periodNumber-b.periodNumber);},[entries,day]);return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"page timetable\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"page-header\",children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"header-main\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h2\",{children:\"Timetable\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"meta\",children:loading?'Loading':\"\".concat(filtered.length,\" periods\")})]})}),error&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"alert alert-error\",children:error}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"filters\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{value:teacherCode,onChange:e=>setTeacherCode(e.target.value),placeholder:\"Teacher Code (e.g., TCH2025)\",className:\"filter-input\"}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"select\",{value:day,onChange:e=>setDay(e.target.value),disabled:loading,className:\"filter-select\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"option\",{value:\"\",children:\"All Days\"}),days.map(d=>/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"option\",{value:d,children:d},d))]})]}),loading?/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(SkeletonTable,{rows:5,columns:7}):filtered.length===0?/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(EmptyState_EmptyState,{type:\"timetable\"}):/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"table-container\",children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"table\",{className:\"data-table\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"thead\",{children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"tr\",{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"th\",{children:\"Day\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"th\",{children:\"Period\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"th\",{children:\"Time\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"th\",{children:\"Subject\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"th\",{children:\"Class\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"th\",{children:\"Section\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"th\",{children:\"Room\"})]})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"tbody\",{children:filtered.map((entry,idx)=>/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"tr\",{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"td\",{children:entry.dayOfWeek||'-'}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"td\",{children:entry.periodNumber||'-'}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"td\",{children:entry.startTime&&entry.endTime?\"\".concat(entry.startTime,\" - \").concat(entry.endTime):'-'}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"td\",{children:entry.subjectName||entry.subjectCode||'-'}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"td\",{children:entry.gradeLevel||'-'}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"td\",{children:entry.section||'-'}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"td\",{children:entry.roomNumber||'-'})]},idx))})]})})]});}\n// CONCATENATED MODULE: ./src/pages/Subjects.js\nfunction Subjects(){const{token}=useAuth();const toast=useToast();const[query,setQuery]=Object(react[\"useState\"])('');const[grade,setGrade]=Object(react[\"useState\"])('');const[curriculum,setCurriculum]=Object(react[\"useState\"])('');const[subjects,setSubjects]=Object(react[\"useState\"])([]);const[loading,setLoading]=Object(react[\"useState\"])(false);const[error,setError]=Object(react[\"useState\"])('');Object(react[\"useEffect\"])(()=>{let isMounted=true;async function fetchSubjects(){setLoading(true);setError('');try{const path='/midland/users/subjects/all';const url=getApiUrl(path);const res=await fetch(url,{headers:getAuthHeaders(token)});if(!res.ok){throw new Error(\"Request failed \".concat(res.status));}const data=await res.json();if(isMounted)setSubjects(Array.isArray(data)?data:[]);}catch(err){const errorMsg=err.message||'Failed to load subjects';if(isMounted)setError(errorMsg);toast.error(errorMsg);}finally{if(isMounted)setLoading(false);}}fetchSubjects();return()=>{isMounted=false;};},[token,toast]);const grades=Object(react[\"useMemo\"])(()=>Array.from(new Set(subjects.map(s=>String(s.gradeLevel||'').trim()).filter(Boolean))),[subjects]);const curricula=Object(react[\"useMemo\"])(()=>Array.from(new Set(subjects.map(s=>String(s.curriculumType||'').trim()).filter(Boolean))),[subjects]);const rows=Object(react[\"useMemo\"])(()=>{const q=query.trim().toLowerCase();return subjects.filter(s=>{const name=String(s.subjectName||'').toLowerCase();const code=String(s.subjectCode||'').toLowerCase();const gradeMatch=!grade||String(s.gradeLevel||'')===grade;const currMatch=!curriculum||String(s.curriculumType||'')===curriculum;const queryMatch=!q||name.includes(q)||code.includes(q);return gradeMatch&&currMatch&&queryMatch;}).map(s=>({key:s.subjectCode||s.subjectName,subjectName:s.subjectName||'-',subjectCode:s.subjectCode||'-',curriculumType:s.curriculumType||'-',gradeLevel:s.gradeLevel||'-',teacherCode:s.teacherCode||'-'}));},[subjects,query,grade,curriculum]);return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"page subjects\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"page-header\",children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"header-main\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h2\",{children:\"Subjects\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"meta\",children:loading?'Loading':\"\".concat(rows.length,\" subject\").concat(rows.length!==1?'s':'')})]})}),error&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"alert alert-error\",children:error}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"filters\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{type:\"text\",placeholder:\"Search by name or code...\",value:query,onChange:e=>setQuery(e.target.value),className:\"filter-input\"}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"select\",{value:grade,onChange:e=>setGrade(e.target.value),className:\"filter-select\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"option\",{value:\"\",children:\"All Grades\"}),grades.map(g=>/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"option\",{value:g,children:g},g))]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"select\",{value:curriculum,onChange:e=>setCurriculum(e.target.value),className:\"filter-select\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"option\",{value:\"\",children:\"All Curricula\"}),curricula.map(c=>/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"option\",{value:c,children:c},c))]})]}),loading?/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(SkeletonTable,{rows:5,columns:5}):rows.length===0?/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(EmptyState_EmptyState,{type:\"subjects\"}):/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"table-container\",children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"table\",{className:\"data-table\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"thead\",{children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"tr\",{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"th\",{children:\"Subject Name\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"th\",{children:\"Subject Code\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"th\",{children:\"Grade Level\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"th\",{children:\"Curriculum\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"th\",{children:\"Teacher Code\"})]})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"tbody\",{children:rows.map(row=>/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"tr\",{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"td\",{children:row.subjectName}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"td\",{children:row.subjectCode}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"td\",{children:row.gradeLevel}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"td\",{children:row.curriculumType}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"td\",{children:row.teacherCode})]},row.key))})]})})]});}\n// CONCATENATED MODULE: ./src/layouts/DashboardLayout.js\nfunction DashboardLayout(_ref){let{children}=_ref;const{logout}=useAuth();const{toggleTheme,isDark}=useTheme();const navigate=Object(react_router_dist[\"q\" /* useNavigate */])();const location=Object(react_router_dist[\"o\" /* useLocation */])();const[searchQuery,setSearchQuery]=Object(react[\"useState\"])('');const[sidebarOpen,setSidebarOpen]=Object(react[\"useState\"])(window.innerWidth>=768);const[isMobile,setIsMobile]=Object(react[\"useState\"])(window.innerWidth<768);Object(react[\"useEffect\"])(()=>{const handleResize=()=>{const mobile=window.innerWidth<768;setIsMobile(mobile);// Auto-close sidebar on mobile when resizing to mobile\nif(mobile&&sidebarOpen){setSidebarOpen(false);}// Auto-open sidebar on desktop when resizing to desktop\nif(!mobile&&!sidebarOpen){setSidebarOpen(true);}};window.addEventListener('resize',handleResize);return()=>window.removeEventListener('resize',handleResize);},[sidebarOpen]);const handleLogout=()=>{logout();navigate('/login');};const navItems=[{path:'/',label:'Dashboard',icon:index_esm[\"v\" /* FiHome */]},{path:'/students',label:'Students',icon:index_esm[\"N\" /* FiUsers */]},{path:'/teachers',label:'Teachers',icon:index_esm[\"M\" /* FiUserCheck */]},{path:'/admin',label:'Admins',icon:index_esm[\"L\" /* FiUser */]},{path:'/subjects',label:'Subjects',icon:index_esm[\"i\" /* FiBook */]},{path:'/timetable',label:'Timetable',icon:index_esm[\"l\" /* FiCalendar */]}];const toggleSidebar=()=>{setSidebarOpen(!sidebarOpen);};return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"dashboard-layout \".concat(isDark?'dark-theme':'light-theme',\" \").concat(sidebarOpen?'sidebar-open':'sidebar-closed'),children:[sidebarOpen&&isMobile&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"sidebar-overlay\",onClick:toggleSidebar}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"aside\",{className:\"dashboard-sidebar \".concat(sidebarOpen?'open':'closed'),children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"dashboard-sidebar-header\",children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"dashboard-logo-container\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"img\",{src:publicAsset('Images/logo.png'),alt:\"Midland International School\",className:\"dashboard-logo dashboard-logo-big\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"img\",{src:publicAsset('Images/sideLogo.png'),alt:\"Midland International School\",className:\"dashboard-logo dashboard-logo-small\"})]})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"nav\",{className:\"dashboard-sidebar-nav\",children:navItems.map(item=>{const Icon=item.icon;// Improved active state detection for nested routes\nconst isActive=item.path==='/'?location.pathname==='/':location.pathname.startsWith(item.path);return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(dist[\"b\" /* Link */],{to:item.path,className:\"dashboard-nav-link \".concat(isActive?'active':''),title:item.label,onClick:e=>{// Ensure navigation works properly\nif(location.pathname===item.path){e.preventDefault();}// Close sidebar on mobile when clicking a link\nif(isMobile){setSidebarOpen(false);}},children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Icon,{size:20}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"span\",{children:item.label})]},item.path);})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"dashboard-sidebar-footer\",children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"button\",{onClick:handleLogout,className:\"dashboard-logout-btn\",title:\"Logout\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"span\",{children:\"Logout\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(index_esm[\"f\" /* FiArrowRight */],{size:16})]})})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"dashboard-content-wrapper\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"header\",{className:\"dashboard-topbar\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"topbar-left\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\",{className:\"topbar-menu-btn\",\"aria-label\":\"Menu\",onClick:toggleSidebar,children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(index_esm[\"A\" /* FiMenu */],{size:20})}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"topbar-search\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(index_esm[\"F\" /* FiSearch */],{size:18,className:\"search-icon\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{type:\"text\",placeholder:\"Search\",value:searchQuery,onChange:e=>setSearchQuery(e.target.value),className:\"search-input\"})]})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"topbar-right\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\",{className:\"topbar-icon-btn\",\"aria-label\":\"Grid\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(index_esm[\"t\" /* FiGrid */],{size:20})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\",{className:\"topbar-icon-btn theme-toggle\",onClick:toggleTheme,\"aria-label\":\"Toggle theme\",children:isDark?/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(index_esm[\"G\" /* FiSun */],{size:20}):/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(index_esm[\"B\" /* FiMoon */],{size:20})})]})]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"main\",{className:\"dashboard-main\",children:children})]})]});}\n// EXTERNAL MODULE: ./src/App.css\nvar App = __webpack_require__(46);\n\n// CONCATENATED MODULE: ./src/App.js\nfunction App_App(){return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(ThemeProvider,{children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(ToastProvider,{children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(AuthProvider,{children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(dist[\"a\" /* BrowserRouter */],{children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(react_router_dist[\"d\" /* Routes */],{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_router_dist[\"b\" /* Route */],{path:\"/login\",element:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Login,{})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_router_dist[\"b\" /* Route */],{path:\"/register\",element:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Register,{})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_router_dist[\"b\" /* Route */],{path:\"/*\",element:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(RequireAuth,{children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(DashboardLayout,{children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(react_router_dist[\"d\" /* Routes */],{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_router_dist[\"b\" /* Route */],{path:\"/\",element:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(DashboardHome_DashboardHome,{})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_router_dist[\"b\" /* Route */],{path:\"/students\",element:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Students,{})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_router_dist[\"b\" /* Route */],{path:\"/students/create\",element:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(StudentCreate,{})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_router_dist[\"b\" /* Route */],{path:\"/students/:id\",element:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(StudentProfile_StudentProfile,{})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_router_dist[\"b\" /* Route */],{path:\"/students/:id/edit\",element:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(StudentEdit,{})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_router_dist[\"b\" /* Route */],{path:\"/teachers\",element:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Teachers,{})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_router_dist[\"b\" /* Route */],{path:\"/teachers/create\",element:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(TeacherCreate,{})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_router_dist[\"b\" /* Route */],{path:\"/teachers/:id\",element:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(TeacherProfile_TeacherProfile,{})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_router_dist[\"b\" /* Route */],{path:\"/teachers/:id/edit\",element:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(TeacherEdit,{})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_router_dist[\"b\" /* Route */],{path:\"/admin\",element:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Admins,{})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_router_dist[\"b\" /* Route */],{path:\"/admin/create\",element:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(AdminCreate,{})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_router_dist[\"b\" /* Route */],{path:\"/admin/:id\",element:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(AdminProfile_AdminProfile,{})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_router_dist[\"b\" /* Route */],{path:\"/admin/:id/edit\",element:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(AdminEdit,{})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_router_dist[\"b\" /* Route */],{path:\"/timetable\",element:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Timetable,{})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_router_dist[\"b\" /* Route */],{path:\"/subjects\",element:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Subjects,{})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_router_dist[\"b\" /* Route */],{path:\"*\",element:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_router_dist[\"a\" /* Navigate */],{to:\"/\",replace:true})})]})})})})]})})})})});}/* harmony default export */ var src_App = (App_App);\n// CONCATENATED MODULE: ./src/index.js\nconst root=client_default.a.createRoot(document.getElementById('root'));root.render(/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(src_App,{}));\n\n/***/ })\n],[[47,1,2]]]);","inputSourceMap":null}