{"ast":null,"code":"// Centralized API configuration - uses direct backend URL\n// All API calls use: getApiUrl() + getAuthHeaders(token) + fetch()\n\n// Helper function to get API URL\nexport function getApiUrl(path) {\n  const cleanPath = path.startsWith('/') ? path : `/${path}`;\n  const isProduction = process.env.NODE_ENV === 'production';\n\n  // In production (Netlify), use proxy to avoid SSL certificate issues\n  // The proxy function uses HTTP to connect to backend (no SSL check)\n  if (isProduction) {\n    // Use Netlify function proxy (bypasses SSL cert issues)\n    // Proxy is configured in netlify.toml to route /api/* to the function\n    // The proxy function will make HTTP request to backend\n    return `/api${cleanPath}`;\n  }\n\n  // In development, always use HTTP directly (works perfectly locally)\n  // DO NOT CHANGE THIS - local development works with HTTP\n  const baseUrl = process.env.REACT_APP_API_BASE_URL || 'http://4.198.16.72.nip.io';\n  return `${baseUrl}${cleanPath}`;\n}\n\n// Returns array with direct URL (for backward compatibility)\nexport function getApiUrls(path) {\n  return [getApiUrl(path)];\n}\n\n// Helper function to get headers with required Bearer token\nexport function getAuthHeaders(token) {\n  if (!token) {\n    throw new Error('Authentication token is required. Please log in again.');\n  }\n  return {\n    'Accept': 'application/json',\n    'Content-Type': 'application/json',\n    'Authorization': `Bearer ${token}`\n  };\n}\n\n// Helper function for public asset URLs\nexport function publicAsset(path) {\n  const base = process.env.PUBLIC_URL || '';\n  const cleanBase = base.replace(/\\/$/, '');\n  const cleanPath = path.startsWith('/') ? path : `/${path}`;\n  return `${cleanBase}${cleanPath}`;\n}","map":{"version":3,"names":["getApiUrl","path","cleanPath","startsWith","isProduction","process","env","NODE_ENV","baseUrl","REACT_APP_API_BASE_URL","getApiUrls","getAuthHeaders","token","Error","publicAsset","base","PUBLIC_URL","cleanBase","replace"],"sources":["/Users/nalinr/MidlandAdmin/schooladmin/src/config.js"],"sourcesContent":["// Centralized API configuration - uses direct backend URL\n// All API calls use: getApiUrl() + getAuthHeaders(token) + fetch()\n\n// Helper function to get API URL\nexport function getApiUrl(path) {\n  const cleanPath = path.startsWith('/') ? path : `/${path}`;\n  const isProduction = process.env.NODE_ENV === 'production';\n  \n  // In production (Netlify), use proxy to avoid SSL certificate issues\n  // The proxy function uses HTTP to connect to backend (no SSL check)\n  if (isProduction) {\n    // Use Netlify function proxy (bypasses SSL cert issues)\n    // Proxy is configured in netlify.toml to route /api/* to the function\n    // The proxy function will make HTTP request to backend\n    return `/api${cleanPath}`;\n  }\n  \n  // In development, always use HTTP directly (works perfectly locally)\n  // DO NOT CHANGE THIS - local development works with HTTP\n  const baseUrl = process.env.REACT_APP_API_BASE_URL || 'http://4.198.16.72.nip.io';\n  return `${baseUrl}${cleanPath}`;\n}\n\n// Returns array with direct URL (for backward compatibility)\nexport function getApiUrls(path) {\n  return [getApiUrl(path)];\n}\n\n// Helper function to get headers with required Bearer token\nexport function getAuthHeaders(token) {\n  if (!token) {\n    throw new Error('Authentication token is required. Please log in again.');\n  }\n  return {\n    'Accept': 'application/json',\n    'Content-Type': 'application/json',\n    'Authorization': `Bearer ${token}`\n  };\n}\n\n// Helper function for public asset URLs\nexport function publicAsset(path) {\n  const base = process.env.PUBLIC_URL || '';\n  const cleanBase = base.replace(/\\/$/, '');\n  const cleanPath = path.startsWith('/') ? path : `/${path}`;\n  return `${cleanBase}${cleanPath}`;\n}\n\n"],"mappings":"AAAA;AACA;;AAEA;AACA,OAAO,SAASA,SAASA,CAACC,IAAI,EAAE;EAC9B,MAAMC,SAAS,GAAGD,IAAI,CAACE,UAAU,CAAC,GAAG,CAAC,GAAGF,IAAI,GAAG,IAAIA,IAAI,EAAE;EAC1D,MAAMG,YAAY,GAAGC,OAAO,CAACC,GAAG,CAACC,QAAQ,KAAK,YAAY;;EAE1D;EACA;EACA,IAAIH,YAAY,EAAE;IAChB;IACA;IACA;IACA,OAAO,OAAOF,SAAS,EAAE;EAC3B;;EAEA;EACA;EACA,MAAMM,OAAO,GAAGH,OAAO,CAACC,GAAG,CAACG,sBAAsB,IAAI,2BAA2B;EACjF,OAAO,GAAGD,OAAO,GAAGN,SAAS,EAAE;AACjC;;AAEA;AACA,OAAO,SAASQ,UAAUA,CAACT,IAAI,EAAE;EAC/B,OAAO,CAACD,SAAS,CAACC,IAAI,CAAC,CAAC;AAC1B;;AAEA;AACA,OAAO,SAASU,cAAcA,CAACC,KAAK,EAAE;EACpC,IAAI,CAACA,KAAK,EAAE;IACV,MAAM,IAAIC,KAAK,CAAC,wDAAwD,CAAC;EAC3E;EACA,OAAO;IACL,QAAQ,EAAE,kBAAkB;IAC5B,cAAc,EAAE,kBAAkB;IAClC,eAAe,EAAE,UAAUD,KAAK;EAClC,CAAC;AACH;;AAEA;AACA,OAAO,SAASE,WAAWA,CAACb,IAAI,EAAE;EAChC,MAAMc,IAAI,GAAGV,OAAO,CAACC,GAAG,CAACU,UAAU,IAAI,EAAE;EACzC,MAAMC,SAAS,GAAGF,IAAI,CAACG,OAAO,CAAC,KAAK,EAAE,EAAE,CAAC;EACzC,MAAMhB,SAAS,GAAGD,IAAI,CAACE,UAAU,CAAC,GAAG,CAAC,GAAGF,IAAI,GAAG,IAAIA,IAAI,EAAE;EAC1D,OAAO,GAAGgB,SAAS,GAAGf,SAAS,EAAE;AACnC","ignoreList":[]},"metadata":{},"sourceType":"module"}